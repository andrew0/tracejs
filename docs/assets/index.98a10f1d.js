var e=Object.assign;!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(n){const o=new URL(e,location),r=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,i)=>{const s=new URL(e,o);if(self[t].moduleMap[s])return n(self[t].moduleMap[s]);const l=new Blob([`import * as m from '${s}';`,`${t}.moduleMap['${s}']=m;`],{type:"text/javascript"}),a=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(l),onerror(){i(new Error(`Failed to import: ${e}`)),r(a)},onload(){n(self[t].moduleMap[s]),r(a)}});document.head.appendChild(a)})),self[t].moduleMap={}}}("/tracejs/assets/");function t(e,t){const n=Object.create(null),o=e.split(",");for(let r=0;r<o.length;r++)n[o[r]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const n=t("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl"),o=t("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function r(e){if(P(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],i=r(q(o)?l(o):o);if(i)for(const e in i)t[e]=i[e]}return t}if(E(e))return e}const i=/;(?![^(]*\))/g,s=/:(.+)/;function l(e){const t={};return e.split(i).forEach((e=>{if(e){const n=e.split(s);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function a(e){let t="";if(q(e))t=e;else if(P(e))for(let n=0;n<e.length;n++)t+=a(e[n])+" ";else if(E(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function c(e,t){if(e===t)return!0;let n=w(e),o=w(t);if(n||o)return!(!n||!o)&&e.getTime()===t.getTime();if(n=P(e),o=P(t),n||o)return!(!n||!o)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=c(e[o],t[o]);return n}(e,t);if(n=E(e),o=E(t),n||o){if(!n||!o)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const o=e.hasOwnProperty(n),r=t.hasOwnProperty(n);if(o&&!r||!o&&r||!c(e[n],t[n]))return!1}}return String(e)===String(t)}function h(e,t){return e.findIndex((e=>c(e,t)))}const u=e=>null==e?"":E(e)?JSON.stringify(e,p,2):String(e),p=(e,t)=>C(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:N(t)?{[`Set(${t.size})`]:[...t.values()]}:!E(t)||P(t)||D(t)?t:String(t),f={},d=[],m=()=>{},g=()=>!1,b=/^on[^a-z]/,y=e=>b.test(e),v=e=>e.startsWith("onUpdate:"),_=Object.assign,S=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},A=Object.prototype.hasOwnProperty,x=(e,t)=>A.call(e,t),P=Array.isArray,C=e=>"[object Map]"===I(e),N=e=>"[object Set]"===I(e),w=e=>e instanceof Date,O=e=>"function"==typeof e,q=e=>"string"==typeof e,T=e=>"symbol"==typeof e,E=e=>null!==e&&"object"==typeof e,L=e=>E(e)&&O(e.then)&&O(e.catch),F=Object.prototype.toString,I=e=>F.call(e),D=e=>"[object Object]"===I(e),R=e=>q(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,M=t(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),k=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},V=/-(\w)/g,j=k((e=>e.replace(V,((e,t)=>t?t.toUpperCase():"")))),W=/\B([A-Z])/g,B=k((e=>e.replace(W,"-$1").toLowerCase())),U=k((e=>e.charAt(0).toUpperCase()+e.slice(1))),$=k((e=>e?`on${U(e)}`:"")),H=(e,t)=>e!==t&&(e==e||t==t),X=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},z=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},G=e=>{const t=parseFloat(e);return isNaN(t)?e:t},J=new WeakMap,K=[];let Z;const Y=Symbol(""),Q=Symbol("");function ee(e,t=f){(function(e){return e&&!0===e._isEffect})(e)&&(e=e.raw);const n=function(e,t){const n=function(){if(!n.active)return t.scheduler?void 0:e();if(!K.includes(n)){oe(n);try{return ie.push(re),re=!0,K.push(n),Z=n,e()}finally{K.pop(),le(),Z=K[K.length-1]}}};return n.id=ne++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}(e,t);return t.lazy||n(),n}function te(e){e.active&&(oe(e),e.options.onStop&&e.options.onStop(),e.active=!1)}let ne=0;function oe(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let re=!0;const ie=[];function se(){ie.push(re),re=!1}function le(){const e=ie.pop();re=void 0===e||e}function ae(e,t,n){if(!re||void 0===Z)return;let o=J.get(e);o||J.set(e,o=new Map);let r=o.get(n);r||o.set(n,r=new Set),r.has(Z)||(r.add(Z),Z.deps.push(r))}function ce(e,t,n,o,r,i){const s=J.get(e);if(!s)return;const l=new Set,a=e=>{e&&e.forEach((e=>{(e!==Z||e.allowRecurse)&&l.add(e)}))};if("clear"===t)s.forEach(a);else if("length"===n&&P(e))s.forEach(((e,t)=>{("length"===t||t>=o)&&a(e)}));else switch(void 0!==n&&a(s.get(n)),t){case"add":P(e)?R(n)&&a(s.get("length")):(a(s.get(Y)),C(e)&&a(s.get(Q)));break;case"delete":P(e)||(a(s.get(Y)),C(e)&&a(s.get(Q)));break;case"set":C(e)&&a(s.get(Y))}l.forEach((e=>{e.options.scheduler?e.options.scheduler(e):e()}))}const he=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(T)),ue=ge(),pe=ge(!1,!0),fe=ge(!0),de=ge(!0,!0),me={};function ge(e=!1,t=!1){return function(n,o,r){if("__v_isReactive"===o)return!e;if("__v_isReadonly"===o)return e;if("__v_raw"===o&&r===(e?Ue:Be).get(n))return n;const i=P(n);if(!e&&i&&x(me,o))return Reflect.get(me,o,r);const s=Reflect.get(n,o,r);if(T(o)?he.has(o):"__proto__"===o||"__v_isRef"===o)return s;if(e||ae(n,0,o),t)return s;if(Qe(s)){return!i||!R(o)?s.value:s}return E(s)?e?Xe(s):He(s):s}}["includes","indexOf","lastIndexOf"].forEach((e=>{const t=Array.prototype[e];me[e]=function(...e){const n=Ze(this);for(let t=0,r=this.length;t<r;t++)ae(n,0,t+"");const o=t.apply(n,e);return-1===o||!1===o?t.apply(n,e.map(Ze)):o}})),["push","pop","shift","unshift","splice"].forEach((e=>{const t=Array.prototype[e];me[e]=function(...e){se();const n=t.apply(this,e);return le(),n}}));function be(e=!1){return function(t,n,o,r){const i=t[n];if(!e&&(o=Ze(o),!P(t)&&Qe(i)&&!Qe(o)))return i.value=o,!0;const s=P(t)&&R(n)?Number(n)<t.length:x(t,n),l=Reflect.set(t,n,o,r);return t===Ze(r)&&(s?H(o,i)&&ce(t,"set",n,o):ce(t,"add",n,o)),l}}const ye={get:ue,set:be(),deleteProperty:function(e,t){const n=x(e,t);e[t];const o=Reflect.deleteProperty(e,t);return o&&n&&ce(e,"delete",t,void 0),o},has:function(e,t){const n=Reflect.has(e,t);return T(t)&&he.has(t)||ae(e,0,t),n},ownKeys:function(e){return ae(e,0,P(e)?"length":Y),Reflect.ownKeys(e)}},ve={get:fe,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},_e=_({},ye,{get:pe,set:be(!0)});_({},ve,{get:de});const Se=e=>E(e)?He(e):e,Ae=e=>E(e)?Xe(e):e,xe=e=>e,Pe=e=>Reflect.getPrototypeOf(e);function Ce(e,t,n=!1,o=!1){const r=Ze(e=e.__v_raw),i=Ze(t);t!==i&&!n&&ae(r,0,t),!n&&ae(r,0,i);const{has:s}=Pe(r),l=n?Ae:o?xe:Se;return s.call(r,t)?l(e.get(t)):s.call(r,i)?l(e.get(i)):void 0}function Ne(e,t=!1){const n=this.__v_raw,o=Ze(n),r=Ze(e);return e!==r&&!t&&ae(o,0,e),!t&&ae(o,0,r),e===r?n.has(e):n.has(e)||n.has(r)}function we(e,t=!1){return e=e.__v_raw,!t&&ae(Ze(e),0,Y),Reflect.get(e,"size",e)}function Oe(e){e=Ze(e);const t=Ze(this),n=Pe(t).has.call(t,e);return t.add(e),n||ce(t,"add",e,e),this}function qe(e,t){t=Ze(t);const n=Ze(this),{has:o,get:r}=Pe(n);let i=o.call(n,e);i||(e=Ze(e),i=o.call(n,e));const s=r.call(n,e);return n.set(e,t),i?H(t,s)&&ce(n,"set",e,t):ce(n,"add",e,t),this}function Te(e){const t=Ze(this),{has:n,get:o}=Pe(t);let r=n.call(t,e);r||(e=Ze(e),r=n.call(t,e)),o&&o.call(t,e);const i=t.delete(e);return r&&ce(t,"delete",e,void 0),i}function Ee(){const e=Ze(this),t=0!==e.size,n=e.clear();return t&&ce(e,"clear",void 0,void 0),n}function Le(e,t){return function(n,o){const r=this,i=r.__v_raw,s=Ze(i),l=e?Ae:t?xe:Se;return!e&&ae(s,0,Y),i.forEach(((e,t)=>n.call(o,l(e),l(t),r)))}}function Fe(e,t,n){return function(...o){const r=this.__v_raw,i=Ze(r),s=C(i),l="entries"===e||e===Symbol.iterator&&s,a="keys"===e&&s,c=r[e](...o),h=t?Ae:n?xe:Se;return!t&&ae(i,0,a?Q:Y),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:l?[h(e[0]),h(e[1])]:h(e),done:t}},[Symbol.iterator](){return this}}}}function Ie(e){return function(...t){return"delete"!==e&&this}}const De={get(e){return Ce(this,e)},get size(){return we(this)},has:Ne,add:Oe,set:qe,delete:Te,clear:Ee,forEach:Le(!1,!1)},Re={get(e){return Ce(this,e,!1,!0)},get size(){return we(this)},has:Ne,add:Oe,set:qe,delete:Te,clear:Ee,forEach:Le(!1,!0)},Me={get(e){return Ce(this,e,!0)},get size(){return we(this,!0)},has(e){return Ne.call(this,e,!0)},add:Ie("add"),set:Ie("set"),delete:Ie("delete"),clear:Ie("clear"),forEach:Le(!0,!1)};function ke(e,t){const n=t?Re:e?Me:De;return(t,o,r)=>"__v_isReactive"===o?!e:"__v_isReadonly"===o?e:"__v_raw"===o?t:Reflect.get(x(n,o)&&o in t?n:t,o,r)}["keys","values","entries",Symbol.iterator].forEach((e=>{De[e]=Fe(e,!1,!1),Me[e]=Fe(e,!0,!1),Re[e]=Fe(e,!1,!0)}));const Ve={get:ke(!1,!1)},je={get:ke(!1,!0)},We={get:ke(!0,!1)},Be=new WeakMap,Ue=new WeakMap;function $e(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>I(e).slice(8,-1))(e))}function He(e){return e&&e.__v_isReadonly?e:ze(e,!1,ye,Ve)}function Xe(e){return ze(e,!0,ve,We)}function ze(e,t,n,o){if(!E(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const r=t?Ue:Be,i=r.get(e);if(i)return i;const s=$e(e);if(0===s)return e;const l=new Proxy(e,2===s?o:n);return r.set(e,l),l}function Ge(e){return Je(e)?Ge(e.__v_raw):!(!e||!e.__v_isReactive)}function Je(e){return!(!e||!e.__v_isReadonly)}function Ke(e){return Ge(e)||Je(e)}function Ze(e){return e&&Ze(e.__v_raw)||e}const Ye=e=>E(e)?He(e):e;function Qe(e){return Boolean(e&&!0===e.__v_isRef)}function et(e){return function(e,t=!1){if(Qe(e))return e;return new tt(e,t)}(e)}class tt{constructor(e,t=!1){this._rawValue=e,this._shallow=t,this.__v_isRef=!0,this._value=t?e:Ye(e)}get value(){return ae(Ze(this),0,"value"),this._value}set value(e){H(Ze(e),this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:Ye(e),ce(Ze(this),"set","value",e))}}const nt={get:(e,t,n)=>{return Qe(o=Reflect.get(e,t,n))?o.value:o;var o},set:(e,t,n,o)=>{const r=e[t];return Qe(r)&&!Qe(n)?(r.value=n,!0):Reflect.set(e,t,n,o)}};function ot(e){return Ge(e)?e:new Proxy(e,nt)}class rt{constructor(e,t){this._object=e,this._key=t,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(e){this._object[this._key]=e}}class it{constructor(e,t,n){this._setter=t,this._dirty=!0,this.__v_isRef=!0,this.effect=ee(e,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,ce(Ze(this),"set","value"))}}),this.__v_isReadonly=n}get value(){return this._dirty&&(this._value=this.effect(),this._dirty=!1),ae(Ze(this),0,"value"),this._value}set value(e){this._setter(e)}}function st(e,t,n,o){let r;try{r=o?e(...o):e()}catch(i){at(i,t,n)}return r}function lt(e,t,n,o){if(O(e)){const r=st(e,t,n,o);return r&&L(r)&&r.catch((e=>{at(e,t,n)})),r}const r=[];for(let i=0;i<e.length;i++)r.push(lt(e[i],t,n,o));return r}function at(e,t,n,o=!0){t&&t.vnode;if(t){let o=t.parent;const r=t.proxy,i=n;for(;o;){const t=o.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,r,i))return;o=o.parent}const s=t.appContext.config.errorHandler;if(s)return void st(s,null,10,[e,r,i])}!function(e,t,n,o=!0){console.error(e)}(e,0,0,o)}let ct=!1,ht=!1;const ut=[];let pt=0;const ft=[];let dt=null,mt=0;const gt=[];let bt=null,yt=0;const vt=Promise.resolve();let _t=null,St=null;function At(e){const t=_t||vt;return e?t.then(this?e.bind(this):e):t}function xt(e){ut.length&&ut.includes(e,ct&&e.allowRecurse?pt+1:pt)||e===St||(ut.push(e),Pt())}function Pt(){ct||ht||(ht=!0,_t=vt.then(Tt))}function Ct(e,t,n,o){P(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?o+1:o)||n.push(e),Pt()}function Nt(e){Ct(e,bt,gt,yt)}function wt(e,t=null){if(ft.length){for(St=t,dt=[...new Set(ft)],ft.length=0,mt=0;mt<dt.length;mt++)dt[mt]();dt=null,mt=0,St=null,wt(e,t)}}function Ot(e){if(gt.length){const e=[...new Set(gt)];if(gt.length=0,bt)return void bt.push(...e);for(bt=e,bt.sort(((e,t)=>qt(e)-qt(t))),yt=0;yt<bt.length;yt++)bt[yt]();bt=null,yt=0}}const qt=e=>null==e.id?1/0:e.id;function Tt(e){ht=!1,ct=!0,wt(e),ut.sort(((e,t)=>qt(e)-qt(t)));try{for(pt=0;pt<ut.length;pt++){const e=ut[pt];e&&st(e,null,14)}}finally{pt=0,ut.length=0,Ot(),ct=!1,_t=null,(ut.length||gt.length)&&Tt(e)}}function Et(e,t,...n){const o=e.vnode.props||f;let r=n;const i=t.startsWith("update:"),s=i&&t.slice(7);if(s&&s in o){const e=`${"modelValue"===s?"model":s}Modifiers`,{number:t,trim:i}=o[e]||f;i?r=n.map((e=>e.trim())):t&&(r=n.map(G))}let l=$(j(t)),a=o[l];!a&&i&&(l=$(B(t)),a=o[l]),a&&lt(a,e,6,r);const c=o[l+"Once"];if(c){if(e.emitted){if(e.emitted[l])return}else(e.emitted={})[l]=!0;lt(c,e,6,r)}}function Lt(e,t,n=!1){if(!t.deopt&&void 0!==e.__emits)return e.__emits;const o=e.emits;let r={},i=!1;if(!O(e)){const o=e=>{i=!0,_(r,Lt(e,t,!0))};!n&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}return o||i?(P(o)?o.forEach((e=>r[e]=null)):_(r,o),e.__emits=r):e.__emits=null}function Ft(e,t){return!(!e||!y(t))&&(t=t.slice(2).replace(/Once$/,""),x(e,t[0].toLowerCase()+t.slice(1))||x(e,B(t))||x(e,t))}let It=null;function Dt(e){It=e}function Rt(e){const{type:t,vnode:n,proxy:o,withProxy:r,props:i,propsOptions:[s],slots:l,attrs:a,emit:c,render:h,renderCache:u,data:p,setupState:f,ctx:d}=e;let m;It=e;try{let e;if(4&n.shapeFlag){const t=r||o;m=yo(h.call(t,t,u,i,f,p,d)),e=a}else{const n=t;0,m=yo(n.length>1?n(i,{attrs:a,slots:l,emit:c}):n(i,null)),e=t.props?a:kt(a)}let g=m;if(!1!==t.inheritAttrs&&e){const t=Object.keys(e),{shapeFlag:n}=g;t.length&&(1&n||6&n)&&(s&&t.some(v)&&(e=Vt(e,s)),g=mo(g,e))}n.dirs&&(g.dirs=g.dirs?g.dirs.concat(n.dirs):n.dirs),n.transition&&(g.transition=n.transition),m=g}catch(g){at(g,e,1),m=fo(to)}return It=null,m}function Mt(e){let t;for(let n=0;n<e.length;n++){const o=e[n];if(!ao(o))return;if(o.type!==to||"v-if"===o.children){if(t)return;t=o}}return t}const kt=e=>{let t;for(const n in e)("class"===n||"style"===n||y(n))&&((t||(t={}))[n]=e[n]);return t},Vt=(e,t)=>{const n={};for(const o in e)v(o)&&o.slice(9)in t||(n[o]=e[o]);return n};function jt(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const i=o[r];if(t[i]!==e[i]&&!Ft(n,i))return!0}return!1}function Wt({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Bt={__isSuspense:!0,process(e,t,n,o,r,i,s,l,a){null==e?function(e,t,n,o,r,i,s,l){const{p:a,o:{createElement:c}}=l,h=c("div"),u=e.suspense=Ut(e,r,o,t,h,n,i,s,l);a(null,u.pendingBranch=e.ssContent,h,null,o,u,i),u.deps>0?(a(null,e.ssFallback,t,n,o,null,i),Ht(u,e.ssFallback)):u.resolve()}(t,n,o,r,i,s,l,a):function(e,t,n,o,r,i,{p:s,um:l,o:{createElement:a}}){const c=t.suspense=e.suspense;c.vnode=t,t.el=e.el;const h=t.ssContent,u=t.ssFallback,{activeBranch:p,pendingBranch:f,isInFallback:d,isHydrating:m}=c;if(f)c.pendingBranch=h,co(h,f)?(s(f,h,c.hiddenContainer,null,r,c,i),c.deps<=0?c.resolve():d&&(s(p,u,n,o,r,null,i),Ht(c,u))):(c.pendingId++,m?(c.isHydrating=!1,c.activeBranch=f):l(f,r,c),c.deps=0,c.effects.length=0,c.hiddenContainer=a("div"),d?(s(null,h,c.hiddenContainer,null,r,c,i),c.deps<=0?c.resolve():(s(p,u,n,o,r,null,i),Ht(c,u))):p&&co(h,p)?(s(p,h,n,o,r,c,i),c.resolve(!0)):(s(null,h,c.hiddenContainer,null,r,c,i),c.deps<=0&&c.resolve()));else if(p&&co(h,p))s(p,h,n,o,r,c,i),Ht(c,h);else{const e=t.props&&t.props.onPending;if(O(e)&&e(),c.pendingBranch=h,c.pendingId++,s(null,h,c.hiddenContainer,null,r,c,i),c.deps<=0)c.resolve();else{const{timeout:e,pendingId:t}=c;e>0?setTimeout((()=>{c.pendingId===t&&c.fallback(u)}),e):0===e&&c.fallback(u)}}}(e,t,n,o,r,s,a)},hydrate:function(e,t,n,o,r,i,s,l){const a=t.suspense=Ut(t,o,n,e.parentNode,document.createElement("div"),null,r,i,s,!0),c=l(e,a.pendingBranch=t.ssContent,n,a,i);0===a.deps&&a.resolve();return c},create:Ut};function Ut(e,t,n,o,r,i,s,l,a,c=!1){const{p:h,m:u,um:p,n:f,o:{parentNode:d,remove:m}}=a,g=G(e.props&&e.props.timeout),b={vnode:e,parent:t,parentComponent:n,isSVG:s,container:o,hiddenContainer:r,anchor:i,deps:0,pendingId:0,timeout:"number"==typeof g?g:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:c,isUnmounted:!1,effects:[],resolve(e=!1){const{vnode:t,activeBranch:n,pendingBranch:o,pendingId:r,effects:i,parentComponent:s,container:l}=b;if(b.isHydrating)b.isHydrating=!1;else if(!e){const e=n&&o.transition&&"out-in"===o.transition.mode;e&&(n.transition.afterLeave=()=>{r===b.pendingId&&u(o,l,t,0)});let{anchor:t}=b;n&&(t=f(n),p(n,s,b,!0)),e||u(o,l,t,0)}Ht(b,o),b.pendingBranch=null,b.isInFallback=!1;let a=b.parent,c=!1;for(;a;){if(a.pendingBranch){a.effects.push(...i),c=!0;break}a=a.parent}c||Nt(i),b.effects=[];const h=t.props&&t.props.onResolve;O(h)&&h()},fallback(e){if(!b.pendingBranch)return;const{vnode:t,activeBranch:n,parentComponent:o,container:r,isSVG:i}=b,s=t.props&&t.props.onFallback;O(s)&&s();const l=f(n),a=()=>{b.isInFallback&&(h(null,e,r,l,o,null,i),Ht(b,e))},c=e.transition&&"out-in"===e.transition.mode;c&&(n.transition.afterLeave=a),p(n,o,null,!0),b.isInFallback=!0,c||a()},move(e,t,n){b.activeBranch&&u(b.activeBranch,e,t,n),b.container=e},next:()=>b.activeBranch&&f(b.activeBranch),registerDep(e,t){const n=!!b.pendingBranch;n&&b.deps++;const o=e.vnode.el;e.asyncDep.catch((t=>{at(t,e,0)})).then((r=>{if(e.isUnmounted||b.isUnmounted||b.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:i}=e;Wo(e,r),o&&(i.el=o);const a=!o&&e.subTree.el;t(e,i,d(o||e.subTree.el),o?null:f(e.subTree),b,s,l),a&&m(a),Wt(e,i.el),n&&0==--b.deps&&b.resolve()}))},unmount(e,t){b.isUnmounted=!0,b.activeBranch&&p(b.activeBranch,n,e,t),b.pendingBranch&&p(b.pendingBranch,n,e,t)}};return b}function $t(e){if(O(e)&&(e=e()),P(e)){e=Mt(e)}return yo(e)}function Ht(e,t){e.activeBranch=t;const{vnode:n,parentComponent:o}=e,r=n.el=t.el;o&&o.subTree===n&&(o.vnode.el=r,Wt(o,r))}let Xt=0;const zt=e=>Xt+=e;function Gt(e,t=It){if(!t)return e;const n=(...n)=>{Xt||io(!0);const o=It;Dt(t);const r=e(...n);return Dt(o),Xt||so(),r};return n._c=!0,n}let Jt=null;const Kt=[];function Zt(e){Kt.push(Jt=e)}function Yt(){Kt.pop(),Jt=Kt[Kt.length-1]||null}function Qt(e){return t=>Gt((function(){Zt(e);const n=t.apply(this,arguments);return Yt(),n}))}function en(e,t,n,o=!1){const r={},i={};z(i,ho,1),tn(e,t,r,i),n?e.props=o?r:ze(r,!1,_e,je):e.type.props?e.props=r:e.props=i,e.attrs=i}function tn(e,t,n,o){const[r,i]=e.propsOptions;if(t)for(const s in t){const i=t[s];if(M(s))continue;let l;r&&x(r,l=j(s))?n[l]=i:Ft(e.emitsOptions,s)||(o[s]=i)}if(i){const t=Ze(n);for(let o=0;o<i.length;o++){const s=i[o];n[s]=nn(r,t,s,t[s],e)}}}function nn(e,t,n,o,r){const i=e[n];if(null!=i){const e=x(i,"default");if(e&&void 0===o){const e=i.default;i.type!==Function&&O(e)?(Vo(r),o=e(t),Vo(null)):o=e}i[0]&&(x(t,n)||e?!i[1]||""!==o&&o!==B(n)||(o=!0):o=!1)}return o}function on(e,t,n=!1){if(!t.deopt&&e.__props)return e.__props;const o=e.props,r={},i=[];let s=!1;if(!O(e)){const o=e=>{s=!0;const[n,o]=on(e,t,!0);_(r,n),o&&i.push(...o)};!n&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}if(!o&&!s)return e.__props=d;if(P(o))for(let l=0;l<o.length;l++){const e=j(o[l]);rn(e)&&(r[e]=f)}else if(o)for(const l in o){const e=j(l);if(rn(e)){const t=o[l],n=r[e]=P(t)||O(t)?{type:t}:t;if(n){const t=an(Boolean,n.type),o=an(String,n.type);n[0]=t>-1,n[1]=o<0||t<o,(t>-1||x(n,"default"))&&i.push(e)}}}return e.__props=[r,i]}function rn(e){return"$"!==e[0]}function sn(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function ln(e,t){return sn(e)===sn(t)}function an(e,t){if(P(t)){for(let n=0,o=t.length;n<o;n++)if(ln(t[n],e))return n}else if(O(t))return ln(t,e)?0:-1;return-1}function cn(e,t,n=ko,o=!1){if(n){const r=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;se(),Vo(n);const r=lt(t,n,e,o);return Vo(null),le(),r});return o?r.unshift(i):r.push(i),i}}const hn=e=>(t,n=ko)=>!jo&&cn(e,t,n),un=hn("bm"),pn=hn("m"),fn=hn("bu"),dn=hn("u"),mn=hn("bum"),gn=hn("um"),bn=hn("rtg"),yn=hn("rtc");function vn(e,t){return An(e,null,t)}const _n={};function Sn(e,t,n){return An(e,t,n)}function An(e,t,{immediate:n,deep:o,flush:r,onTrack:i,onTrigger:s}=f,l=ko){let a,c,h=!1;if(Qe(e)?(a=()=>e.value,h=!!e._shallow):Ge(e)?(a=()=>e,o=!0):a=P(e)?()=>e.map((e=>Qe(e)?e.value:Ge(e)?Pn(e):O(e)?st(e,l,2):void 0)):O(e)?t?()=>st(e,l,2):()=>{if(!l||!l.isUnmounted)return c&&c(),st(e,l,3,[u])}:m,t&&o){const e=a;a=()=>Pn(e())}const u=e=>{c=b.options.onStop=()=>{st(e,l,4)}};let p=P(e)?[]:_n;const d=()=>{if(b.active)if(t){const e=b();(o||h||H(e,p))&&(c&&c(),lt(t,l,3,[e,p===_n?void 0:p,u]),p=e)}else b()};let g;d.allowRecurse=!!t,g="sync"===r?d:"post"===r?()=>Bn(d,l&&l.suspense):()=>{!l||l.isMounted?function(e){Ct(e,dt,ft,mt)}(d):d()};const b=ee(a,{lazy:!0,onTrack:i,onTrigger:s,scheduler:g});return Uo(b,l),t?n?d():p=b():"post"===r?Bn(b,l&&l.suspense):b(),()=>{te(b),l&&S(l.effects,b)}}function xn(e,t,n){const o=this.proxy;return An(q(e)?()=>o[e]:e.bind(o),t.bind(o),n,this)}function Pn(e,t=new Set){if(!E(e)||t.has(e))return e;if(t.add(e),Qe(e))Pn(e.value,t);else if(P(e))for(let n=0;n<e.length;n++)Pn(e[n],t);else if(N(e)||C(e))e.forEach((e=>{Pn(e,t)}));else for(const n in e)Pn(e[n],t);return e}const Cn=e=>e.type.__isKeepAlive;function Nn(e,t,n=ko){const o=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}e()});if(cn(t,o,n),n){let e=n.parent;for(;e&&e.parent;)Cn(e.parent.vnode)&&wn(o,t,n,e),e=e.parent}}function wn(e,t,n,o){const r=cn(t,e,o,!0);gn((()=>{S(o[t],r)}),n)}const On=e=>"_"===e[0]||"$stable"===e,qn=e=>P(e)?e.map(yo):[yo(e)],Tn=(e,t,n)=>Gt((e=>qn(t(e))),n),En=(e,t)=>{const n=e._ctx;for(const o in e){if(On(o))continue;const r=e[o];if(O(r))t[o]=Tn(0,r,n);else if(null!=r){const e=qn(r);t[o]=()=>e}}},Ln=(e,t)=>{const n=qn(t);e.slots.default=()=>n};function Fn(e,t){if(null===It)return e;const n=It.proxy,o=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[e,i,s,l=f]=t[r];O(e)&&(e={mounted:e,updated:e}),o.push({dir:e,instance:n,value:i,oldValue:void 0,arg:s,modifiers:l})}return e}function In(e,t,n,o){const r=e.dirs,i=t&&t.dirs;for(let s=0;s<r.length;s++){const l=r[s];i&&(l.oldValue=i[s].value);const a=l.dir[o];a&&lt(a,n,8,[e.el,l,e,t])}}function Dn(){return{app:null,config:{isNativeTag:g,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:g,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}let Rn=0;function Mn(e,t){return function(n,o=null){null==o||E(o)||(o=null);const r=Dn(),i=new Set;let s=!1;const l=r.app={_uid:Rn++,_component:n,_props:o,_container:null,_context:r,version:Go,get config(){return r.config},set config(e){},use:(e,...t)=>(i.has(e)||(e&&O(e.install)?(i.add(e),e.install(l,...t)):O(e)&&(i.add(e),e(l,...t))),l),mixin:e=>(r.mixins.includes(e)||(r.mixins.push(e),(e.props||e.emits)&&(r.deopt=!0)),l),component:(e,t)=>t?(r.components[e]=t,l):r.components[e],directive:(e,t)=>t?(r.directives[e]=t,l):r.directives[e],mount(i,a){if(!s){const c=fo(n,o);return c.appContext=r,a&&t?t(c,i):e(c,i),s=!0,l._container=i,i.__vue_app__=l,c.component.proxy}},unmount(){s&&e(null,l._container)},provide:(e,t)=>(r.provides[e]=t,l)};return l}}function kn(e){return O(e)?{setup:e,name:e.name}:e}function Vn(e){O(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:o,delay:r=200,timeout:i,suspensible:s=!0,onError:l}=e;let a,c=null,h=0;const u=()=>{let e;return c||(e=c=t().catch((e=>{if(e=e instanceof Error?e:new Error(String(e)),l)return new Promise(((t,n)=>{l(e,(()=>t((h++,c=null,u()))),(()=>n(e)),h+1)}));throw e})).then((t=>e!==c&&c?c:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),a=t,t))))};return kn({__asyncLoader:u,name:"AsyncComponentWrapper",setup(){const e=ko;if(a)return()=>jn(a,e);const t=t=>{c=null,at(t,e,13,!o)};if(s&&e.suspense)return u().then((t=>()=>jn(t,e))).catch((e=>(t(e),()=>o?fo(o,{error:e}):null)));const l=et(!1),h=et(),p=et(!!r);return r&&setTimeout((()=>{p.value=!1}),r),null!=i&&setTimeout((()=>{if(!l.value&&!h.value){const e=new Error(`Async component timed out after ${i}ms.`);t(e),h.value=e}}),i),u().then((()=>{l.value=!0})).catch((e=>{t(e),h.value=e})),()=>l.value&&a?jn(a,e):h.value&&o?fo(o,{error:h.value}):n&&!p.value?fo(n):void 0}})}function jn(e,{vnode:{ref:t,props:n,children:o}}){const r=fo(e,n,o);return r.ref=t,r}const Wn={scheduler:xt,allowRecurse:!0},Bn=function(e,t){t&&t.pendingBranch?P(e)?t.effects.push(...e):t.effects.push(e):Nt(e)},Un=(e,t,n,o)=>{if(P(e))return void e.forEach(((e,r)=>Un(e,t&&(P(t)?t[r]:t),n,o)));let r;r=!o||o.type.__asyncLoader?null:4&o.shapeFlag?o.component.exposed||o.component.proxy:o.el;const{i:i,r:s}=e,l=t&&t.r,a=i.refs===f?i.refs={}:i.refs,c=i.setupState;if(null!=l&&l!==s&&(q(l)?(a[l]=null,x(c,l)&&(c[l]=null)):Qe(l)&&(l.value=null)),q(s)){const e=()=>{a[s]=r,x(c,s)&&(c[s]=r)};r?(e.id=-1,Bn(e,n)):e()}else if(Qe(s)){const e=()=>{s.value=r};r?(e.id=-1,Bn(e,n)):e()}else O(s)&&st(s,i,12,[r,a])};function $n(e){return function(e,t){const{insert:n,remove:o,patchProp:r,forcePatchProp:i,createElement:s,createText:l,createComment:a,setText:c,setElementText:h,parentNode:u,nextSibling:p,setScopeId:g=m,cloneNode:b,insertStaticContent:y}=e,v=(e,t,n,o=null,r=null,i=null,s=!1,l=!1)=>{e&&!co(e,t)&&(o=oe(e),K(e,r,i,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:a,ref:c,shapeFlag:h}=t;switch(a){case eo:S(e,t,n,o);break;case to:A(e,t,n,o);break;case no:null==e&&P(t,n,o,s);break;case Qn:D(e,t,n,o,r,i,s,l);break;default:1&h?w(e,t,n,o,r,i,s,l):6&h?R(e,t,n,o,r,i,s,l):(64&h||128&h)&&a.process(e,t,n,o,r,i,s,l,ie)}null!=c&&r&&Un(c,e&&e.ref,i,t)},S=(e,t,o,r)=>{if(null==e)n(t.el=l(t.children),o,r);else{const n=t.el=e.el;t.children!==e.children&&c(n,t.children)}},A=(e,t,o,r)=>{null==e?n(t.el=a(t.children||""),o,r):t.el=e.el},P=(e,t,n,o)=>{[e.el,e.anchor]=y(e.children,t,n,o)},C=({el:e,anchor:t},o,r)=>{let i;for(;e&&e!==t;)i=p(e),n(e,o,r),e=i;n(t,o,r)},N=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=p(e),o(e),e=n;o(t)},w=(e,t,n,o,r,i,s,l)=>{s=s||"svg"===t.type,null==e?O(t,n,o,r,i,s,l):E(e,t,r,i,s,l)},O=(e,t,o,i,l,a,c)=>{let u,p;const{type:f,props:d,shapeFlag:m,transition:g,scopeId:y,patchFlag:v,dirs:_}=e;if(e.el&&void 0!==b&&-1===v)u=e.el=b(e.el);else{if(u=e.el=s(e.type,a,d&&d.is),8&m?h(u,e.children):16&m&&T(e.children,u,null,i,l,a&&"foreignObject"!==f,c||!!e.dynamicChildren),_&&In(e,null,i,"created"),d){for(const t in d)M(t)||r(u,t,null,d[t],a,e.children,i,l,ne);(p=d.onVnodeBeforeMount)&&Hn(p,i,e)}q(u,y,e,i)}_&&In(e,null,i,"beforeMount");const S=(!l||l&&!l.pendingBranch)&&g&&!g.persisted;S&&g.beforeEnter(u),n(u,t,o),((p=d&&d.onVnodeMounted)||S||_)&&Bn((()=>{p&&Hn(p,i,e),S&&g.enter(u),_&&In(e,null,i,"mounted")}),l)},q=(e,t,n,o)=>{if(t&&g(e,t),o){const r=o.type.__scopeId;r&&r!==t&&g(e,r+"-s"),n===o.subTree&&q(e,o.vnode.scopeId,o.vnode,o.parent)}},T=(e,t,n,o,r,i,s,l=0)=>{for(let a=l;a<e.length;a++){const l=e[a]=s?vo(e[a]):yo(e[a]);v(null,l,t,n,o,r,i,s)}},E=(e,t,n,o,s,l)=>{const a=t.el=e.el;let{patchFlag:c,dynamicChildren:u,dirs:p}=t;c|=16&e.patchFlag;const d=e.props||f,m=t.props||f;let g;if((g=m.onVnodeBeforeUpdate)&&Hn(g,n,t,e),p&&In(t,e,n,"beforeUpdate"),c>0){if(16&c)I(a,t,d,m,n,o,s);else if(2&c&&d.class!==m.class&&r(a,"class",null,m.class,s),4&c&&r(a,"style",d.style,m.style,s),8&c){const l=t.dynamicProps;for(let t=0;t<l.length;t++){const c=l[t],h=d[c],u=m[c];(u!==h||i&&i(a,c))&&r(a,c,h,u,s,e.children,n,o,ne)}}1&c&&e.children!==t.children&&h(a,t.children)}else l||null!=u||I(a,t,d,m,n,o,s);const b=s&&"foreignObject"!==t.type;u?F(e.dynamicChildren,u,a,n,o,b):l||$(e,t,a,null,n,o,b),((g=m.onVnodeUpdated)||p)&&Bn((()=>{g&&Hn(g,n,t,e),p&&In(t,e,n,"updated")}),o)},F=(e,t,n,o,r,i)=>{for(let s=0;s<t.length;s++){const l=e[s],a=t[s],c=l.type===Qn||!co(l,a)||6&l.shapeFlag||64&l.shapeFlag?u(l.el):n;v(l,a,c,null,o,r,i,!0)}},I=(e,t,n,o,s,l,a)=>{if(n!==o){for(const c in o){if(M(c))continue;const h=o[c],u=n[c];(h!==u||i&&i(e,c))&&r(e,c,u,h,a,t.children,s,l,ne)}if(n!==f)for(const i in n)M(i)||i in o||r(e,i,n[i],null,a,t.children,s,l,ne)}},D=(e,t,o,r,i,s,a,c)=>{const h=t.el=e?e.el:l(""),u=t.anchor=e?e.anchor:l("");let{patchFlag:p,dynamicChildren:f}=t;p>0&&(c=!0),null==e?(n(h,o,r),n(u,o,r),T(t.children,o,u,i,s,a,c)):p>0&&64&p&&f&&e.dynamicChildren?(F(e.dynamicChildren,f,o,i,s,a),(null!=t.key||i&&t===i.subTree)&&Xn(e,t,!0)):$(e,t,o,u,i,s,a,c)},R=(e,t,n,o,r,i,s,l)=>{null==e?512&t.shapeFlag?r.ctx.activate(t,n,o,s,l):k(t,n,o,r,i,s,l):V(e,t,l)},k=(e,t,n,o,r,i,s)=>{const l=e.component=function(e,t,n){const o=e.type,r=(t?t.appContext:e.appContext)||Ro,i={uid:Mo++,vnode:e,type:o,parent:t,appContext:r,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:on(o,r),emitsOptions:Lt(o,r),emit:null,emitted:null,ctx:f,data:f,props:f,attrs:f,slots:f,refs:f,setupState:f,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Et.bind(null,i),i}(e,o,r);if(Cn(e)&&(l.ctx.renderer=ie),function(e,t=!1){jo=t;const{props:n,children:o,shapeFlag:r}=e.vnode,i=4&r;en(e,n,i,t),((e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=t,z(t,"_",n)):En(t,e.slots={})}else e.slots={},t&&Ln(e,t);z(e.slots,ho,1)})(e,o);const s=i?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Io);const{setup:o}=n;if(o){const n=e.setupContext=o.length>1?function(e){const t=t=>{e.exposed=ot(t)};return{attrs:e.attrs,slots:e.slots,emit:e.emit,expose:t}}(e):null;ko=e,se();const r=st(o,e,0,[e.props,n]);if(le(),ko=null,L(r)){if(t)return r.then((t=>{Wo(e,t)}));e.asyncDep=r}else Wo(e,r)}else Bo(e)}(e,t):void 0;jo=!1}(l),l.asyncDep){if(r&&r.registerDep(l,W),!e.el){const e=l.subTree=fo(to);A(null,e,t,n)}}else W(l,e,t,n,r,i,s)},V=(e,t,n)=>{const o=t.component=e.component;if(function(e,t,n){const{props:o,children:r,component:i}=e,{props:s,children:l,patchFlag:a}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&a>=0))return!(!r&&!l||l&&l.$stable)||o!==s&&(o?!s||jt(o,s,c):!!s);if(1024&a)return!0;if(16&a)return o?jt(o,s,c):!!s;if(8&a){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==o[n]&&!Ft(c,n))return!0}}return!1}(e,t,n)){if(o.asyncDep&&!o.asyncResolved)return void U(o,t,n);o.next=t,function(e){const t=ut.indexOf(e);t>-1&&ut.splice(t,1)}(o.update),o.update()}else t.component=e.component,t.el=e.el,o.vnode=t},W=(e,t,n,o,r,i,s)=>{e.update=ee((function(){if(e.isMounted){let t,{next:n,bu:o,u:l,parent:a,vnode:c}=e,h=n;n?(n.el=c.el,U(e,n,s)):n=c,o&&X(o),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Hn(t,a,n,c);const p=Rt(e),f=e.subTree;e.subTree=p,v(f,p,u(f.el),oe(f),e,r,i),n.el=p.el,null===h&&Wt(e,p.el),l&&Bn(l,r),(t=n.props&&n.props.onVnodeUpdated)&&Bn((()=>{Hn(t,a,n,c)}),r)}else{let s;const{el:l,props:a}=t,{bm:c,m:h,parent:u}=e;c&&X(c),(s=a&&a.onVnodeBeforeMount)&&Hn(s,u,t);const p=e.subTree=Rt(e);if(l&&he?he(t.el,p,e,r):(v(null,p,n,o,e,r,i),t.el=p.el),h&&Bn(h,r),s=a&&a.onVnodeMounted){const e=t;Bn((()=>{Hn(s,u,e)}),r)}const{a:f}=e;f&&256&t.shapeFlag&&Bn(f,r),e.isMounted=!0,t=n=o=null}}),Wn)},U=(e,t,n)=>{t.component=e;const o=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,o){const{props:r,attrs:i,vnode:{patchFlag:s}}=e,l=Ze(r),[a]=e.propsOptions;if(!(o||s>0)||16&s){let o;tn(e,t,r,i);for(const i in l)t&&(x(t,i)||(o=B(i))!==i&&x(t,o))||(a?!n||void 0===n[i]&&void 0===n[o]||(r[i]=nn(a,t||f,i,void 0,e)):delete r[i]);if(i!==l)for(const e in i)t&&x(t,e)||delete i[e]}else if(8&s){const n=e.vnode.dynamicProps;for(let o=0;o<n.length;o++){const s=n[o],c=t[s];if(a)if(x(i,s))i[s]=c;else{const t=j(s);r[t]=nn(a,l,t,c,e)}else i[s]=c}}ce(e,"set","$attrs")}(e,t.props,o,n),((e,t)=>{const{vnode:n,slots:o}=e;let r=!0,i=f;if(32&n.shapeFlag){const e=t._;e?1===e?r=!1:_(o,t):(r=!t.$stable,En(t,o)),i=t}else t&&(Ln(e,t),i={default:1});if(r)for(const s in o)On(s)||s in i||delete o[s]})(e,t.children),wt(void 0,e.update)},$=(e,t,n,o,r,i,s,l=!1)=>{const a=e&&e.children,c=e?e.shapeFlag:0,u=t.children,{patchFlag:p,shapeFlag:f}=t;if(p>0){if(128&p)return void G(a,u,n,o,r,i,s,l);if(256&p)return void H(a,u,n,o,r,i,s,l)}8&f?(16&c&&ne(a,r,i),u!==a&&h(n,u)):16&c?16&f?G(a,u,n,o,r,i,s,l):ne(a,r,i,!0):(8&c&&h(n,""),16&f&&T(u,n,o,r,i,s,l))},H=(e,t,n,o,r,i,s,l)=>{t=t||d;const a=(e=e||d).length,c=t.length,h=Math.min(a,c);let u;for(u=0;u<h;u++){const o=t[u]=l?vo(t[u]):yo(t[u]);v(e[u],o,n,null,r,i,s,l)}a>c?ne(e,r,i,!0,!1,h):T(t,n,o,r,i,s,l,h)},G=(e,t,n,o,r,i,s,l)=>{let a=0;const c=t.length;let h=e.length-1,u=c-1;for(;a<=h&&a<=u;){const o=e[a],c=t[a]=l?vo(t[a]):yo(t[a]);if(!co(o,c))break;v(o,c,n,null,r,i,s,l),a++}for(;a<=h&&a<=u;){const o=e[h],a=t[u]=l?vo(t[u]):yo(t[u]);if(!co(o,a))break;v(o,a,n,null,r,i,s,l),h--,u--}if(a>h){if(a<=u){const e=u+1,h=e<c?t[e].el:o;for(;a<=u;)v(null,t[a]=l?vo(t[a]):yo(t[a]),n,h,r,i,s),a++}}else if(a>u)for(;a<=h;)K(e[a],r,i,!0),a++;else{const p=a,f=a,m=new Map;for(a=f;a<=u;a++){const e=t[a]=l?vo(t[a]):yo(t[a]);null!=e.key&&m.set(e.key,a)}let g,b=0;const y=u-f+1;let _=!1,S=0;const A=new Array(y);for(a=0;a<y;a++)A[a]=0;for(a=p;a<=h;a++){const o=e[a];if(b>=y){K(o,r,i,!0);continue}let c;if(null!=o.key)c=m.get(o.key);else for(g=f;g<=u;g++)if(0===A[g-f]&&co(o,t[g])){c=g;break}void 0===c?K(o,r,i,!0):(A[c-f]=a+1,c>=S?S=c:_=!0,v(o,t[c],n,null,r,i,s,l),b++)}const x=_?function(e){const t=e.slice(),n=[0];let o,r,i,s,l;const a=e.length;for(o=0;o<a;o++){const a=e[o];if(0!==a){if(r=n[n.length-1],e[r]<a){t[o]=r,n.push(o);continue}for(i=0,s=n.length-1;i<s;)l=(i+s)/2|0,e[n[l]]<a?i=l+1:s=l;a<e[n[i]]&&(i>0&&(t[o]=n[i-1]),n[i]=o)}}i=n.length,s=n[i-1];for(;i-- >0;)n[i]=s,s=t[s];return n}(A):d;for(g=x.length-1,a=y-1;a>=0;a--){const e=f+a,l=t[e],h=e+1<c?t[e+1].el:o;0===A[a]?v(null,l,n,h,r,i,s):_&&(g<0||a!==x[g]?J(l,n,h,2):g--)}}},J=(e,t,o,r,i=null)=>{const{el:s,type:l,transition:a,children:c,shapeFlag:h}=e;if(6&h)return void J(e.component.subTree,t,o,r);if(128&h)return void e.suspense.move(t,o,r);if(64&h)return void l.move(e,t,o,ie);if(l===Qn){n(s,t,o);for(let e=0;e<c.length;e++)J(c[e],t,o,r);return void n(e.anchor,t,o)}if(l===no)return void C(e,t,o);if(2!==r&&1&h&&a)if(0===r)a.beforeEnter(s),n(s,t,o),Bn((()=>a.enter(s)),i);else{const{leave:e,delayLeave:r,afterLeave:i}=a,l=()=>n(s,t,o),c=()=>{e(s,(()=>{l(),i&&i()}))};r?r(s,l,c):c()}else n(s,t,o)},K=(e,t,n,o=!1,r=!1)=>{const{type:i,props:s,ref:l,children:a,dynamicChildren:c,shapeFlag:h,patchFlag:u,dirs:p}=e;if(null!=l&&Un(l,null,n,null),256&h)return void t.ctx.deactivate(e);const f=1&h&&p;let d;if((d=s&&s.onVnodeBeforeUnmount)&&Hn(d,t,e),6&h)Q(e.component,n,o);else{if(128&h)return void e.suspense.unmount(n,o);f&&In(e,null,t,"beforeUnmount"),c&&(i!==Qn||u>0&&64&u)?ne(c,t,n,!1,!0):(i===Qn&&(128&u||256&u)||!r&&16&h)&&ne(a,t,n),64&h&&(o||!zn(e.props))&&e.type.remove(e,ie),o&&Z(e)}((d=s&&s.onVnodeUnmounted)||f)&&Bn((()=>{d&&Hn(d,t,e),f&&In(e,null,t,"unmounted")}),n)},Z=e=>{const{type:t,el:n,anchor:r,transition:i}=e;if(t===Qn)return void Y(n,r);if(t===no)return void N(e);const s=()=>{o(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:o}=i,r=()=>t(n,s);o?o(e.el,s,r):r()}else s()},Y=(e,t)=>{let n;for(;e!==t;)n=p(e),o(e),e=n;o(t)},Q=(e,t,n)=>{const{bum:o,effects:r,update:i,subTree:s,um:l}=e;if(o&&X(o),r)for(let a=0;a<r.length;a++)te(r[a]);i&&(te(i),K(s,e,t,n)),l&&Bn(l,t),Bn((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},ne=(e,t,n,o=!1,r=!1,i=0)=>{for(let s=i;s<e.length;s++)K(e[s],t,n,o,r)},oe=e=>6&e.shapeFlag?oe(e.component.subTree):128&e.shapeFlag?e.suspense.next():p(e.anchor||e.el),re=(e,t)=>{null==e?t._vnode&&K(t._vnode,null,null,!0):v(t._vnode||null,e,t),Ot(),t._vnode=e},ie={p:v,um:K,m:J,r:Z,mt:k,mc:T,pc:$,pbc:F,n:oe,o:e};let ae,he;t&&([ae,he]=t(ie));return{render:re,hydrate:ae,createApp:Mn(re,ae)}}(e)}function Hn(e,t,n,o=null){lt(e,t,7,[n,o])}function Xn(e,t,n=!1){const o=e.children,r=t.children;if(P(o)&&P(r))for(let i=0;i<o.length;i++){const e=o[i];let t=r[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=r[i]=vo(r[i]),t.el=e.el),n||Xn(e,t))}}const zn=e=>e&&(e.disabled||""===e.disabled);function Gn(e){return Zn("components",e)||e}const Jn=Symbol();function Kn(e){return q(e)?Zn("components",e,!1)||e:e||Jn}function Zn(e,t,n=!0){const o=It||ko;if(o){const n=o.type;if("components"===e){if("_self"===t)return n;const e=$o(n);if(e&&(e===t||e===j(t)||e===U(j(t))))return n}return Yn(o[e]||n[e],t)||Yn(o.appContext[e],t)}}function Yn(e,t){return e&&(e[t]||e[j(t)]||e[U(j(t))])}const Qn=Symbol(void 0),eo=Symbol(void 0),to=Symbol(void 0),no=Symbol(void 0),oo=[];let ro=null;function io(e=!1){oo.push(ro=e?null:[])}function so(){oo.pop(),ro=oo[oo.length-1]||null}function lo(e,t,n,o,r){const i=fo(e,t,n,o,r,!0);return i.dynamicChildren=ro||d,so(),ro&&ro.push(i),i}function ao(e){return!!e&&!0===e.__v_isVNode}function co(e,t){return e.type===t.type&&e.key===t.key}const ho="__vInternal",uo=({key:e})=>null!=e?e:null,po=({ref:e})=>null!=e?q(e)||Qe(e)||O(e)?{i:It,r:e}:e:null,fo=function(e,t=null,n=null,o=0,i=null,s=!1){e&&e!==Jn||(e=to);if(ao(e)){const o=mo(e,t,!0);return n&&_o(o,n),o}l=e,O(l)&&"__vccOpts"in l&&(e=e.__vccOpts);var l;if(t){(Ke(t)||ho in t)&&(t=_({},t));let{class:e,style:n}=t;e&&!q(e)&&(t.class=a(e)),E(n)&&(Ke(n)&&!P(n)&&(n=_({},n)),t.style=r(n))}const c=q(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:E(e)?4:O(e)?2:0,h={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&uo(t),ref:t&&po(t),scopeId:Jt,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null};if(_o(h,n),128&c){const{content:e,fallback:t}=function(e){const{shapeFlag:t,children:n}=e;let o,r;return 32&t?(o=$t(n.default),r=$t(n.fallback)):(o=$t(n),r=yo(null)),{content:o,fallback:r}}(h);h.ssContent=e,h.ssFallback=t}!s&&ro&&(o>0||6&c)&&32!==o&&ro.push(h);return h};function mo(e,t,n=!1){const{props:o,ref:i,patchFlag:s}=e,l=t?function(...e){const t=_({},e[0]);for(let n=1;n<e.length;n++){const o=e[n];for(const e in o)if("class"===e)t.class!==o.class&&(t.class=a([t.class,o.class]));else if("style"===e)t.style=r([t.style,o.style]);else if(y(e)){const n=t[e],r=o[e];n!==r&&(t[e]=n?[].concat(n,o[e]):r)}else""!==e&&(t[e]=o[e])}return t}(o||{},t):o;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&uo(l),ref:t&&t.ref?n&&i?P(i)?i.concat(po(t)):[i,po(t)]:po(t):i,scopeId:e.scopeId,children:e.children,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Qn?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&mo(e.ssContent),ssFallback:e.ssFallback&&mo(e.ssFallback),el:e.el,anchor:e.anchor}}function go(e=" ",t=0){return fo(eo,null,e,t)}function bo(e="",t=!1){return t?(io(),lo(to,null,e)):fo(to,null,e)}function yo(e){return null==e||"boolean"==typeof e?fo(to):P(e)?fo(Qn,null,e):"object"==typeof e?null===e.el?e:mo(e):fo(eo,null,String(e))}function vo(e){return null===e.el?e:mo(e)}function _o(e,t){let n=0;const{shapeFlag:o}=e;if(null==t)t=null;else if(P(t))n=16;else if("object"==typeof t){if(1&o||64&o){const n=t.default;return void(n&&(n._c&&zt(1),_o(e,n()),n._c&&zt(-1)))}{n=32;const o=t._;o||ho in t?3===o&&It&&(1024&It.vnode.patchFlag?(t._=2,e.patchFlag|=1024):t._=1):t._ctx=It}}else O(t)?(t={default:t,_ctx:It},n=32):(t=String(t),64&o?(n=16,t=[go(t)]):n=8);e.children=t,e.shapeFlag|=n}function So(e,t){if(ko){let n=ko.provides;const o=ko.parent&&ko.parent.provides;o===n&&(n=ko.provides=Object.create(o)),n[e]=t}else;}function Ao(e,t,n=!1){const o=ko||It;if(o){const r=null==o.parent?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&O(t)?t():t}}let xo=!1;function Po(e,t,n=[],o=[],r=[],i=!1){const{mixins:s,extends:l,data:a,computed:c,methods:h,watch:u,provide:p,inject:d,components:g,directives:b,beforeMount:y,mounted:v,beforeUpdate:S,updated:A,activated:x,deactivated:C,beforeDestroy:N,beforeUnmount:w,destroyed:q,unmounted:T,render:L,renderTracked:F,renderTriggered:I,errorCaptured:D,expose:R}=t,M=e.proxy,k=e.ctx,V=e.appContext.mixins;if(i&&L&&e.render===m&&(e.render=L),i||(xo=!0,Co("beforeCreate","bc",t,e,V),xo=!1,Oo(e,V,n,o,r)),l&&Po(e,l,n,o,r,!0),s&&Oo(e,s,n,o,r),d)if(P(d))for(let f=0;f<d.length;f++){const e=d[f];k[e]=Ao(e)}else for(const f in d){const e=d[f];E(e)?k[f]=Ao(e.from||f,e.default,!0):k[f]=Ao(e)}if(h)for(const f in h){const e=h[f];O(e)&&(k[f]=e.bind(M))}if(i?a&&n.push(a):(n.length&&n.forEach((t=>qo(e,t,M))),a&&qo(e,a,M)),c)for(const f in c){const e=c[f],t=Ho({get:O(e)?e.bind(M,M):O(e.get)?e.get.bind(M,M):m,set:!O(e)&&O(e.set)?e.set.bind(M):m});Object.defineProperty(k,f,{enumerable:!0,configurable:!0,get:()=>t.value,set:e=>t.value=e})}var j;if(u&&o.push(u),!i&&o.length&&o.forEach((e=>{for(const t in e)To(e[t],k,M,t)})),p&&r.push(p),!i&&r.length&&r.forEach((e=>{const t=O(e)?e.call(M):e;Reflect.ownKeys(t).forEach((e=>{So(e,t[e])}))})),i&&(g&&_(e.components||(e.components=_({},e.type.components)),g),b&&_(e.directives||(e.directives=_({},e.type.directives)),b)),i||Co("created","c",t,e,V),y&&un(y.bind(M)),v&&pn(v.bind(M)),S&&fn(S.bind(M)),A&&dn(A.bind(M)),x&&Nn(x.bind(M),"a",j),C&&function(e,t){Nn(e,"da",t)}(C.bind(M)),D&&((e,t=ko)=>{cn("ec",e,t)})(D.bind(M)),F&&yn(F.bind(M)),I&&bn(I.bind(M)),w&&mn(w.bind(M)),T&&gn(T.bind(M)),P(R)&&!i)if(R.length){const t=e.exposed||(e.exposed=ot({}));R.forEach((e=>{t[e]=function(e,t){return Qe(e[t])?e[t]:new rt(e,t)}(M,e)}))}else e.exposed||(e.exposed=f)}function Co(e,t,n,o,r){wo(e,t,r,o);const{extends:i,mixins:s}=n;i&&No(e,t,i,o),s&&wo(e,t,s,o);const l=n[e];l&&lt(l.bind(o.proxy),o,t)}function No(e,t,n,o){n.extends&&No(e,t,n.extends,o);const r=n[e];r&&lt(r.bind(o.proxy),o,t)}function wo(e,t,n,o){for(let r=0;r<n.length;r++){const i=n[r].mixins;i&&wo(e,t,i,o);const s=n[r][e];s&&lt(s.bind(o.proxy),o,t)}}function Oo(e,t,n,o,r){for(let i=0;i<t.length;i++)Po(e,t[i],n,o,r,!0)}function qo(e,t,n){const o=t.call(n,n);E(o)&&(e.data===f?e.data=He(o):_(e.data,o))}function To(e,t,n,o){const r=o.includes(".")?function(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}(n,o):()=>n[o];if(q(e)){const n=t[e];O(n)&&Sn(r,n)}else if(O(e))Sn(r,e.bind(n));else if(E(e))if(P(e))e.forEach((e=>To(e,t,n,o)));else{const o=O(e.handler)?e.handler.bind(n):t[e.handler];O(o)&&Sn(r,o,e)}}function Eo(e,t,n){const o=n.appContext.config.optionMergeStrategies,{mixins:r,extends:i}=t;i&&Eo(e,i,n),r&&r.forEach((t=>Eo(e,t,n)));for(const s in t)o&&x(o,s)?e[s]=o[s](e[s],t[s],n.proxy,s):e[s]=t[s]}const Lo=e=>e&&(e.proxy?e.proxy:Lo(e.parent)),Fo=_(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Lo(e.parent),$root:e=>e.root&&e.root.proxy,$emit:e=>e.emit,$options:e=>function(e){const t=e.type,{__merged:n,mixins:o,extends:r}=t;if(n)return n;const i=e.appContext.mixins;if(!i.length&&!o&&!r)return t;const s={};return i.forEach((t=>Eo(s,t,e))),Eo(s,t,e),t.__merged=s}(e),$forceUpdate:e=>()=>xt(e.update),$nextTick:e=>At.bind(e.proxy),$watch:e=>xn.bind(e)}),Io={get({_:e},t){const{ctx:n,setupState:o,data:r,props:i,accessCache:s,type:l,appContext:a}=e;if("__v_skip"===t)return!0;let c;if("$"!==t[0]){const l=s[t];if(void 0!==l)switch(l){case 0:return o[t];case 1:return r[t];case 3:return n[t];case 2:return i[t]}else{if(o!==f&&x(o,t))return s[t]=0,o[t];if(r!==f&&x(r,t))return s[t]=1,r[t];if((c=e.propsOptions[0])&&x(c,t))return s[t]=2,i[t];if(n!==f&&x(n,t))return s[t]=3,n[t];xo||(s[t]=4)}}const h=Fo[t];let u,p;return h?("$attrs"===t&&ae(e,0,t),h(e)):(u=l.__cssModules)&&(u=u[t])?u:n!==f&&x(n,t)?(s[t]=3,n[t]):(p=a.config.globalProperties,x(p,t)?p[t]:void 0)},set({_:e},t,n){const{data:o,setupState:r,ctx:i}=e;if(r!==f&&x(r,t))r[t]=n;else if(o!==f&&x(o,t))o[t]=n;else if(t in e.props)return!1;return("$"!==t[0]||!(t.slice(1)in e))&&(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:r,propsOptions:i}},s){let l;return void 0!==n[s]||e!==f&&x(e,s)||t!==f&&x(t,s)||(l=i[0])&&x(l,s)||x(o,s)||x(Fo,s)||x(r.config.globalProperties,s)}},Do=_({},Io,{get(e,t){if(t!==Symbol.unscopables)return Io.get(e,t,e)},has:(e,t)=>"_"!==t[0]&&!n(t)}),Ro=Dn();let Mo=0;let ko=null;const Vo=e=>{ko=e};let jo=!1;function Wo(e,t,n){O(t)?e.render=t:E(t)&&(e.setupState=ot(t)),Bo(e)}function Bo(e,t){const n=e.type;e.render||(e.render=n.render||m,e.render._rc&&(e.withProxy=new Proxy(e.ctx,Do))),ko=e,se(),Po(e,n),le(),ko=null}function Uo(e,t=ko){t&&(t.effects||(t.effects=[])).push(e)}function $o(e){return O(e)&&e.displayName||e.name}function Ho(e){const t=function(e){let t,n;return O(e)?(t=e,n=m):(t=e.get,n=e.set),new it(t,n,O(e)||!e.set)}(e);return Uo(t.effect),t}function Xo(e,t,n){const o=arguments.length;return 2===o?E(t)&&!P(t)?ao(t)?fo(e,null,[t]):fo(e,t):fo(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):3===o&&ao(n)&&(n=[n]),fo(e,t,n))}function zo(e,t){let n;if(P(e)||q(e)){n=new Array(e.length);for(let o=0,r=e.length;o<r;o++)n[o]=t(e[o],o)}else if("number"==typeof e){n=new Array(e);for(let o=0;o<e;o++)n[o]=t(o+1,o)}else if(E(e))if(e[Symbol.iterator])n=Array.from(e,t);else{const o=Object.keys(e);n=new Array(o.length);for(let r=0,i=o.length;r<i;r++){const i=o[r];n[r]=t(e[i],i,r)}}else n=[];return n}const Go="3.0.5",Jo="http://www.w3.org/2000/svg",Ko="undefined"!=typeof document?document:null;let Zo,Yo;const Qo={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n)=>t?Ko.createElementNS(Jo,e):Ko.createElement(e,n?{is:n}:void 0),createText:e=>Ko.createTextNode(e),createComment:e=>Ko.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ko.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode:e=>e.cloneNode(!0),insertStaticContent(e,t,n,o){const r=o?Yo||(Yo=Ko.createElementNS(Jo,"svg")):Zo||(Zo=Ko.createElement("div"));r.innerHTML=e;const i=r.firstChild;let s=i,l=s;for(;s;)l=s,Qo.insert(s,t,n),s=r.firstChild;return[i,l]}};const er=/\s*!important$/;function tr(e,t,n){if(P(n))n.forEach((n=>tr(e,t,n)));else if(t.startsWith("--"))e.setProperty(t,n);else{const o=function(e,t){const n=or[t];if(n)return n;let o=j(t);if("filter"!==o&&o in e)return or[t]=o;o=U(o);for(let r=0;r<nr.length;r++){const n=nr[r]+o;if(n in e)return or[t]=n}return t}(e,t);er.test(n)?e.setProperty(B(o),n.replace(er,""),"important"):e[o]=n}}const nr=["Webkit","Moz","ms"],or={};const rr="http://www.w3.org/1999/xlink";let ir=Date.now;"undefined"!=typeof document&&ir()>document.createEvent("Event").timeStamp&&(ir=()=>performance.now());let sr=0;const lr=Promise.resolve(),ar=()=>{sr=0};function cr(e,t,n,o){e.addEventListener(t,n,o)}function hr(e,t,n,o,r=null){const i=e._vei||(e._vei={}),s=i[t];if(o&&s)s.value=o;else{const[n,l]=function(e){let t;if(ur.test(e)){let n;for(t={};n=e.match(ur);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e.slice(2).toLowerCase(),t]}(t);if(o){cr(e,n,i[t]=function(e,t){const n=e=>{(e.timeStamp||ir())>=n.attached-1&&lt(function(e,t){if(P(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=(()=>sr||(lr.then(ar),sr=ir()))(),n}(o,r),l)}else s&&(!function(e,t,n,o){e.removeEventListener(t,n,o)}(e,n,s,l),i[t]=void 0)}}const ur=/(?:Once|Passive|Capture)$/;const pr=/^on[a-z]/;const fr=e=>{const t=e.props["onUpdate:modelValue"];return P(t)?e=>X(t,e):t};function dr(e){e.target.composing=!0}function mr(e){const t=e.target;t.composing&&(t.composing=!1,function(e,t){const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}(t,"input"))}const gr={created(e,{modifiers:{lazy:t,trim:n,number:o}},r){e._assign=fr(r);const i=o||"number"===e.type;cr(e,t?"change":"input",(t=>{if(t.target.composing)return;let o=e.value;n?o=o.trim():i&&(o=G(o)),e._assign(o)})),n&&cr(e,"change",(()=>{e.value=e.value.trim()})),t||(cr(e,"compositionstart",dr),cr(e,"compositionend",mr),cr(e,"change",mr))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{trim:n,number:o}},r){if(e._assign=fr(r),e.composing)return;if(document.activeElement===e){if(n&&e.value.trim()===t)return;if((o||"number"===e.type)&&G(e.value)===t)return}const i=null==t?"":t;e.value!==i&&(e.value=i)}},br={created(e,t,n){e._assign=fr(n),cr(e,"change",(()=>{const t=e._modelValue,n=Ar(e),o=e.checked,r=e._assign;if(P(t)){const e=h(t,n),i=-1!==e;if(o&&!i)r(t.concat(n));else if(!o&&i){const n=[...t];n.splice(e,1),r(n)}}else if(N(t)){const e=new Set(t);o?e.add(n):e.delete(n),r(e)}else r(xr(e,o))}))},mounted:yr,beforeUpdate(e,t,n){e._assign=fr(n),yr(e,t,n)}};function yr(e,{value:t,oldValue:n},o){e._modelValue=t,P(t)?e.checked=h(t,o.props.value)>-1:N(t)?e.checked=t.has(o.props.value):t!==n&&(e.checked=c(t,xr(e,!0)))}const vr={created(e,{value:t},n){e.checked=c(t,n.props.value),e._assign=fr(n),cr(e,"change",(()=>{e._assign(Ar(e))}))},beforeUpdate(e,{value:t,oldValue:n},o){e._assign=fr(o),t!==n&&(e.checked=c(t,o.props.value))}},_r={created(e,{value:t,modifiers:{number:n}},o){const r=N(t);cr(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>n?G(Ar(e)):Ar(e)));e._assign(e.multiple?r?new Set(t):t:t[0])})),e._assign=fr(o)},mounted(e,{value:t}){Sr(e,t)},beforeUpdate(e,t,n){e._assign=fr(n)},updated(e,{value:t}){Sr(e,t)}};function Sr(e,t){const n=e.multiple;if(!n||P(t)||N(t)){for(let o=0,r=e.options.length;o<r;o++){const r=e.options[o],i=Ar(r);if(n)P(t)?r.selected=h(t,i)>-1:r.selected=t.has(i);else if(c(Ar(r),t))return void(e.selectedIndex=o)}n||(e.selectedIndex=-1)}}function Ar(e){return"_value"in e?e._value:e.value}function xr(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Pr={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):Cr(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){o&&t!==n?t?(o.beforeEnter(e),Cr(e,!0),o.enter(e)):o.leave(e,(()=>{Cr(e,!1)})):Cr(e,t)},beforeUnmount(e,{value:t}){Cr(e,t)}};function Cr(e,t){e.style.display=t?e._vod:"none"}const Nr=_({patchProp:(e,t,n,r,i=!1,s,l,a,c)=>{switch(t){case"class":!function(e,t,n){if(null==t&&(t=""),n)e.setAttribute("class",t);else{const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),e.className=t}}(e,r,i);break;case"style":!function(e,t,n){const o=e.style;if(n)if(q(n))t!==n&&(o.cssText=n);else{for(const e in n)tr(o,e,n[e]);if(t&&!q(t))for(const e in t)null==n[e]&&tr(o,e,"")}else e.removeAttribute("style")}(e,n,r);break;default:y(t)?v(t)||hr(e,t,0,r,l):function(e,t,n,o){if(o)return"innerHTML"===t||!!(t in e&&pr.test(t)&&O(n));if("spellcheck"===t||"draggable"===t)return!1;if("form"===t&&"string"==typeof n)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if(pr.test(t)&&q(n))return!1;return t in e}(e,t,r,i)?function(e,t,n,o,r,i,s){if("innerHTML"===t||"textContent"===t)return o&&s(o,r,i),void(e[t]=null==n?"":n);if("value"!==t||"PROGRESS"===e.tagName){if(""===n||null==n){const o=typeof e[t];if(""===n&&"boolean"===o)return void(e[t]=!0);if(null==n&&"string"===o)return e[t]="",void e.removeAttribute(t);if("number"===o)return e[t]=0,void e.removeAttribute(t)}try{e[t]=n}catch(l){}}else{e._value=n;const t=null==n?"":n;e.value!==t&&(e.value=t)}}(e,t,r,s,l,a,c):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),function(e,t,n,r){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(rr,t.slice(6,t.length)):e.setAttributeNS(rr,t,n);else{const r=o(t);null==n||r&&!1===n?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}(e,t,r,i))}},forcePatchProp:(e,t)=>"value"===t},Qo);let wr;let Or;const qr={},Tr=function(e,t){if(!t)return e();if(void 0===Or){const e=document.createElement("link").relList;Or=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in qr)return;qr[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":Or,t||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),t?new Promise(((e,t)=>{o.addEventListener("load",e),o.addEventListener("error",t)})):void 0}))).then((()=>e()))};var Er=kn({name:"NavigationTabs",props:{labels:{type:Array,required:!0},activeIndex:{type:Number,default:0},isBoxed:{type:Boolean,default:!1}},emits:["update:activeIndex"],setup:(e,{emit:t})=>({setActiveIndex:e=>t("update:activeIndex",e)})});const Lr={style:{padding:"0.25rem 0 0 0.5rem"}};var Fr,Ir;Er.render=function(e,t,n,o,r,i){return io(),lo("div",{class:{tabs:!0,"is-boxed":e.isBoxed}},[fo("ul",Lr,[(io(!0),lo(Qn,null,zo(e.labels,((t,n)=>(io(),lo("li",{key:n,class:{"is-active":e.activeIndex===n}},[fo("a",{onClick:t=>e.setActiveIndex(n)},u(t),9,["onClick"])],2)))),128))])],2)},(Ir=Fr||(Fr={}))[Ir.NORMAL=1]="NORMAL",Ir[Ir.AMBIG=2]="AMBIG",Ir[Ir.ALLOPHONE=3]="ALLOPHONE",Ir[Ir.OTHER=4]="OTHER";const Dr=()=>({label:"",features:Array(63).fill(0),durationScalar:Array(7).fill(1),phonologicalRole:Fr.NORMAL}),Rr=()=>({modelInput:"-^br^pt-",spread:[6,6,6,6,6,6,6],spreadScale:[1,1,1,1,1,1,1],min:-.3,max:1,nreps:1,slicesPerPhon:3,fSlices:99,decay:{F:.01,P:.03,W:.05},rest:{F:-.1,P:-.1,W:-.01},alpha:{IF:1,FP:.02,PW:.05,WP:.03,PF:0},gamma:{F:.04,P:.04,W:.03},deltaInput:6,noiseSD:0,stochasticitySD:0,atten:1,bias:0,learningrate:0,lengthNormalization:0,phonology:[{label:"p",features:[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,1,.2,0,0,0,0,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Fr.NORMAL},{label:"b",features:[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,.2,1,0,0,0,0,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Fr.NORMAL},{label:"t",features:[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,1,.2,0,0,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Fr.NORMAL},{label:"d",features:[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,.2,1,0,0,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Fr.NORMAL},{label:"k",features:[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,.1,.3,1,.3,.1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,.2,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Fr.NORMAL},{label:"g",features:[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,.1,.3,1,.3,.1,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,.2,1,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Fr.NORMAL},{label:"s",features:[0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,.3,.1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Fr.NORMAL},{label:"S",features:[0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,.1,.3,1,.3,.1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Fr.NORMAL},{label:"r",features:[0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,.5,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Fr.NORMAL},{label:"l",features:[0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,.5,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Fr.NORMAL},{label:"a",features:[1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,.1,.3,1,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Fr.NORMAL},{label:"i",features:[1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,.3,.1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Fr.NORMAL},{label:"u",features:[1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,.1,.3,1,.3,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Fr.NORMAL},{label:"^",features:[0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,.1,.3,1,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Fr.NORMAL},{label:"-",features:[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Fr.NORMAL}],lexicon:[{phon:"^",freq:23248,prime:0},{phon:"^br^pt",freq:37,prime:0},{phon:"^dapt",freq:71,prime:0},{phon:"^d^lt",freq:50,prime:0},{phon:"^gri",freq:264,prime:0},{phon:"^lat",freq:50,prime:0},{phon:"^part",freq:57,prime:0},{phon:"^pil",freq:108,prime:0},{phon:"ark",freq:50,prime:0},{phon:"ar",freq:4406,prime:0},{phon:"art",freq:274,prime:0},{phon:"art^st",freq:112,prime:0},{phon:"^slip",freq:29,prime:0},{phon:"bar",freq:125,prime:0},{phon:"bark",freq:125,prime:0},{phon:"bi",freq:6382,prime:0},{phon:"bit",freq:87,prime:0},{phon:"bist",freq:50,prime:0},{phon:"blak",freq:118,prime:0},{phon:"bl^d",freq:122,prime:0},{phon:"blu",freq:143,prime:0},{phon:"bab",freq:45,prime:0},{phon:"babi",freq:23,prime:0},{phon:"badi",freq:341,prime:0},{phon:"bust",freq:23,prime:0},{phon:"but",freq:34,prime:0},{phon:"bat^l",freq:95,prime:0},{phon:"baks",freq:87,prime:0},{phon:"brid",freq:25,prime:0},{phon:"brud",freq:26,prime:0},{phon:"br^S",freq:77,prime:0},{phon:"b^b^l",freq:32,prime:0},{phon:"b^k",freq:31,prime:0},{phon:"b^s",freq:34,prime:0},{phon:"b^t",freq:4382,prime:0},{phon:"kar",freq:386,prime:0},{phon:"kard",freq:62,prime:0},{phon:"karp^t",freq:22,prime:0},{phon:"sis",freq:34,prime:0},{phon:"klak",freq:30,prime:0},{phon:"kl^b",freq:171,prime:0},{phon:"klu",freq:25,prime:0},{phon:"kalig",freq:32,prime:0},{phon:"kul",freq:149,prime:0},{phon:"kap",freq:32,prime:0},{phon:"kapi",freq:61,prime:0},{phon:"k^p^l",freq:164,prime:0},{phon:"krip",freq:23,prime:0},{phon:"kru",freq:38,prime:0},{phon:"krap",freq:44,prime:0},{phon:"kruS^l",freq:31,prime:0},{phon:"kru^l",freq:20,prime:0},{phon:"kr^S",freq:23,prime:0},{phon:"k^p",freq:63,prime:0},{phon:"k^t",freq:223,prime:0},{phon:"dark",freq:234,prime:0},{phon:"dart",freq:20,prime:0},{phon:"dil",freq:157,prime:0},{phon:"did",freq:21,prime:0},{phon:"dip",freq:199,prime:0},{phon:"du",freq:1366,prime:0},{phon:"dal",freq:23,prime:0},{phon:"dat",freq:28,prime:0},{phon:"d^b^l",freq:83,prime:0},{phon:"dru",freq:69,prime:0},{phon:"drap",freq:196,prime:0},{phon:"dr^g",freq:58,prime:0},{phon:"d^k",freq:21,prime:0},{phon:"d^l",freq:36,prime:0},{phon:"d^st",freq:78,prime:0},{phon:"duti",freq:95,prime:0},{phon:"ist",freq:183,prime:0},{phon:"it",freq:300,prime:0},{phon:"glu",freq:28,prime:0},{phon:"gad",freq:332,prime:0},{phon:"gat",freq:482,prime:0},{phon:"grik",freq:66,prime:0},{phon:"grit",freq:38,prime:0},{phon:"gru",freq:64,prime:0},{phon:"grup",freq:545,prime:0},{phon:"gard",freq:82,prime:0},{phon:"g^tar",freq:24,prime:0},{phon:"kip",freq:348,prime:0},{phon:"ki",freq:125,prime:0},{phon:"lid",freq:517,prime:0},{phon:"lig",freq:83,prime:0},{phon:"lip",freq:38,prime:0},{phon:"list",freq:343,prime:0},{phon:"lig^l",freq:77,prime:0},{phon:"labi",freq:22,prime:0},{phon:"lak",freq:109,prime:0},{phon:"lup",freq:23,prime:0},{phon:"lus",freq:68,prime:0},{phon:"lat",freq:169,prime:0},{phon:"l^k",freq:49,prime:0},{phon:"l^ki",freq:25,prime:0},{phon:"l^kS^ri",freq:24,prime:0},{phon:"ad",freq:53,prime:0},{phon:"pap^",freq:40,prime:0},{phon:"park",freq:242,prime:0},{phon:"part",freq:625,prime:0},{phon:"parS^l",freq:25,prime:0},{phon:"partli",freq:49,prime:0},{phon:"parti",freq:275,prime:0},{phon:"par",freq:10,prime:0},{phon:"pi",freq:24,prime:0},{phon:"pik",freq:24,prime:0},{phon:"pip^l",freq:887,prime:0},{phon:"pis",freq:221,prime:0},{phon:"plat",freq:57,prime:0},{phon:"pl^g",freq:28,prime:0},{phon:"pl^s",freq:72,prime:0},{phon:"pak^t",freq:64,prime:0},{phon:"p^lis",freq:159,prime:0},{phon:"pal^si",freq:290,prime:0},{phon:"pul",freq:129,prime:0},{phon:"pap",freq:31,prime:0},{phon:"pas^b^l",freq:373,prime:0},{phon:"pas^bli",freq:61,prime:0},{phon:"pat",freq:37,prime:0},{phon:"prist",freq:33,prime:0},{phon:"prab^b^l",freq:24,prime:0},{phon:"prab^bli",freq:261,prime:0},{phon:"pradus",freq:256,prime:0},{phon:"prad^kt",freq:195,prime:0},{phon:"pragr^s",freq:141,prime:0},{phon:"p^t",freq:63,prime:0},{phon:"rid",freq:273,prime:0},{phon:"ril",freq:261,prime:0},{phon:"rili",freq:275,prime:0},{phon:"rab",freq:40,prime:0},{phon:"rak",freq:121,prime:0},{phon:"rak^t",freq:20,prime:0},{phon:"rad",freq:29,prime:0},{phon:"rut",freq:69,prime:0},{phon:"r^b",freq:35,prime:0},{phon:"r^g^d",freq:20,prime:0},{phon:"rul",freq:215,prime:0},{phon:"rupi",freq:20,prime:0},{phon:"r^S",freq:60,prime:0},{phon:"r^s^l",freq:21,prime:0},{phon:"skar",freq:22,prime:0},{phon:"skul",freq:694,prime:0},{phon:"skru",freq:45,prime:0},{phon:"sil",freq:40,prime:0},{phon:"sit",freq:99,prime:0},{phon:"sikr^t",freq:105,prime:0},{phon:"si",freq:809,prime:0},{phon:"sid",freq:84,prime:0},{phon:"sik",freq:128,prime:0},{phon:"Sarp",freq:115,prime:0},{phon:"Si",freq:2860,prime:0},{phon:"Sip",freq:23,prime:0},{phon:"Sit",freq:77,prime:0},{phon:"Sild",freq:21,prime:0},{phon:"Sak",freq:66,prime:0},{phon:"Sut",freq:81,prime:0},{phon:"Sap",freq:108,prime:0},{phon:"Sat",freq:142,prime:0},{phon:"Sr^g",freq:22,prime:0},{phon:"S^t",freq:50,prime:0},{phon:"slip",freq:109,prime:0},{phon:"slit",freq:10,prime:0},{phon:"sl^g",freq:24,prime:0},{phon:"sal^d",freq:90,prime:0},{phon:"sari",freq:49,prime:0},{phon:"spark",freq:20,prime:0},{phon:"spik",freq:259,prime:0},{phon:"spid",freq:104,prime:0},{phon:"spat",freq:110,prime:0},{phon:"star",freq:58,prime:0},{phon:"start",freq:450,prime:0},{phon:"start^l",freq:22,prime:0},{phon:"stil",freq:51,prime:0},{phon:"stip",freq:22,prime:0},{phon:"stak",freq:165,prime:0},{phon:"stap",freq:273,prime:0},{phon:"strik",freq:20,prime:0},{phon:"strit",freq:307,prime:0},{phon:"str^k",freq:59,prime:0},{phon:"str^g^l",freq:93,prime:0},{phon:"st^did",freq:79,prime:0},{phon:"st^di",freq:391,prime:0},{phon:"stup^d",freq:25,prime:0},{phon:"s^bst^tut",freq:46,prime:0},{phon:"s^t^l",freq:26,prime:0},{phon:"s^ksid",freq:62,prime:0},{phon:"s^k",freq:20,prime:0},{phon:"su",freq:39,prime:0},{phon:"sut",freq:73,prime:0},{phon:"sut^b^l",freq:37,prime:0},{phon:"tar",freq:20,prime:0},{phon:"targ^t",freq:67,prime:0},{phon:"ti",freq:29,prime:0},{phon:"tu",freq:26162,prime:0},{phon:"tul",freq:79,prime:0},{phon:"tap",freq:212,prime:0},{phon:"trit",freq:127,prime:0},{phon:"triti",freq:24,prime:0},{phon:"tri",freq:161,prime:0},{phon:"trup",freq:82,prime:0},{phon:"trat",freq:20,prime:0},{phon:"tr^b^l",freq:189,prime:0},{phon:"tr^k",freq:84,prime:0},{phon:"tru",freq:237,prime:0},{phon:"truli",freq:237,prime:0},{phon:"tr^st",freq:76,prime:0},{phon:"tr^sti",freq:35,prime:0},{phon:"tub",freq:55,prime:0},{phon:"^gli",freq:30,prime:0},{phon:"^p",freq:1903,prime:0},{phon:"^s",freq:672,prime:0},{phon:"-",freq:1e3,prime:0}],freqNode:{},primeNode:{},continuumSpec:"",allophoneRelations:[]}),Mr=(e,t)=>Array.from(Array(e),(e=>Array(t).fill(0))),kr=(e,t,n)=>Array.from(Array(e),(e=>Array.from(Array(t),(e=>Array(n).fill(0))))),Vr=e=>e.map((e=>[...e])),jr=(e,t)=>{let n=0,o=0;for(;0===n;)n=Math.random();for(;0===o;)o=Math.random();return Math.sqrt(-2*Math.log(n))*Math.cos(2*Math.PI*o)*t+e};class Wr{constructor(e){this.ambiguousPhonemes=[],this.phonemes=e.map((e=>Object.assign({},e))),this.sortPhonemes();for(const[t,n]of this.phonemes.entries())console.log(`phon ${t}: ${n.label}`)}sortPhonemes(){this.phonemes.sort(((e,t)=>e.label.localeCompare(t.label)));for(const[e,t]of this.phonemes.entries())t.index=e;this.ambiguousPhonemes.sort(((e,t)=>e.label.localeCompare(t.label)));for(const[e,t]of this.ambiguousPhonemes.entries())t.index=e}sorted(){return this.phonemes}byIndex(e){return this.phonemes[e]}byLabel(e){return this.phonemes.find((t=>t.label==e))||this.ambiguousPhonemes.find((t=>t.label==e))}spreadPhons(e,t,n,o){if(e.length!=t.length)throw new Error("spread and scale parameters have different scale");n=Math.max(n,0);let r=0;const i=n=>{for(const o of n){o.spreadOffset=0;for(let n=0;n<e.length;n++){const i=e[n]*t[n]*o.durationScalar[0];i>o.spreadOffset&&(o.spreadOffset=Math.ceil(i)),r=Math.max(Math.ceil(i),r)}}};i(this.phonemes),i(this.ambiguousPhonemes);const s=t=>{for(const i of t){i.spread=Mr(63,4*r),i.norm=0;for(let t=0;t<63;t++)if(i.features[t]>0){const r=Math.floor(t/9),s=(i.features[t]*o-i.features[t]*n)/(e[r]*i.durationScalar[0]),l=Math.floor(e[r]*i.durationScalar[0]);for(let e=0;e<l;e++)i.spread[t][i.spreadOffset+e]=i.features[t]*o-s*e,i.spread[t][i.spreadOffset-e]=i.spread[t][i.spreadOffset+e],i.norm+=2*Math.pow(i.spread[t][i.spreadOffset+e],2)}}};s(this.phonemes),s(this.ambiguousPhonemes)}makePhonemeContinuum(e,t,n){const o=this.byLabel(e),r=this.byLabel(t);if(!o||!r||n<=1||n>Wr.MAX_STEPS)throw new Error("invalid arguments to makePhonemeContinuum");const i=[];for(let a=0;a<63;a++)i[a]=(r.features[a]-o.features[a])/(n-1);const s=[];for(let a=0;a<7;a++)s[a]=(r.durationScalar[a]-o.durationScalar[a])/(n-1);this.ambiguousPhonemes=[];for(let a=0;a<n;a++){const e=[];for(let n=0;n<63;n++)e[n]=o.features[n]+a*i[n];const t=[];for(let n=0;n<7;n++)t[n]=o.durationScalar[n]+a*s[n];this.ambiguousPhonemes.push({label:a.toString(),features:e,durationScalar:t,phonologicalRole:Fr.AMBIG})}const l=Math.floor(this.ambiguousPhonemes.length/2);this.ambiguousPhonemes.push({label:"?",features:[...this.ambiguousPhonemes[l].features],durationScalar:[...this.ambiguousPhonemes[l].durationScalar],phonologicalRole:Fr.AMBIG}),this.sortPhonemes()}}Wr.MAX_STEPS=9;const Br=(e,t)=>e.RDL_rest_s?e.RDL_rest_s*Math.log10(e.RDL_rest_c*t):0;class Ur{constructor(e=Rr()){this.globalFeatureCompetitionIndex=0,this.globalLexicalCompetitionIndex=0,this.globalPhonemeCompetitionIndex=0,this.globalPhonToWordSum=0,this.globalWordToPhonSum=0,this.globalFeatToPhonSum=0,this.globalPhonToFeatSum=0,this.globalFeatSumAll=0,this.globalFeatSumPos=0,this.globalPhonSumAll=0,this.globalPhonSumPos=0,this.globalWordSumAll=0,this.globalWordSumPos=0,this.inputSlice=0,this.__nreps=1,this.setConfig(e),this.reset()}setConfig(e){this.config=e,this.phonemes=new Wr(this.config.phonology)}reset(){var e;this.lengthNormalizationScale=1/((e=this.config.lexicon.map((e=>e.phon.length))).reduce(((e,t)=>e+t))/e.length),this.inputSlice=0,this.inputLayer=Mr(63,this.config.fSlices),this.featLayer=Mr(63,this.config.fSlices),this.featNet=Mr(63,this.config.fSlices),this.phonLayer=Mr(this.config.phonology.length,this.getPSlices()),this.phonNet=Mr(this.config.phonology.length,this.getPSlices()),this.wordLayer=Mr(this.config.lexicon.length,this.getPSlices()),this.wordNet=Mr(this.config.lexicon.length,this.getPSlices()),this.pww=Mr(this.config.phonology.length,4),this.wpw=Mr(this.config.phonology.length,4),this.fpw=kr(this.config.phonology.length,7,0),this.pfw=kr(this.config.phonology.length,7,0);for(let n=0;n<this.config.phonology.length;n++)for(let e=0;e<7;e++)this.fpw[n][e]=Array(2*this.config.spread[e]).fill(0),this.pfw[n][e]=Array(2*this.config.spread[e]).fill(0);if(this.config.continuumSpec&&3==this.config.continuumSpec.trim().length){const e=+this.config.continuumSpec.trim()[2];e>1&&e<10&&this.phonemes.makePhonemeContinuum(this.config.continuumSpec.trim()[0],this.config.continuumSpec.trim()[1],e)}this.phonemes.spreadPhons(this.config.spread,this.config.spreadScale,this.config.min,this.config.max);let t=this.clamp(this.config.rest.F);for(let n=0;n<this.config.fSlices;n++)for(let e=0;e<63;e++)this.featLayer[e][n]=t;t=this.clamp(this.config.rest.P);for(let n=0;n<this.getPSlices();n++)for(let e=0;e<this.config.phonology.length;e++)this.phonLayer[e][n]=t;t=this.clamp(this.config.rest.W);for(let n=0;n<this.getWSlices();n++)for(let e=0;e<this.config.lexicon.length;e++)this.wordLayer[e][n]=t;if(this.config.freqNode.RDL_rest_s)for(let n=0;n<this.getWSlices();n++)for(let e=0;e<this.config.lexicon.length;e++)this.wordLayer[e][n]+=Br(this.config.freqNode,this.config.lexicon[e].freq);if(this.config.primeNode.RDL_rest_s)for(let n=0;n<this.getWSlices();n++)for(let e=0;e<this.config.lexicon.length;e++)this.config.lexicon[e].prime>0&&(this.wordLayer[e][n]+=Br(this.config.primeNode,this.config.lexicon[e].prime));this.__nreps=this.config.nreps,this.__nreps<=0&&(this.__nreps=1);for(let n=0;n<this.config.phonology.length;n++){let e=0;for(let t=0;t<=4;t++){const n=(4-Math.abs(2-t))/4;e+=n*n}for(let t=0;t<4;t++){const o=(4-Math.abs(2-t))/4;this.pww[n][t]=o/e,this.wpw[n][t]=1*o/e}}for(let n=0;n<this.config.phonology.length;n++)for(let e=0;e<7;e++){let t=0;const o=1*this.config.spread[e],r=Math.floor(o);for(let e=0;e<2*r;e++){const n=(o-Math.abs(r-e))/o;t+=n*n}for(let i=0;i<2*r;i++)this.pfw[n][e][i]=(o-Math.abs(r-i))/o,this.fpw[n][e][i]=this.pfw[n][e][i]/t}this.createInput()}getPSlices(){return Math.floor(this.config.fSlices/this.config.slicesPerPhon)}getWSlices(){return this.getPSlices()}clamp(e){return t=e,n=this.config.min,o=this.config.max,Math.min(Math.max(t,n),o);var t,n,o}createInput(){const e=this.config.modelInput.trim();console.log("TraceNet.createInput: phons="+e);let t=this.config.deltaInput;for(let n=0;n<e.length&&t<this.config.fSlices;n++)if("{"==e[n]){const o=this.phonemes.byLabel(e[++n]),r=+e[++n],i=this.phonemes.byLabel(e[++n]);n+=1;const s=t-o.spreadOffset;for(let e=s,t=0;e<s+r;e++,t++)for(let n=0;n<63;n++)e>=0&&e<this.config.fSlices&&(this.inputLayer[n][e]+=o.spread[n][t]);for(let e=s+r,t=r;e<s+2*i.spreadOffset;e++,t++)for(let n=0;n<63;n++)e>=0&&e<this.config.fSlices&&(this.inputLayer[n][e]+=i.spread[n][t]);t+=this.config.deltaInput}else{const o=this.phonemes.byLabel(e[n]),r=t-Math.round(o.spreadOffset);for(let e=r,t=0;e<r+Math.round(2*o.spreadOffset);e++,t++)for(let n=0;n<63;n++)e>=0&&e<this.config.fSlices&&(this.inputLayer[n][e]+=o.spread[n][t]);t+=Math.round(this.config.deltaInput*o.durationScalar[0])}if(0!=this.config.noiseSD)for(let n=0;n<63;n++)for(let e=0;e<this.config.fSlices;e++)this.inputLayer[n][e]+=jr(0,this.config.noiseSD);for(let n=0;n<63;n++)for(let e=0;e<this.config.fSlices;e++)this.inputLayer[n][e]=this.clamp(this.inputLayer[n][e]);for(let n=0;n<7;n++)for(let e=0;e<9;e++)this.featNet[9*n+e][0]+=this.inputLayer[9*n+e][0];this.featUpdate()}actFeatures(){this.globalFeatureCompetitionIndex=0;const e=Mr(7,this.config.fSlices);for(let n=0;n<7;n++)for(let t=0;t<9;t++)for(let o=0;o<this.config.fSlices;o++)this.featLayer[9*n+t][o]>0&&(e[n][o]+=this.featLayer[9*n+t][o]);const t=e.map((e=>e.map((e=>e*this.config.gamma.F))));if(this.inputSlice<this.config.fSlices)for(let n=0;n<63;n++)for(let e=this.inputSlice+1;e<this.config.fSlices&&e<this.inputSlice+1+this.__nreps;e++){const t=this.clamp(this.config.alpha.IF*this.inputLayer[n][e]);this.featNet[n][e]+=t,this.globalFeatureCompetitionIndex-=t}for(let n=0;n<7;n++)for(let e=0;e<9;e++)for(let o=0;o<this.config.fSlices;o++){const r=Math.max(0,t[n][o]-Math.max(0,this.featLayer[9*n+e][o]*this.config.gamma.F));this.featNet[9*n+e][o]-=r,this.globalFeatureCompetitionIndex+=r}}featToPhon(){const e=this.config.slicesPerPhon,t=this.getPSlices();this.globalFeatToPhonSum=0;for(let n=0;n<63;n++)for(let o=0;o<this.config.fSlices;o++)if(this.featLayer[n][o]>0)for(const[r,i]of this.phonemes.sorted().entries()){if(0==i.features[n])continue;const s=this.config.spread[Math.floor(n/9)],l=this.config.fSlices-s;let a,c;o<s?(a=0,c=Math.floor((o+s-1)/e)):(c=o>l?t-1:Math.floor((o+s-1)/e),a=Math.floor((o-s)/e+1));let h=s-(o-e*a),u=0;this.featLayer[n][o]>0&&(u=i.features[n]*this.featLayer[n][o]*this.config.alpha.FP);const p=Math.floor(n/9);for(let n=a;n<c+1&&n<t;n++){const t=this.fpw[r][p][h]*u;this.phonNet[r][n]+=t,this.globalFeatToPhonSum+=t,h+=e}}}phonToPhon(){const e=this.getPSlices();let t=Array(e).fill(0),n=0,o=0;for(let r=0;r<e;r++)for(let i=0;i<this.config.phonology.length;i++)if(this.phonLayer[i][r]>0){n=r+1,n>=e?(n=e-1,o=r-1):(o=r-1,o<0&&(o=0));for(let e=o;e<n;e++)t[e]+=this.phonLayer[i][r]*this.config.gamma.P}this.globalPhonemeCompetitionIndex=0;for(let r=0;r<this.config.phonology.length;r++)for(let i=0;i<e;i++){n=i+1,n>=e?(n=e-1,o=i-1):(o=i-1,o<0&&(o=0));for(let e=o;e<n;e++)t[e]>0&&(this.phonNet[r][i]-=t[e],this.globalPhonemeCompetitionIndex+=t[e]);if(this.phonLayer[r][i]*this.config.gamma.P>0&&t[i]>0){const e=(n-o)*this.phonLayer[r][i]*this.config.gamma.P;this.phonNet[r][i]+=e,this.globalPhonemeCompetitionIndex-=e}for(let e=0;e<this.config.phonology.length;e++);}}phonToFeat(){const e=this.config.fSlices,t=this.config.slicesPerPhon;this.globalPhonToFeatSum=0;for(let n=0;n<e;n++)for(let o=0;o<7;o++)for(let r=0;r<9;r++){let i=0;for(let l=0;l<this.config.phonology.length;l++)for(let s=0;s<this.getPSlices();s++){let a=Math.floor(Math.abs(s*t-n));a>=e&&(a=e-1),this.phonLayer[l][s]>0&&(i+=this.pfw[l][o][a]*this.phonLayer[l][s]*this.phonemes.byIndex(l).features[9*o+r])}const s=this.config.alpha.PF*i;this.featNet[9*o+r][n]+=s,this.globalPhonToFeatSum+=s}}wordToPhon(){let e,t,n,o,r,i=this.config.lexicon;const s=this.getPSlices();this.globalWordToPhonSum=0;for(let l=0;l<i.length;l++)for(let a=0;a<this.getWSlices();a++)if(!(this.wordLayer[l][a]<=0)){e=i[l].phon;for(let c=0;c<e.length;c++){let h=this.phonemes.byLabel(e[c]);if(t=a+2*c,n=t-1,n>=s)break;n<0?(o=1-n,n=0,r=t+2):(r=t+2,r>s-1&&(r=s-1),o=1);for(let e=n;e<r&&e<s&&o<4;e++,o++)if(this.wordLayer[l][a]>0){let t=0;i[l].freq&&this.config.freqNode.RDL_wt_s&&(t=this.config.freqNode.RDL_wt_s*Math.log10(i[l].freq));let n=0;i[l].prime&&this.config.primeNode.RDL_wt_s&&(n=this.config.primeNode.RDL_wt_s*Math.log10(i[l].prime));const r=(1+t+n)*this.wordLayer[l][a]*this.config.alpha.WP*this.wpw[h.index][o];this.phonNet[h.index][e]+=r,this.globalWordToPhonSum+=r}}}}phonToWord(){const e=this.config.lexicon,t=this.getPSlices();let n,o,r,i,s,l;this.globalPhonToWordSum=0;for(let a=0;a<this.config.phonology.length;a++){s=2,6==this.config.deltaInput&&3==this.config.slicesPerPhon||(s=Math.floor(this.config.deltaInput/this.config.slicesPerPhon));for(let c=0;c<t;c++)if(!(this.phonLayer[a][c]<=0))e:for(let h=0;h<e.length;h++){const u=e[h].phon;l=u.length;for(let p=0;p<l;p++)if(u.charAt(p)==this.phonemes.byIndex(a).label.charAt(0)){if(n=c-s*p,n<-s)continue e;o=1+n-s,o<0?(r=1-o,o=0,i=n+s):(i=n+s,i>t-1&&(i=t-1),r=1);let l=2*this.phonLayer[a][c]*this.config.alpha.PW,u=0;this.config.freqNode.RDL_wt_s&&e[h].freq&&(u=this.config.freqNode.RDL_wt_s*Math.log10(e[h].freq));let f=0;this.config.primeNode.RDL_wt_s&&e[h].prime&&(f=this.config.primeNode.RDL_wt_s*Math.log10(e[h].prime));for(let e=o;e<i&&e<this.getWSlices();e++,r++)if(r>=0&&r<4){const t=(1+u+f)*this.pww[a][r]*l;this.wordNet[h][e]+=t,this.globalPhonToWordSum+=t}}}}}wordToWord(){const e=this.getPSlices(),t=Array(e).fill(0),n=Array(e).fill(0),o=this.config.lexicon;for(let r=0;r<e;r++)for(let t=0;t<o.length;t++){let i=r;i<0&&(i=0);let s=r+2*o[t].phon.length;
//!! wstart + (wlength*phone width) + (1/2 phone width)
s>e&&(s=e-1);for(let e=i;e<s;e++)this.wordLayer[t][r]>0&&(n[e]+=this.wordLayer[t][r]*this.wordLayer[t][r])}for(let r=0;r<e;r++)n[r]>3&&(n[r]=3),t[r]=n[r]*this.config.gamma.W;this.globalLexicalCompetitionIndex=0;for(let r=0;r<e;r++)for(let n=0;n<o.length;n++){let i=r;i<0&&(i=0);let s=r+2*o[n].phon.length;
//!! wstart + (wlength*phone width) + (1/2 phone width)
s>e&&(s=e-1);for(let e=i;e<s;e++)if(this.config.lengthNormalization){let i=1/(o[n].phon.length*this.lengthNormalizationScale);i>1&&(i=1);const s=t[e]*i;this.wordNet[n][r]-=s,this.globalLexicalCompetitionIndex+=s}else this.wordNet[n][r]-=t[e],this.globalLexicalCompetitionIndex+=t[e];if(this.wordLayer[n][r]>0)if(this.config.lengthNormalization){let e=1/(o[n].phon.length*this.lengthNormalizationScale);e>1&&(e=1);const t=(s-i)*(this.wordLayer[n][r]*this.wordLayer[n][r]*this.config.gamma.W)*e;this.wordNet[n][r]+=t,this.globalLexicalCompetitionIndex-=t}else{const e=(s-i)*(this.wordLayer[n][r]*this.wordLayer[n][r]*this.config.gamma.W);this.wordNet[n][r]+=e,this.globalLexicalCompetitionIndex-=e}}}featUpdate(){const{min:e,max:t}=this.config;this.globalFeatSumAll=0,this.globalFeatSumPos=0;for(let n=0;n<this.config.fSlices;n++)for(let o=0;o<63;o++){this.config.stochasticitySD&&(this.featNet[o][n]+=jr(0,this.config.stochasticitySD));let r=this.featLayer[o][n];this.featNet[o][n]>0?r+=(t-r)*this.featNet[o][n]:this.featNet[o][n]<0&&(r+=(r-e)*this.featNet[o][n]);let i=this.featLayer[o][n]-this.config.rest.F;r-=this.config.decay.F*i,r>t&&(r=t),r<e&&(r=e),this.featLayer[o][n]=r,this.globalFeatSumAll+=r,r>0&&(this.globalFeatSumPos+=r)}this.featNet=Mr(63,this.config.fSlices)}phonUpdate(){const e=this.getPSlices();this.globalPhonSumAll=0,this.globalPhonSumPos=0;for(let t=0;t<e;t++)for(let e=0;e<this.config.phonology.length;e++){let n;this.config.stochasticitySD&&(this.phonNet[e][t]+=jr(0,this.config.stochasticitySD)),n=this.phonNet[e][t]>=0?this.config.max-this.phonLayer[e][t]:this.phonLayer[e][t]-this.config.min;const o=this.phonLayer[e][t]-this.config.rest.P;this.phonLayer[e][t]+=n*this.phonNet[e][t]-this.config.decay.P*o,this.phonLayer[e][t]=this.clamp(this.phonLayer[e][t]),this.globalPhonSumAll+=this.phonLayer[e][t],this.phonLayer[e][t]>0&&(this.globalPhonSumPos+=this.phonLayer[e][t])}this.phonNet=Mr(this.config.phonology.length,e)}wordUpdate(){const e=this.getWSlices(),{min:t,max:n}=this.config;this.globalWordSumAll=0,this.globalWordSumPos=0;for(let o=0;o<this.config.lexicon.length;o++)for(let r=0;r<e;r++){this.wordNet[o][r]*=this.config.atten,this.wordNet[o][r]-=this.config.bias,this.config.stochasticitySD&&(this.wordNet[o][r]+=jr(0,this.config.stochasticitySD));let e,i=this.wordLayer[o][r];this.wordNet[o][r]>0?i+=(n-i)*this.wordNet[o][r]:this.wordNet[o][r]<0&&(i+=(i-t)*this.wordNet[o][r]),e=this.config.freqNode.RDL_rest_s&&this.config.lexicon[o].freq>0&&this.config.primeNode.RDL_rest_s&&this.config.lexicon[o].prime>0?this.wordLayer[o][r]-(this.config.rest.W+Br(this.config.freqNode,this.config.lexicon[o].freq))+(this.config.rest.W+Br(this.config.primeNode,this.config.lexicon[o].prime)):this.config.freqNode.RDL_rest_s&&this.config.lexicon[o].freq>0?this.wordLayer[o][r]-(this.config.rest.W+Br(this.config.freqNode,this.config.lexicon[o].freq)):this.config.primeNode.RDL_rest_s&&this.config.lexicon[o].prime>0?this.wordLayer[o][r]-(this.config.rest.W+Br(this.config.primeNode,this.config.lexicon[o].prime)):this.wordLayer[o][r]-this.config.rest.W,i-=this.config.decay.W*e,i>n&&(i=n),i<t&&(i=t),this.wordLayer[o][r]=i,this.globalWordSumAll+=i,i>0&&(this.globalWordSumPos+=i)}this.wordNet=Mr(this.config.lexicon.length,e)}cycle(){this.actFeatures();const e=this.config.nreps<0?Math.abs(this.config.nreps):1;for(let t=0;t<e;t++)this.featToPhon(),this.phonToPhon(),this.phonToWord(),this.wordToPhon(),this.wordToWord(),this.featUpdate(),this.phonUpdate(),this.wordUpdate();this.inputSlice+=this.__nreps}}function $r(e,t){var n;const o=(null===(n=e[0])||void 0===n?void 0:n.length)||0,r=[];for(let i=0;i<o;i++)for(let t=0;t<e.length;t++)r.push([t,...e[t][i]]);return r.map((e=>[e[0],...t,e.slice(1)].join(", "))).join("\n")+"\n"}class Hr extends class{constructor(e=Rr()){this.config=e,this.inputLayer=[],this.featLayer=[],this.phonLayer=[],this.wordLayer=[],this.globalFeatureCompetition=[],this.globalLexicalCompetition=[],this.globalPhonemeCompetition=[],this.globalPhonToWordSum=[],this.globalWordToPhonSum=[],this.globalFeatToPhonSum=[],this.globalPhonToFeatSum=[],this.globalFeatSumAll=[],this.globalFeatSumPos=[],this.globalPhonSumAll=[],this.globalPhonSumPos=[],this.globalWordSumAll=[],this.globalWordSumPos=[],this.tn=new Ur(this.config),this.phonemes=this.tn.phonemes,this.maxDuration=Math.max(6*this.config.modelInput.length*this.config.deltaInput,this.config.fSlices)}getStepsRun(){return this.inputLayer.length}cycle(e){e=Math.min(this.maxDuration,e);for(let t=0;t<e;t++)this.inputLayer.push(Vr(this.tn.inputLayer)),this.featLayer.push(Vr(this.tn.featLayer)),this.phonLayer.push(Vr(this.tn.phonLayer)),this.wordLayer.push(Vr(this.tn.wordLayer)),this.globalFeatureCompetition.push(this.tn.globalFeatureCompetitionIndex),this.globalLexicalCompetition.push(this.tn.globalLexicalCompetitionIndex),this.globalPhonemeCompetition.push(this.tn.globalPhonemeCompetitionIndex),this.globalPhonToWordSum.push(this.tn.globalPhonToWordSum),this.globalWordToPhonSum.push(this.tn.globalWordToPhonSum),this.globalFeatToPhonSum.push(this.tn.globalFeatToPhonSum),this.globalPhonToFeatSum.push(this.tn.globalPhonToFeatSum),this.globalFeatSumAll.push(this.tn.globalFeatSumAll),this.globalFeatSumPos.push(this.tn.globalFeatSumPos),this.globalPhonSumAll.push(this.tn.globalPhonSumAll),this.globalPhonSumPos.push(this.tn.globalPhonSumPos),this.globalWordSumAll.push(this.tn.globalWordSumAll),this.globalWordSumPos.push(this.tn.globalWordSumPos),this.tn.cycle()}getInputData(e){return this.inputLayer[e].map(((e,t)=>[t,...e.map((e=>e.toFixed(4)))]))}getFeatureData(e){return this.featLayer[e].map(((e,t)=>[t,...e.map((e=>e.toFixed(4)))]))}getPhonemeData(e){return this.phonLayer[e].map(((e,t)=>[this.phonemes&&this.phonemes.byIndex(t).label,...e.map((e=>e.toFixed(4)))]))}getWordData(e){return this.wordLayer[e].map(((e,t)=>[this.config.lexicon[t].phon,...e.map((e=>e.toFixed(4)))]))}getLevelsAndFlowData(e){return[[this.globalFeatSumAll[e],this.globalFeatSumPos[e],this.globalFeatureCompetition[e],this.globalPhonSumAll[e],this.globalPhonSumPos[e],this.globalPhonemeCompetition[e],this.globalWordSumAll[e],this.globalWordSumPos[e],this.globalLexicalCompetition[e],this.globalFeatToPhonSum[e],this.globalPhonToFeatSum[e],this.globalPhonToWordSum[e],this.globalWordToPhonSum[e]]]}getAllInputData(){return Array.from({length:this.inputLayer.length},((e,t)=>this.getInputData(t)))}getAllFeatureData(){return Array.from({length:this.featLayer.length},((e,t)=>this.getFeatureData(t)))}getAllPhonemeData(){return Array.from({length:this.phonLayer.length},((e,t)=>this.getPhonemeData(t)))}getAllWordData(){return Array.from({length:this.wordLayer.length},((e,t)=>this.getWordData(t)))}getAllLevelsAndFlowData(){return Array.from({length:this.globalLexicalCompetition.length},((e,t)=>this.getLevelsAndFlowData(t)))}serializeInputData(e=[]){const t=[this.config.modelInput,...e];return $r(this.getAllInputData(),t)}serializeFeatureData(e=[]){const t=[this.config.modelInput,...e];return $r(this.getAllFeatureData(),t)}serializePhonemeData(e=[]){const t=[this.config.modelInput,...e];return $r(this.getAllPhonemeData(),t)}serializeWordData(e=[]){const t=[this.config.modelInput,...e];return $r(this.getAllWordData(),t)}serializeLevelsAndFlowData(e=[]){const t=[this.config.modelInput,...e];return $r(this.getAllLevelsAndFlowData(),t)}getSimData(){return{input:this.getAllInputData(),feature:this.getAllFeatureData(),phoneme:this.getAllPhonemeData(),word:this.getAllWordData(),levelsAndFlows:this.getAllLevelsAndFlowData()}}}{writeFiles(){}async appendInputData(){}async appendFeatureData(){}async appendPhonemeData(){}async appendWordData(){}async appendLevelsAndFlowData(){}async appendFiles(){}}var Xr,zr,Gr,Jr,Kr,Zr,Yr,Qr,ei,ti;(zr=Xr||(Xr={}))[zr.PHONEMES=0]="PHONEMES",zr[zr.WORDS=1]="WORDS",(Jr=Gr||(Gr={}))[Jr.RESPONSE_PROBABILITIES=0]="RESPONSE_PROBABILITIES",Jr[Jr.ACTIVATIONS=1]="ACTIVATIONS",Jr[Jr.COMPETITION_INDEX=2]="COMPETITION_INDEX",(Zr=Kr||(Kr={}))[Zr.AVERAGE=0]="AVERAGE",Zr[Zr.MAX_POSTHOC=1]="MAX_POSTHOC",Zr[Zr.STATIC=2]="STATIC",Zr[Zr.FRAUENFELDER=3]="FRAUENFELDER",Zr[Zr.MAX_ADHOC=4]="MAX_ADHOC",Zr[Zr.MAX_ADHOC_2=5]="MAX_ADHOC_2",(Qr=Yr||(Yr={}))[Qr.NORMAL=0]="NORMAL",Qr[Qr.FORCED=1]="FORCED",(ti=ei||(ei={}))[ti.RAW=0]="RAW",ti[ti.FIRST_DERIVATIVE=1]="FIRST_DERIVATIVE",ti[ti.SECOND_DERIVATIVE=2]="SECOND_DERIVATIVE";const ni=(e,t)=>{const n=[];for(const o of e)for(const e in t)o==t[e]&&n.push(e);return n},oi=(e,t,n)=>{let o=0,r=0;for(let i=t-Math.floor(n/2);i<t+Math.floor(n/2);i++)if(!(i<0)){if(i>=e.length)break;o+=e[i],r++}return o/=r,o},ri=(e,t,n)=>{const o=[],r=(e=>{let t=[];for(let n=1;n<=e+1;n++)t[n-1]=n;return t})(n);for(let i=0;i<n-1;i++){let n,s=0,l=0;for(let o=Math.floor(-t/2);o<t/2&&o<e.length;o++)if(n=i+o,!(n<0)){if(n>=r.length)break;s+=(r[n]-oi(r,i,t))*(e[n]-oi(e,i,t)),l+=(r[n]-oi(r,i,t))*(r[n]-oi(r,i,t))}o[i]=s/l}return o},ii=e=>{const{sim:t,domain:n=Xr.WORDS,itemsToWatch:o=10,calculationType:r=Kr.STATIC,alignment:i=4,choice:s=Yr.NORMAL,kValue:l=4,competType:a=ei.RAW,competSlope:c=1}=e;let h;h=l<0?Gr.COMPETITION_INDEX:0===l?Gr.ACTIVATIONS:Gr.RESPONSE_PROBABILITIES;const u=t.getStepsRun();if(0==u)return[];if(h==Gr.RESPONSE_PROBABILITIES||h==Gr.ACTIVATIONS){let a,c,m;if(a=Array.isArray(o)?o:(e=>{const t=e.domain==Xr.WORDS?e.sim.config.lexicon.map((e=>e.phon)):e.sim.phonemes.sorted().map((e=>e.label));return ii(Object.assign(Object.assign({},e),{itemsToWatch:t})).map(((e,n)=>[e,t[n]])).sort((([e],[t])=>Math.max(...t.data.map((e=>e.y)))-Math.max(...e.data.map((e=>e.y))))).slice(0,+e.itemsToWatch).map((([e,t])=>t))})(e),0==a.length)return[];n==Xr.WORDS?(c=ni(a,t.config.lexicon.map((e=>e.phon))),m=t.wordLayer):(c=ni(a,t.phonemes.sorted().map((e=>e.label))),m=t.phonLayer);let g=m[0].length,b=Math.floor(t.config.fSlices/t.config.slicesPerPhon),y=kr(u,g,b);if(h==Gr.RESPONSE_PROBABILITIES)for(let e=0;e<u;e++)for(let o=0;o<g;o++)for(let r=0;r<b;r++){const i=m[e][o][r];y[e][o][r]=Math.exp(i*(l||1)),t.config.freqNode.RDL_post_c&&n==Xr.WORDS&&(y[e][o][r]=(p=t.config.freqNode,f=t.config.lexicon[o].freq,d=y[e][o][r],p.RDL_post_c?d*Math.log10(p.RDL_post_c+f):0))}const v=Mr(g,u),_=Array(g).fill(0);if(r==Kr.MAX_ADHOC)for(let e=0;e<g;e++)for(let t=0;t<u;t++){let n=-1e3;for(let o=0;o<b;o++)m[t][e][o]>n&&(n=m[t][e][o],v[e][t]=o)}else if(r==Kr.MAX_ADHOC_2)for(let e=0;e<g;e++)for(let t=0;t<u;t++){let n=-1e3;for(let o=0;o<b;o++)m[t][e][o]>n&&(n=m[t][e][o],v[e][t]=o)}else if(r==Kr.MAX_POSTHOC)for(let e=0;e<g;e++){let t=-1e3;for(let n=0;n<u;n++)for(let o=0;o<b;o++)m[n][e][o]>t&&(t=m[n][e][o],_[e]=o)}let S=Array(u).fill(0),A=Mr(u,g);if(h==Gr.RESPONSE_PROBABILITIES)for(let e=0;e<u;e++)if(S[e]=0,s==Yr.NORMAL)switch(r){case Kr.AVERAGE:for(let t=0;t<b;t++)for(let n=0;n<g;n++)S[e]+=y[e][n][t];break;case Kr.MAX_ADHOC:for(let t=0;t<g;t++)for(let n=0;n<g;n++)A[e][n]+=y[e][t][v[n][e]];break;case Kr.MAX_ADHOC_2:for(let t=0;t<g;t++)for(let n=0;n<g;n++)A[e][n]+=y[e][t][v[t][e]];break;case Kr.MAX_POSTHOC:for(let t=0;t<g;t++)S[e]+=y[e][t][_[t]];break;case Kr.STATIC:for(let t=0;t<g;t++)S[e]+=y[e][t][i];break;case Kr.FRAUENFELDER:for(let o=0;o<g;o++)for(let r=0;r<g;r++)for(let s=0;s<b;s++)if(n==Xr.WORDS){const n=Math.floor(t.config.deltaInput/t.config.slicesPerPhon)*t.config.lexicon[o].phon.length,l=Math.floor(t.config.deltaInput/t.config.slicesPerPhon)*t.config.lexicon[r].phon.length;(i==s||s>i&&i+n>=s||s<i&&s+l>=i)&&(A[e][o]+=y[e][r][s])}else s!=i&&s!=i-1&&s!=i+1||(A[e][o]+=y[e][o][s])}else if(s==Yr.FORCED)switch(r){case Kr.AVERAGE:for(let t=0;t<b;t++)for(let n=0;n<c.length;n++)S[e]+=y[e][c[n]][t];break;case Kr.MAX_ADHOC:for(let t=0;t<c.length;t++)for(let n=0;n<c.length;n++)A[e][c[t]]+=y[e][c[n]][v[c[t]][e]];break;case Kr.MAX_ADHOC_2:for(let t=0;t<c.length;t++)for(let n=0;n<c.length;n++)A[e][c[t]]+=y[e][c[n]][v[c[t]][e]];break;case Kr.MAX_POSTHOC:for(let t=0;t<c.length;t++)S[e]+=y[e][c[t]][_[c[t]]];break;case Kr.STATIC:for(let t=0;t<c.length;t++)S[e]+=y[e][c[t]][i];break;case Kr.FRAUENFELDER:for(let o=0;o<c.length;o++)for(let r=0;r<c.length;r++)for(let s=0;s<b;s++)if(n==Xr.WORDS){const n=Math.floor(t.config.deltaInput/t.config.slicesPerPhon)*t.config.lexicon[c[o]].phon.length,l=Math.floor(t.config.deltaInput/t.config.slicesPerPhon)*t.config.lexicon[c[r]].phon.length;(i<=s+l&&i>=s&&l>0&&n>0||s<=i+n&&s>=i&&l>0&&n>0)&&(A[e][c[o]]+=y[e][c[r]][s])}else s!=i&&s!=i-1&&s!=i+1||(A[e][c[o]]+=y[e][c[r]][s])}let x,P=Mr(c.length,u);for(let e=0;e<c.length;e++)for(let t=0;t<u;t++){let n,o=0;switch(n=h==Gr.RESPONSE_PROBABILITIES?y:m,r){case Kr.AVERAGE:for(let r=0;r<b;r++)o+=n[t][c[e]][r];o/=b;break;case Kr.MAX_ADHOC:case Kr.MAX_ADHOC_2:o=n[t][c[e]][v[c[e]][t]];break;case Kr.MAX_POSTHOC:o=n[t][c[e]][_[c[e]]];break;case Kr.STATIC:o=n[t][c[e]][i];break;case Kr.FRAUENFELDER:o=n[t][c[e]][i]+n[t][c[e]][i+1]}if(h==Gr.RESPONSE_PROBABILITIES)switch(r){case Kr.AVERAGE:P[e][t]=o/S[t];break;case Kr.MAX_ADHOC:case Kr.MAX_ADHOC_2:P[e][t]=o/A[t][c[e]];break;case Kr.MAX_POSTHOC:case Kr.STATIC:P[e][t]=o/S[t];break;case Kr.FRAUENFELDER:P[e][t]=o/A[t][c[e]]}else P[e][t]=o}const C=[];for(let e=0;e<c.length;e++){x=n==Xr.WORDS?{label:t.config.lexicon[c[e]].phon,data:[]}:{label:t.phonemes.sorted()[c[e]].label,data:[]};for(let t=0;t<u;t++)x.data.push({x:t,y:P[e][t]});switch(r){case Kr.MAX_ADHOC:case Kr.MAX_ADHOC_2:x.label+=` [${v[c[e]].join(",")}]`;break;case Kr.MAX_POSTHOC:x.label+=` [${_[c[e]]}]`;break;case Kr.STATIC:case Kr.FRAUENFELDER:x.label+=` [${i}]`}C.push(x)}return C}{let e;const o=[];let r;if(n==Xr.WORDS?(r=t.globalLexicalCompetition,e={label:"Lexical Competition",data:[]}):(r=t.globalPhonemeCompetition,e={label:"Phoneme Competition",data:[]}),a==ei.RAW){for(let t=0;t<u;t++)e.data.push({x:t,y:r[t]});o.push(e)}else if(a==ei.FIRST_DERIVATIVE){const t=ri(r,c,u);for(let n=0;n<t.length;n++)e.data.push({x:n,y:t[n]});o.push(e)}else if(a==ei.SECOND_DERIVATIVE){const t=ri(r,c,u-1),n=ri(t,c,u-2);for(let o=0;o<n.length;o++)e.data.push({x:o,y:n[o]});o.push(e)}return o}var p,f,d};function si(e,t=!1){return function(e,t=!1){return e.length>0?[["cycle",...e.map((e=>t?e.label.padEnd(18):e.label))],...Array.from(Array(e[0].data.length),((t,n)=>[n,...e.map((e=>{var t;return(null===(t=e.data[n].y)||void 0===t?void 0:t.toFixed(18))||NaN}))]))]:[]}(e,t).map((e=>e.join("\t"))).join("\n")}var li="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ai(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})})),t}function ci(e){var t={exports:{}};return e(t,t.exports),t.exports}var hi=ci((function(e,t){const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",o="["+n+"][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",r=new RegExp("^"+o+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,n){if(t){const o=Object.keys(t),r=o.length;for(let i=0;i<r;i++)e[o[i]]="strict"===n?[t[o[i]]]:t[o[i]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.buildOptions=function(e,t,n){var o={};if(!e)return t;for(let r=0;r<n.length;r++)void 0!==e[n[r]]?o[n[r]]=e[n[r]]:o[n[r]]=t[n[r]];return o},t.isName=function(e){const t=r.exec(e);return!(null==t)},t.getAllMatches=function(e,t){const n=[];let o=t.exec(e);for(;o;){const r=[],i=o.length;for(let e=0;e<i;e++)r.push(o[e]);n.push(r),o=t.exec(e)}return n},t.nameRegexp=o}));const ui=function(e,t){const n={};if(!(e.child&&!hi.isEmptyObject(e.child)||e.attrsMap&&!hi.isEmptyObject(e.attrsMap)))return hi.isExist(e.val)?e.val:"";hi.isExist(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)&&("strict"===t.arrayMode?n[t.textNodeName]=[e.val]:n[t.textNodeName]=e.val),hi.merge(n,e.attrsMap,t.arrayMode);const o=Object.keys(e.child);for(let s=0;s<o.length;s++){var r=o[s];if(e.child[r]&&e.child[r].length>1)for(var i in n[r]=[],e.child[r])n[r].push(ui(e.child[r][i],t));else if(!0===t.arrayMode){const o=ui(e.child[r][0],t);n[r]="object"==typeof o?[o]:o}else"strict"===t.arrayMode?n[r]=[ui(e.child[r][0],t)]:n[r]=ui(e.child[r][0],t)}return n};var pi={convertToJson:ui},fi=function(e,t,n){this.tagname=e,this.parent=t,this.child={},this.attrsMap={},this.val=n,this.addChild=function(e){Array.isArray(this.child[e.tagname])?this.child[e.tagname].push(e):this.child[e.tagname]=[e]}};const di=hi.buildOptions;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,hi.nameRegexp),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const mi={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",tagValueProcessor:function(e,t){return e},attrValueProcessor:function(e,t){return e},stopNodes:[]};var gi=mi;const bi=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","stopNodes"];var yi=bi;function vi(e,t,n){return t&&(n.trimValues&&(t=t.trim()),t=Si(t=n.tagValueProcessor(t,e),n.parseNodeValue,n.parseTrueNumberOnly)),t}function _i(e,t){if(t.ignoreNameSpace){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}function Si(e,t,n){if(t&&"string"==typeof e){let t;return""===e.trim()||isNaN(e)?t="true"===e||"false"!==e&&e:(-1!==e.indexOf("0x")?t=Number.parseInt(e,16):-1!==e.indexOf(".")?(t=Number.parseFloat(e),e=e.replace(/\.?0+$/,"")):t=Number.parseInt(e,10),n&&(t=String(t)===e?t:e)),t}return hi.isExist(e)?e:""}const Ai=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function xi(e,t){if(!t.ignoreAttributes&&"string"==typeof e){e=e.replace(/\r?\n/g," ");const n=hi.getAllMatches(e,Ai),o=n.length,r={};for(let e=0;e<o;e++){const o=_i(n[e][1],t);o.length&&(void 0!==n[e][4]?(t.trimValues&&(n[e][4]=n[e][4].trim()),n[e][4]=t.attrValueProcessor(n[e][4],o),r[t.attributeNamePrefix+o]=Si(n[e][4],t.parseAttributeValue,t.parseTrueNumberOnly)):t.allowBooleanAttributes&&(r[t.attributeNamePrefix+o]=!0))}if(!Object.keys(r).length)return;if(t.attrNodeName){const e={};return e[t.attrNodeName]=r,e}return r}}function Pi(e,t){let n,o="";for(let r=t;r<e.length;r++){let t=e[r];if(n)t===n&&(n="");else if('"'===t||"'"===t)n=t;else{if(">"===t)return{data:o,index:r};"\t"===t&&(t=" ")}o+=t}}function Ci(e,t,n,o){const r=e.indexOf(t,n);if(-1===r)throw new Error(o);return r+t.length-1}var Ni={defaultOptions:gi,props:yi,getTraversalObj:function(e,t){e=e.replace(/(\r\n)|\n/," "),t=di(t,mi,bi);const n=new fi("!xml");let o=n,r="";for(let i=0;i<e.length;i++){if("<"===e[i])if("/"===e[i+1]){const n=Ci(e,">",i,"Closing Tag is not closed.");let s=e.substring(i+2,n).trim();if(t.ignoreNameSpace){const e=s.indexOf(":");-1!==e&&(s=s.substr(e+1))}o&&(o.val?o.val=hi.getValue(o.val)+""+vi(s,r,t):o.val=vi(s,r,t)),t.stopNodes.length&&t.stopNodes.includes(o.tagname)&&(o.child=[],null==o.attrsMap&&(o.attrsMap={}),o.val=e.substr(o.startIndex+1,i-o.startIndex-1)),o=o.parent,r="",i=n}else if("?"===e[i+1])i=Ci(e,"?>",i,"Pi Tag is not closed.");else if("!--"===e.substr(i+1,3))i=Ci(e,"--\x3e",i,"Comment is not closed.");else if("!D"===e.substr(i+1,2)){const t=Ci(e,">",i,"DOCTYPE is not closed.");i=e.substring(i,t).indexOf("[")>=0?e.indexOf("]>",i)+1:t}else if("!["===e.substr(i+1,2)){const n=Ci(e,"]]>",i,"CDATA is not closed.")-2,s=e.substring(i+9,n);if(r&&(o.val=hi.getValue(o.val)+""+vi(o.tagname,r,t),r=""),t.cdataTagName){const e=new fi(t.cdataTagName,o,s);o.addChild(e),o.val=hi.getValue(o.val)+t.cdataPositionChar,s&&(e.val=s)}else o.val=(o.val||"")+(s||"");i=n+2}else{const n=Pi(e,i+1);let s=n.data;const l=n.index,a=s.indexOf(" ");let c=s;if(-1!==a&&(c=s.substr(0,a).trimRight(),s=s.substr(a+1)),t.ignoreNameSpace){const e=c.indexOf(":");-1!==e&&(c=c.substr(e+1))}if(o&&r&&"!xml"!==o.tagname&&(o.val=hi.getValue(o.val)+""+vi(o.tagname,r,t)),s.length>0&&s.lastIndexOf("/")===s.length-1){"/"===c[c.length-1]?(c=c.substr(0,c.length-1),s=c):s=s.substr(0,s.length-1);const e=new fi(c,o,"");c!==s&&(e.attrsMap=xi(s,t)),o.addChild(e)}else{const e=new fi(c,o);t.stopNodes.length&&t.stopNodes.includes(e.tagname)&&(e.startIndex=l),c!==s&&(e.attrsMap=xi(s,t)),o.addChild(e),o=e}r="",i=l}else r+=e[i]}return n}};const wi={allowBooleanAttributes:!1},Oi=["allowBooleanAttributes"];function qi(e,t){for(var n=t;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{var o=e.substr(n,t-n);if(t>5&&"xml"===o)return Di("InvalidXml","XML declaration allowed only at the start of the document.",Mi(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function Ti(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}function Ei(e,t){let n="",o="",r=!1;for(;t<e.length;t++){if('"'===e[t]||"'"===e[t])if(""===o)o=e[t];else{if(o!==e[t])continue;o=""}else if(">"===e[t]&&""===o){r=!0;break}n+=e[t]}return""===o&&{value:n,index:t,tagClosed:r}}const Li=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function Fi(e,t){const n=hi.getAllMatches(e,Li),o={};for(let r=0;r<n.length;r++){if(0===n[r][1].length)return Di("InvalidAttr","Attribute '"+n[r][2]+"' has no space in starting.",ki(e,n[r][0]));if(void 0===n[r][3]&&!t.allowBooleanAttributes)return Di("InvalidAttr","boolean attribute '"+n[r][2]+"' is not allowed.",ki(e,n[r][0]));const i=n[r][2];if(!Ri(i))return Di("InvalidAttr","Attribute '"+i+"' is an invalid name.",ki(e,n[r][0]));if(o.hasOwnProperty(i))return Di("InvalidAttr","Attribute '"+i+"' is repeated.",ki(e,n[r][0]));o[i]=1}return!0}function Ii(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function Di(e,t,n){return{err:{code:e,msg:t,line:n}}}function Ri(e){return hi.isName(e)}function Mi(e,t){return e.substring(0,t).split(/\r?\n/).length}function ki(e,t){return e.indexOf(t)+t.length}var Vi=function(e,t){t=hi.buildOptions(t,wi,Oi);const n=[];let o=!1,r=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let s=0;s<e.length;s++){if("<"!==e[s]){if(" "===e[s]||"\t"===e[s]||"\n"===e[s]||"\r"===e[s])continue;return Di("InvalidChar","char '"+e[s]+"' is not expected.",Mi(e,s))}if(s++,"?"===e[s]){if(s=qi(e,++s),s.err)return s}else{if("!"===e[s]){s=Ti(e,s);continue}{let l=!1;"/"===e[s]&&(l=!0,s++);let a="";for(;s<e.length&&">"!==e[s]&&" "!==e[s]&&"\t"!==e[s]&&"\n"!==e[s]&&"\r"!==e[s];s++)a+=e[s];if(a=a.trim(),"/"===a[a.length-1]&&(a=a.substring(0,a.length-1),s--),i=a,!hi.isName(i)){let t;return t=0===a.trim().length?"There is an unnecessary space between tag name and backward slash '</ ..'.":"Tag '"+a+"' is an invalid name.",Di("InvalidTag",t,Mi(e,s))}const c=Ei(e,s);if(!1===c)return Di("InvalidAttr","Attributes for '"+a+"' have open quote.",Mi(e,s));let h=c.value;if(s=c.index,"/"===h[h.length-1]){h=h.substring(0,h.length-1);const n=Fi(h,t);if(!0!==n)return Di(n.err.code,n.err.msg,Mi(e,s-h.length+n.err.line));o=!0}else if(l){if(!c.tagClosed)return Di("InvalidTag","Closing tag '"+a+"' doesn't have proper closing.",Mi(e,s));if(h.trim().length>0)return Di("InvalidTag","Closing tag '"+a+"' can't have attributes or invalid starting.",Mi(e,s));{const t=n.pop();if(a!==t)return Di("InvalidTag","Closing tag '"+t+"' is expected inplace of '"+a+"'.",Mi(e,s));0==n.length&&(r=!0)}}else{const i=Fi(h,t);if(!0!==i)return Di(i.err.code,i.err.msg,Mi(e,s-h.length+i.err.line));if(!0===r)return Di("InvalidXml","Multiple possible root nodes found.",Mi(e,s));n.push(a),o=!0}for(s++;s<e.length;s++){if("<"===e[s]){if("!"===e[s+1]){s++,s=Ti(e,s);continue}break}if("&"===e[s]){const t=Ii(e,s);if(-1==t)return Di("InvalidChar","char '&' is not expected.",Mi(e,s));s=t}}"<"===e[s]&&s--}}}var i;return o?!(n.length>0)||Di("InvalidXml","Invalid '"+JSON.stringify(n,null,4).replace(/\r?\n/g,"")+"' found.",1):Di("InvalidXml","Start tag expected.",1)};const ji=function(e){return String.fromCharCode(e)},Wi={nilChar:ji(176),missingChar:ji(201),nilPremitive:ji(175),missingPremitive:ji(200),emptyChar:ji(178),emptyValue:ji(177),boundryChar:ji(179),objStart:ji(198),arrStart:ji(204),arrayEnd:ji(185)},Bi=[Wi.nilChar,Wi.nilPremitive,Wi.missingChar,Wi.missingPremitive,Wi.boundryChar,Wi.emptyChar,Wi.emptyValue,Wi.arrayEnd,Wi.objStart,Wi.arrStart],Ui=function(e,t,n){if("string"==typeof t)return e&&e[0]&&void 0!==e[0].val?$i(e[0].val):$i(e);{const r=void 0===(o=e)?Wi.missingChar:null===o?Wi.nilChar:!(o.child&&0===Object.keys(o.child).length&&(!o.attrsMap||0===Object.keys(o.attrsMap).length))||Wi.emptyChar;if(!0===r){let o="";if(Array.isArray(t)){o+=Wi.arrStart;const r=t[0],i=e.length;if("string"==typeof r)for(let t=0;t<i;t++){const n=$i(e[t].val);o=Hi(o,n)}else for(let t=0;t<i;t++){const i=Ui(e[t],r,n);o=Hi(o,i)}o+=Wi.arrayEnd}else{o+=Wi.objStart;const r=Object.keys(t);Array.isArray(e)&&(e=e[0]);for(let i in r){const s=r[i];let l;l=!n.ignoreAttributes&&e.attrsMap&&e.attrsMap[s]?Ui(e.attrsMap[s],t[s],n):s===n.textNodeName?Ui(e.val,t[s],n):Ui(e.child[s],t[s],n),o=Hi(o,l)}}return o}return r}var o},$i=function(e){switch(e){case void 0:return Wi.missingPremitive;case null:return Wi.nilPremitive;case"":return Wi.emptyValue;default:return e}},Hi=function(e,t){return Xi(t[0])||Xi(e[e.length-1])||(e+=Wi.boundryChar),e+t},Xi=function(e){return-1!==Bi.indexOf(e)};const zi=hi.buildOptions;var Gi={convert2nimn:function(e,t,n){return n=zi(n,Ni.defaultOptions,Ni.props),Ui(e,t,n)}};const Ji=hi.buildOptions,Ki=function(e,t,n){let o="{";const r=Object.keys(e.child);for(let a=0;a<r.length;a++){var i=r[a];if(e.child[i]&&e.child[i].length>1){for(var s in o+='"'+i+'" : [ ',e.child[i])o+=Ki(e.child[i][s],t)+" , ";o=o.substr(0,o.length-1)+" ] "}else o+='"'+i+'" : '+Ki(e.child[i][0],t)+" ,"}return hi.merge(o,e.attrsMap),hi.isEmptyObject(o)?hi.isExist(e.val)?e.val:"":(hi.isExist(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)&&(o+='"'+t.textNodeName+'" : '+(!0!==(l=e.val)&&!1!==l&&isNaN(l)?'"'+l+'"':l)),","===o[o.length-1]&&(o=o.substr(0,o.length-2)),o+"}");var l};var Zi={convertToJsonString:function(e,t){return(t=Ji(t,Ni.defaultOptions,Ni.props)).indentBy=t.indentBy||"",Ki(e,t)}};const Yi=hi.buildOptions,Qi={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e}},es=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor"];function ts(e){this.options=Yi(e,Qi,es),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=cs),this.options.cdataTagName?this.isCDATA=hs:this.isCDATA=function(){return!1},this.replaceCDATAstr=ns,this.replaceCDATAarr=os,this.options.format?(this.indentate=as,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=ls,this.buildObjNode=is):(this.buildTextNode=ss,this.buildObjNode=rs),this.buildTextValNode=ss,this.buildObjectNode=rs}function ns(e,t){return e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e?e+"<![CDATA["+t+"]]"+this.tagEndChar:e.replace(this.options.cdataPositionChar,"<![CDATA["+t+"]]"+this.tagEndChar)}function os(e,t){if(e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e)return e+"<![CDATA["+t.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let n in t)e=e.replace(this.options.cdataPositionChar,"<![CDATA["+t[n]+"]]>");return e+this.newLine}function rs(e,t,n,o){return n&&!e.includes("<")?this.indentate(o)+"<"+t+n+">"+e+"</"+t+this.tagEndChar:this.indentate(o)+"<"+t+n+this.tagEndChar+e+this.indentate(o)+"</"+t+this.tagEndChar}function is(e,t,n,o){return""!==e?this.buildObjectNode(e,t,n,o):this.indentate(o)+"<"+t+n+"/"+this.tagEndChar}function ss(e,t,n,o){return this.indentate(o)+"<"+t+n+">"+this.options.tagValueProcessor(e)+"</"+t+this.tagEndChar}function ls(e,t,n,o){return""!==e?this.buildTextValNode(e,t,n,o):this.indentate(o)+"<"+t+n+"/"+this.tagEndChar}function as(e){return this.options.indentBy.repeat(e)}function cs(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}function hs(e){return e===this.options.cdataTagName}ts.prototype.parse=function(e){return this.j2x(e,0).val},ts.prototype.j2x=function(e,t){let n="",o="";const r=Object.keys(e),i=r.length;for(let s=0;s<i;s++){const i=r[s];if(void 0===e[i]);else if(null===e[i])o+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)o+=this.buildTextNode(e[i],i,"",t);else if("object"!=typeof e[i]){const r=this.isAttribute(i);r?n+=" "+r+'="'+this.options.attrValueProcessor(""+e[i])+'"':this.isCDATA(i)?e[this.options.textNodeName]?o+=this.replaceCDATAstr(e[this.options.textNodeName],e[i]):o+=this.replaceCDATAstr("",e[i]):i===this.options.textNodeName?e[this.options.cdataTagName]||(o+=this.options.tagValueProcessor(""+e[i])):o+=this.buildTextNode(e[i],i,"",t)}else if(Array.isArray(e[i]))if(this.isCDATA(i))o+=this.indentate(t),e[this.options.textNodeName]?o+=this.replaceCDATAarr(e[this.options.textNodeName],e[i]):o+=this.replaceCDATAarr("",e[i]);else{const n=e[i].length;for(let r=0;r<n;r++){const n=e[i][r];if(void 0===n);else if(null===n)o+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if("object"==typeof n){const e=this.j2x(n,t+1);o+=this.buildObjNode(e.val,i,e.attrStr,t)}else o+=this.buildTextNode(n,i,"",t)}}else if(this.options.attrNodeName&&i===this.options.attrNodeName){const t=Object.keys(e[i]),o=t.length;for(let r=0;r<o;r++)n+=" "+t[r]+'="'+this.options.attrValueProcessor(""+e[i][t[r]])+'"'}else{const n=this.j2x(e[i],t+1);o+=this.buildObjNode(n.val,i,n.attrStr,t)}}return{attrStr:n,val:o}};var us=ts;ci((function(e,t){const n=Ni,o=hi.buildOptions;t.parse=function(e,t,r){if(r){!0===r&&(r={});const t=Vi(e,r);if(!0!==t)throw Error(t.err.msg)}t=o(t,n.defaultOptions,n.props);const i=Ni.getTraversalObj(e,t);return pi.convertToJson(i,t)},t.convertTonimn=Gi.convert2nimn,t.getTraversalObj=Ni.getTraversalObj,t.convertToJson=pi.convertToJson,t.convertToJsonString=Zi.convertToJsonString,t.validate=Vi,t.j2xParser=us,t.parseToNimn=function(e,n,o){return t.convertTonimn(t.getTraversalObj(e,o),n,o)}}));const ps=e=>e?e.map((e=>e.join("\t"))).join("\n"):"",fs=["#e6194b","#3cb44b","#ffe119","#4363d8","#f58231","#911eb4","#46f0f0","#f032e6","#bcf60c","#fabebe","#008080","#e6beff","#9a6324","#fffac8","#800000","#aaffc3","#808000","#ffd8b1","#000075","#808080","#000000"];class ds{constructor(){this._config=He(Rr()),this._analysisConfig=He({domain:Xr.WORDS,itemsToWatch:10,calculationType:Kr.STATIC,alignment:4,choice:Yr.NORMAL,kValue:0,competType:ei.RAW,competSlope:4}),this._sortedPhonemes=Ho((()=>[...this.config.phonology].sort(((e,t)=>e.label.localeCompare(t.label))))),this._sim=et(null),this._cyclesToCalculate=et(60),this._calculatedCycles=Ho((()=>{var e;return(null==(e=this._sim.value)?void 0:e.getStepsRun())||0})),this._currentCycle=et(0),this._formattedInputData=Ho((()=>{var e;return ps(null==(e=this._sim.value)?void 0:e.getInputData(this._currentCycle.value))})),this._formattedFeatureData=Ho((()=>{var e;return ps(null==(e=this._sim.value)?void 0:e.getFeatureData(this._currentCycle.value))})),this._formattedPhonemeData=Ho((()=>{var e;return ps(null==(e=this._sim.value)?void 0:e.getPhonemeData(this._currentCycle.value))})),this._formattedWordData=Ho((()=>{var e;return ps(null==(e=this._sim.value)?void 0:e.getWordData(this._currentCycle.value))})),this._formattedLevelsAndFlowData=Ho((()=>{var e;return ps(null==(e=this._sim.value)?void 0:e.getAllLevelsAndFlowData().map((([e],t)=>[t,...e.map((e=>e.toFixed(13).padEnd(18," ")))])))})),this._analysisData=et([]),this._formattedAnalysisData=Ho((()=>si(this._analysisData.value,!0))),this._useBoxChart=et(!1)}get config(){return this._config}get analysisConfig(){return this._analysisConfig}get sortedPhonemes(){return this._sortedPhonemes}get sim(){return this._sim}get cyclesToCalculate(){return this._cyclesToCalculate}get calculatedCycles(){return this._calculatedCycles}get currentCycle(){return this._currentCycle}get formattedInputData(){return this._formattedInputData}get formattedFeatureData(){return this._formattedFeatureData}get formattedPhonemeData(){return this._formattedPhonemeData}get formattedWordData(){return this._formattedWordData}get formattedLevelsAndFlowData(){return this._formattedLevelsAndFlowData}get analysisData(){return this._analysisData}get formattedAnalysisData(){return this._formattedAnalysisData}get useBoxChart(){return this._useBoxChart}updateAnalysis(){this._analysisData.value=ii(e(e({},this.analysisConfig),{sim:this.sim.value})).map(((t,n)=>e(e({},t),{fill:!1,borderColor:fs[n],showLine:!0})))}runSimulation(){const e=JSON.parse(JSON.stringify(this._config));console.time("trace.js");const t=new Hr(e);t.cycle(this._cyclesToCalculate.value),console.timeEnd("trace.js"),this._currentCycle.value=Math.min(Math.max(this.currentCycle.value,0),this._calculatedCycles.value),this._sim.value=t,this.updateAnalysis()}}const ms=Symbol(),gs=()=>{const e=new ds;return So(ms,e),e},bs=()=>Ao(ms);var ys=kn({name:"App",components:{NavigationTabs:Er},setup(){const e=[{label:"Config",component:Vn((()=>Tr((()=>__import__("./ConfigTab.a2ad5043.js")),["/tracejs/assets/ConfigTab.a2ad5043.js","/tracejs/assets/ConfigTab.8965b940.css","/tracejs/assets/ModelInputChart.34d802fc.js","/tracejs/assets/BaseChart.565d3a44.js"])))},{label:"Simulation",component:Vn((()=>Tr((()=>__import__("./SimulationTab.8c808f65.js")),["/tracejs/assets/SimulationTab.8c808f65.js","/tracejs/assets/SimulationTab.8cae9f64.css","/tracejs/assets/SimulationToolbar.68a87b21.js","/tracejs/assets/SimulationToolbar.363bf57b.css","/tracejs/assets/ModelInputChart.34d802fc.js","/tracejs/assets/BaseChart.565d3a44.js"])))},{label:"Input",component:Vn((()=>Tr((()=>__import__("./InputTab.32c4b0d9.js")),["/tracejs/assets/InputTab.32c4b0d9.js","/tracejs/assets/DataTab.f010576f.js","/tracejs/assets/DataTab.ff372ca1.css","/tracejs/assets/SimulationToolbar.68a87b21.js","/tracejs/assets/SimulationToolbar.363bf57b.css"])))},{label:"Feature",component:Vn((()=>Tr((()=>__import__("./FeatureTab.425de50d.js")),["/tracejs/assets/FeatureTab.425de50d.js","/tracejs/assets/DataTab.f010576f.js","/tracejs/assets/DataTab.ff372ca1.css","/tracejs/assets/SimulationToolbar.68a87b21.js","/tracejs/assets/SimulationToolbar.363bf57b.css"])))},{label:"Phoneme",component:Vn((()=>Tr((()=>__import__("./PhonemeTab.0b03c232.js")),["/tracejs/assets/PhonemeTab.0b03c232.js","/tracejs/assets/DataTab.f010576f.js","/tracejs/assets/DataTab.ff372ca1.css","/tracejs/assets/SimulationToolbar.68a87b21.js","/tracejs/assets/SimulationToolbar.363bf57b.css"])))},{label:"Word",component:Vn((()=>Tr((()=>__import__("./WordTab.77a73e01.js")),["/tracejs/assets/WordTab.77a73e01.js","/tracejs/assets/DataTab.f010576f.js","/tracejs/assets/DataTab.ff372ca1.css","/tracejs/assets/SimulationToolbar.68a87b21.js","/tracejs/assets/SimulationToolbar.363bf57b.css"])))},{label:"Levels and Flow",component:Vn((()=>Tr((()=>__import__("./LevelsAndFlowTab.20452b8e.js")),["/tracejs/assets/LevelsAndFlowTab.20452b8e.js","/tracejs/assets/DataTab.f010576f.js","/tracejs/assets/DataTab.ff372ca1.css","/tracejs/assets/SimulationToolbar.68a87b21.js","/tracejs/assets/SimulationToolbar.363bf57b.css"])))},{label:"Analysis",component:Vn((()=>Tr((()=>__import__("./AnalysisTab.d831f424.js")),["/tracejs/assets/AnalysisTab.d831f424.js","/tracejs/assets/DataTab.f010576f.js","/tracejs/assets/DataTab.ff372ca1.css","/tracejs/assets/SimulationToolbar.68a87b21.js","/tracejs/assets/SimulationToolbar.363bf57b.css"])))},{label:"Analysis (Chart)",component:Vn((()=>Tr((()=>__import__("./ChartTab.16e28177.js")),["/tracejs/assets/ChartTab.16e28177.js","/tracejs/assets/ChartTab.77b0e510.css","/tracejs/assets/SimulationToolbar.68a87b21.js","/tracejs/assets/SimulationToolbar.363bf57b.css","/tracejs/assets/BaseChart.565d3a44.js"])))}],t=et(0);return{labels:e.map((e=>e.label)),activeIndex:t,activeComponent:Ho((()=>e[t.value].component)),store:gs()}}});var vs={nav:"_nav_19fpx_2",main:"_main_19fpx_6"};const _s=go("loading...");(ys.__cssModules={}).$style=vs,ys.render=function(e,t,n,o,r,i){const s=Gn("NavigationTabs");return io(),lo(Qn,null,[fo("nav",{class:e.$style.nav},[fo(s,{labels:e.labels,"active-index":e.activeIndex,"onUpdate:active-index":t[1]||(t[1]=t=>e.activeIndex=t),"is-boxed":""},null,8,["labels","active-index"])],2),fo("main",{class:e.$style.main},[(io(),lo(Bt,null,{default:Gt((()=>[(io(),lo(Kn(e.activeComponent)))])),fallback:Gt((()=>[_s])),_:1}))],2)],64)},((...e)=>{const t=(wr||(wr=$n(Nr))).createApp(...e),{mount:n}=t;return t.mount=e=>{const o=function(e){if(q(e)){return document.querySelector(e)}return e}(e);if(!o)return;const r=t._component;O(r)||r.render||r.template||(r.template=o.innerHTML),o.innerHTML="";const i=n(o);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t})(ys).mount("#app");export{Pr as A,Gr as B,Xr as C,ei as D,Yr as E,Qn as F,Kr as G,vr as H,Ur as T,Er as _,lo as a,fo as b,Ho as c,kn as d,Fn as e,gr as f,bs as g,_r as h,zo as i,go as j,Gn as k,Dr as l,Yt as m,bo as n,io as o,Zt as p,Qt as q,et as r,Kn as s,u as t,ai as u,br as v,vn as w,ci as x,li as y,Xo as z};
