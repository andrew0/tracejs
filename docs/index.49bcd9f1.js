/*!
 * Vue.js v2.6.12
 * (c) 2014-2020 Evan You
 * Released under the MIT License.
 */
var t=Object.freeze({});function e(t){return null==t}function n(t){return null!=t}function i(t){return!0===t}function a(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function o(t){return null!==t&&"object"==typeof t}var s=Object.prototype.toString;function l(t){return"[object Object]"===s.call(t)}function c(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function h(t){return n(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function u(t){return null==t?"":Array.isArray(t)||l(t)&&t.toString===s?JSON.stringify(t,null,2):String(t)}function d(t){var e=parseFloat(t);return isNaN(e)?t:e}function f(t,e){for(var n=Object.create(null),i=t.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}f("slot,component",!0);var p=f("key,ref,slot,slot-scope,is");function m(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var v=Object.prototype.hasOwnProperty;function y(t,e){return v.call(t,e)}function _(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var x=/-(\w)/g,w=_((function(t){return t.replace(x,(function(t,e){return e?e.toUpperCase():""}))})),k=_((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),C=/\B([A-Z])/g,S=_((function(t){return t.replace(C,"-$1").toLowerCase()}));var A=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function M(t,e){e=e||0;for(var n=t.length-e,i=new Array(n);n--;)i[n]=t[n+e];return i}function T(t,e){for(var n in e)t[n]=e[n];return t}function D(t){for(var e={},n=0;n<t.length;n++)t[n]&&T(e,t[n]);return e}function P(t,e,n){}var O=function(t,e,n){return!1},I=function(t){return t};function N(t,e){if(t===e)return!0;var n=o(t),i=o(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var r=Array.isArray(t),a=Array.isArray(e);if(r&&a)return t.length===e.length&&t.every((function(t,n){return N(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(r||a)return!1;var s=Object.keys(t),l=Object.keys(e);return s.length===l.length&&s.every((function(n){return N(t[n],e[n])}))}catch(t){return!1}}function F(t,e){for(var n=0;n<t.length;n++)if(N(t[n],e))return n;return-1}function E(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var R=["component","directive","filter"],L=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],z={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:O,isReservedAttr:O,isUnknownElement:O,getTagNamespace:P,parsePlatformTagName:I,mustUseProp:O,async:!0,_lifecycleHooks:L};function W(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var j=new RegExp("[^"+/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/.source+".$_\\d]");var B,V="__proto__"in{},q="undefined"!=typeof window,$="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,Y=$&&WXEnvironment.platform.toLowerCase(),H=q&&window.navigator.userAgent.toLowerCase(),U=H&&/msie|trident/.test(H),G=H&&H.indexOf("msie 9.0")>0,X=H&&H.indexOf("edge/")>0,Z=(H&&H.indexOf("android"),H&&/iphone|ipad|ipod|ios/.test(H)||"ios"===Y),J=(H&&/chrome\/\d+/.test(H),H&&/phantomjs/.test(H),H&&H.match(/firefox\/(\d+)/)),K={}.watch,Q=!1;if(q)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){Q=!0}}),window.addEventListener("test-passive",null,tt)}catch(t){}var et=function(){return void 0===B&&(B=!q&&!$&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),B},nt=q&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function it(t){return"function"==typeof t&&/native code/.test(t.toString())}var rt,at="undefined"!=typeof Symbol&&it(Symbol)&&"undefined"!=typeof Reflect&&it(Reflect.ownKeys);rt="undefined"!=typeof Set&&it(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ot=P,st=0,lt=function(){this.id=st++,this.subs=[]};lt.prototype.addSub=function(t){this.subs.push(t)},lt.prototype.removeSub=function(t){m(this.subs,t)},lt.prototype.depend=function(){lt.target&&lt.target.addDep(this)},lt.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},lt.target=null;var ct=[];function ht(t){ct.push(t),lt.target=t}function ut(){ct.pop(),lt.target=ct[ct.length-1]}var dt=function(t,e,n,i,r,a,o,s){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},ft={child:{configurable:!0}};ft.child.get=function(){return this.componentInstance},Object.defineProperties(dt.prototype,ft);var pt=function(t){void 0===t&&(t="");var e=new dt;return e.text=t,e.isComment=!0,e};function mt(t){return new dt(void 0,void 0,void 0,String(t))}function gt(t){var e=new dt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var vt=Array.prototype,yt=Object.create(vt);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(t){var e=vt[t];W(yt,t,(function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];var r,a=e.apply(this,n),o=this.__ob__;switch(t){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2)}return r&&o.observeArray(r),o.dep.notify(),a}))}));var bt=Object.getOwnPropertyNames(yt),_t=!0;function xt(t){_t=t}var wt=function(t){var e;this.value=t,this.dep=new lt,this.vmCount=0,W(t,"__ob__",this),Array.isArray(t)?(V?(e=yt,t.__proto__=e):function(t,e,n){for(var i=0,r=n.length;i<r;i++){var a=n[i];W(t,a,e[a])}}(t,yt,bt),this.observeArray(t)):this.walk(t)};function kt(t,e){var n;if(o(t)&&!(t instanceof dt))return y(t,"__ob__")&&t.__ob__ instanceof wt?n=t.__ob__:_t&&!et()&&(Array.isArray(t)||l(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new wt(t)),e&&n&&n.vmCount++,n}function Ct(t,e,n,i,r){var a=new lt,o=Object.getOwnPropertyDescriptor(t,e);if(!o||!1!==o.configurable){var s=o&&o.get,l=o&&o.set;s&&!l||2!==arguments.length||(n=t[e]);var c=!r&&kt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return lt.target&&(a.depend(),c&&(c.dep.depend(),Array.isArray(e)&&Mt(e))),e},set:function(e){var i=s?s.call(t):n;e===i||e!=e&&i!=i||s&&!l||(l?l.call(t,e):n=e,c=!r&&kt(e),a.notify())}})}}function St(t,e,n){if(Array.isArray(t)&&c(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var i=t.__ob__;return t._isVue||i&&i.vmCount?n:i?(Ct(i.value,e,n),i.dep.notify(),n):(t[e]=n,n)}function At(t,e){if(Array.isArray(t)&&c(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||y(t,e)&&(delete t[e],n&&n.dep.notify())}}function Mt(t){for(var e=void 0,n=0,i=t.length;n<i;n++)(e=t[n])&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Mt(e)}wt.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Ct(t,e[n])},wt.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)kt(t[e])};var Tt=z.optionMergeStrategies;function Dt(t,e){if(!e)return t;for(var n,i,r,a=at?Reflect.ownKeys(e):Object.keys(e),o=0;o<a.length;o++)"__ob__"!==(n=a[o])&&(i=t[n],r=e[n],y(t,n)?i!==r&&l(i)&&l(r)&&Dt(i,r):St(t,n,r));return t}function Pt(t,e,n){return n?function(){var i="function"==typeof e?e.call(n,n):e,r="function"==typeof t?t.call(n,n):t;return i?Dt(i,r):r}:e?t?function(){return Dt("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Ot(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function It(t,e,n,i){var r=Object.create(t||null);return e?T(r,e):r}Tt.data=function(t,e,n){return n?Pt(t,e,n):e&&"function"!=typeof e?t:Pt(t,e)},L.forEach((function(t){Tt[t]=Ot})),R.forEach((function(t){Tt[t+"s"]=It})),Tt.watch=function(t,e,n,i){if(t===K&&(t=void 0),e===K&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};for(var a in T(r,t),e){var o=r[a],s=e[a];o&&!Array.isArray(o)&&(o=[o]),r[a]=o?o.concat(s):Array.isArray(s)?s:[s]}return r},Tt.props=Tt.methods=Tt.inject=Tt.computed=function(t,e,n,i){if(!t)return e;var r=Object.create(null);return T(r,t),e&&T(r,e),r},Tt.provide=Pt;var Nt=function(t,e){return void 0===e?t:e};function Ft(t,e,n){if("function"==typeof e&&(e=e.options),function(t,e){var n=t.props;if(n){var i,r,a={};if(Array.isArray(n))for(i=n.length;i--;)"string"==typeof(r=n[i])&&(a[w(r)]={type:null});else if(l(n))for(var o in n)r=n[o],a[w(o)]=l(r)?r:{type:r};t.props=a}}(e),function(t,e){var n=t.inject;if(n){var i=t.inject={};if(Array.isArray(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(l(n))for(var a in n){var o=n[a];i[a]=l(o)?T({from:a},o):{from:o}}}}(e),function(t){var e=t.directives;if(e)for(var n in e){var i=e[n];"function"==typeof i&&(e[n]={bind:i,update:i})}}(e),!e._base&&(e.extends&&(t=Ft(t,e.extends,n)),e.mixins))for(var i=0,r=e.mixins.length;i<r;i++)t=Ft(t,e.mixins[i],n);var a,o={};for(a in t)s(a);for(a in e)y(t,a)||s(a);function s(i){var r=Tt[i]||Nt;o[i]=r(t[i],e[i],n,i)}return o}function Et(t,e,n,i){if("string"==typeof n){var r=t[e];if(y(r,n))return r[n];var a=w(n);if(y(r,a))return r[a];var o=k(a);return y(r,o)?r[o]:r[n]||r[a]||r[o]}}function Rt(t,e,n,i){var r=e[t],a=!y(n,t),o=n[t],s=Wt(Boolean,r.type);if(s>-1)if(a&&!y(r,"default"))o=!1;else if(""===o||o===S(t)){var l=Wt(String,r.type);(l<0||s<l)&&(o=!0)}if(void 0===o){o=function(t,e,n){if(!y(e,"default"))return;var i=e.default;if(t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n])return t._props[n];return"function"==typeof i&&"Function"!==Lt(e.type)?i.call(t):i}(i,r,t);var c=_t;xt(!0),kt(o),xt(c)}return o}function Lt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function zt(t,e){return Lt(t)===Lt(e)}function Wt(t,e){if(!Array.isArray(e))return zt(e,t)?0:-1;for(var n=0,i=e.length;n<i;n++)if(zt(e[n],t))return n;return-1}function jt(t,e,n){ht();try{if(e)for(var i=e;i=i.$parent;){var r=i.$options.errorCaptured;if(r)for(var a=0;a<r.length;a++)try{if(!1===r[a].call(i,t,e,n))return}catch(t){Vt(t,i,"errorCaptured hook")}}Vt(t,e,n)}finally{ut()}}function Bt(t,e,n,i,r){var a;try{(a=n?t.apply(e,n):t.call(e))&&!a._isVue&&h(a)&&!a._handled&&(a.catch((function(t){return jt(t,i,r+" (Promise/async)")})),a._handled=!0)}catch(t){jt(t,i,r)}return a}function Vt(t,e,n){if(z.errorHandler)try{return z.errorHandler.call(null,t,e,n)}catch(e){e!==t&&qt(e)}qt(t)}function qt(t,e,n){if(!q&&!$||"undefined"==typeof console)throw t;console.error(t)}var $t,Yt=!1,Ht=[],Ut=!1;function Gt(){Ut=!1;var t=Ht.slice(0);Ht.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&it(Promise)){var Xt=Promise.resolve();$t=function(){Xt.then(Gt),Z&&setTimeout(P)},Yt=!0}else if(U||"undefined"==typeof MutationObserver||!it(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())$t="undefined"!=typeof setImmediate&&it(setImmediate)?function(){setImmediate(Gt)}:function(){setTimeout(Gt,0)};else{var Zt=1,Jt=new MutationObserver(Gt),Kt=document.createTextNode(String(Zt));Jt.observe(Kt,{characterData:!0}),$t=function(){Zt=(Zt+1)%2,Kt.data=String(Zt)},Yt=!0}function Qt(t,e){var n;if(Ht.push((function(){if(t)try{t.call(e)}catch(t){jt(t,e,"nextTick")}else n&&n(e)})),Ut||(Ut=!0,$t()),!t&&"undefined"!=typeof Promise)return new Promise((function(t){n=t}))}var te=new rt;function ee(t){!function t(e,n){var i,r,a=Array.isArray(e);if(!a&&!o(e)||Object.isFrozen(e)||e instanceof dt)return;if(e.__ob__){var s=e.__ob__.dep.id;if(n.has(s))return;n.add(s)}if(a)for(i=e.length;i--;)t(e[i],n);else for(r=Object.keys(e),i=r.length;i--;)t(e[r[i]],n)}(t,te),te.clear()}var ne=_((function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),i="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=i?t.slice(1):t,once:n,capture:i,passive:e}}));function ie(t,e){function n(){var t=arguments,i=n.fns;if(!Array.isArray(i))return Bt(i,null,arguments,e,"v-on handler");for(var r=i.slice(),a=0;a<r.length;a++)Bt(r[a],null,t,e,"v-on handler")}return n.fns=t,n}function re(t,n,r,a,o,s){var l,c,h,u;for(l in t)c=t[l],h=n[l],u=ne(l),e(c)||(e(h)?(e(c.fns)&&(c=t[l]=ie(c,s)),i(u.once)&&(c=t[l]=o(u.name,c,u.capture)),r(u.name,c,u.capture,u.passive,u.params)):c!==h&&(h.fns=c,t[l]=h));for(l in n)e(t[l])&&a((u=ne(l)).name,n[l],u.capture)}function ae(t,r,a){var o;t instanceof dt&&(t=t.data.hook||(t.data.hook={}));var s=t[r];function l(){a.apply(this,arguments),m(o.fns,l)}e(s)?o=ie([l]):n(s.fns)&&i(s.merged)?(o=s).fns.push(l):o=ie([s,l]),o.merged=!0,t[r]=o}function oe(t,e,i,r,a){if(n(e)){if(y(e,i))return t[i]=e[i],a||delete e[i],!0;if(y(e,r))return t[i]=e[r],a||delete e[r],!0}return!1}function se(t){return a(t)?[mt(t)]:Array.isArray(t)?function t(r,o){var s,l,c,h,u=[];for(s=0;s<r.length;s++)e(l=r[s])||"boolean"==typeof l||(c=u.length-1,h=u[c],Array.isArray(l)?l.length>0&&(le((l=t(l,(o||"")+"_"+s))[0])&&le(h)&&(u[c]=mt(h.text+l[0].text),l.shift()),u.push.apply(u,l)):a(l)?le(h)?u[c]=mt(h.text+l):""!==l&&u.push(mt(l)):le(l)&&le(h)?u[c]=mt(h.text+l.text):(i(r._isVList)&&n(l.tag)&&e(l.key)&&n(o)&&(l.key="__vlist"+o+"_"+s+"__"),u.push(l)));return u}(t):void 0}function le(t){return n(t)&&n(t.text)&&!1===t.isComment}function ce(t,e){if(t){for(var n=Object.create(null),i=at?Reflect.ownKeys(t):Object.keys(t),r=0;r<i.length;r++){var a=i[r];if("__ob__"!==a){for(var o=t[a].from,s=e;s;){if(s._provided&&y(s._provided,o)){n[a]=s._provided[o];break}s=s.$parent}if(!s&&"default"in t[a]){var l=t[a].default;n[a]="function"==typeof l?l.call(e):l}}}return n}}function he(t,e){if(!t||!t.length)return{};for(var n={},i=0,r=t.length;i<r;i++){var a=t[i],o=a.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,a.context!==e&&a.fnContext!==e||!o||null==o.slot)(n.default||(n.default=[])).push(a);else{var s=o.slot,l=n[s]||(n[s]=[]);"template"===a.tag?l.push.apply(l,a.children||[]):l.push(a)}}for(var c in n)n[c].every(ue)&&delete n[c];return n}function ue(t){return t.isComment&&!t.asyncFactory||" "===t.text}function de(e,n,i){var r,a=Object.keys(n).length>0,o=e?!!e.$stable:!a,s=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(o&&i&&i!==t&&s===i.$key&&!a&&!i.$hasNormal)return i;for(var l in r={},e)e[l]&&"$"!==l[0]&&(r[l]=fe(n,l,e[l]))}else r={};for(var c in n)c in r||(r[c]=pe(n,c));return e&&Object.isExtensible(e)&&(e._normalized=r),W(r,"$stable",o),W(r,"$key",s),W(r,"$hasNormal",a),r}function fe(t,e,n){var i=function(){var t=arguments.length?n.apply(null,arguments):n({});return(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:se(t))&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:i,enumerable:!0,configurable:!0}),i}function pe(t,e){return function(){return t[e]}}function me(t,e){var i,r,a,s,l;if(Array.isArray(t)||"string"==typeof t)for(i=new Array(t.length),r=0,a=t.length;r<a;r++)i[r]=e(t[r],r);else if("number"==typeof t)for(i=new Array(t),r=0;r<t;r++)i[r]=e(r+1,r);else if(o(t))if(at&&t[Symbol.iterator]){i=[];for(var c=t[Symbol.iterator](),h=c.next();!h.done;)i.push(e(h.value,i.length)),h=c.next()}else for(s=Object.keys(t),i=new Array(s.length),r=0,a=s.length;r<a;r++)l=s[r],i[r]=e(t[l],l,r);return n(i)||(i=[]),i._isVList=!0,i}function ge(t,e,n,i){var r,a=this.$scopedSlots[t];a?(n=n||{},i&&(n=T(T({},i),n)),r=a(n)||e):r=this.$slots[t]||e;var o=n&&n.slot;return o?this.$createElement("template",{slot:o},r):r}function ve(t){return Et(this.$options,"filters",t)||I}function ye(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function be(t,e,n,i,r){var a=z.keyCodes[e]||n;return r&&i&&!z.keyCodes[e]?ye(r,i):a?ye(a,t):i?S(i)!==e:void 0}function _e(t,e,n,i,r){if(n)if(o(n)){var a;Array.isArray(n)&&(n=D(n));var s=function(o){if("class"===o||"style"===o||p(o))a=t;else{var s=t.attrs&&t.attrs.type;a=i||z.mustUseProp(e,s,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var l=w(o),c=S(o);l in a||c in a||(a[o]=n[o],r&&((t.on||(t.on={}))["update:"+o]=function(t){n[o]=t}))};for(var l in n)s(l)}else;return t}function xe(t,e){var n=this._staticTrees||(this._staticTrees=[]),i=n[t];return i&&!e||ke(i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),i}function we(t,e,n){return ke(t,"__once__"+e+(n?"_"+n:""),!0),t}function ke(t,e,n){if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&"string"!=typeof t[i]&&Ce(t[i],e+"_"+i,n);else Ce(t,e,n)}function Ce(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Se(t,e){if(e)if(l(e)){var n=t.on=t.on?T({},t.on):{};for(var i in e){var r=n[i],a=e[i];n[i]=r?[].concat(r,a):a}}else;return t}function Ae(t,e,n,i){e=e||{$stable:!n};for(var r=0;r<t.length;r++){var a=t[r];Array.isArray(a)?Ae(a,e,n):a&&(a.proxy&&(a.fn.proxy=!0),e[a.key]=a.fn)}return i&&(e.$key=i),e}function Me(t,e){for(var n=0;n<e.length;n+=2){var i=e[n];"string"==typeof i&&i&&(t[e[n]]=e[n+1])}return t}function Te(t,e){return"string"==typeof t?e+t:t}function De(t){t._o=we,t._n=d,t._s=u,t._l=me,t._t=ge,t._q=N,t._i=F,t._m=xe,t._f=ve,t._k=be,t._b=_e,t._v=mt,t._e=pt,t._u=Ae,t._g=Se,t._d=Me,t._p=Te}function Pe(e,n,r,a,o){var s,l=this,c=o.options;y(a,"_uid")?(s=Object.create(a))._original=a:(s=a,a=a._original);var h=i(c._compiled),u=!h;this.data=e,this.props=n,this.children=r,this.parent=a,this.listeners=e.on||t,this.injections=ce(c.inject,a),this.slots=function(){return l.$slots||de(e.scopedSlots,l.$slots=he(r,a)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return de(e.scopedSlots,this.slots())}}),h&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=de(e.scopedSlots,this.$slots)),c._scopeId?this._c=function(t,e,n,i){var r=Le(s,t,e,n,i,u);return r&&!Array.isArray(r)&&(r.fnScopeId=c._scopeId,r.fnContext=a),r}:this._c=function(t,e,n,i){return Le(s,t,e,n,i,u)}}function Oe(t,e,n,i,r){var a=gt(t);return a.fnContext=n,a.fnOptions=i,e.slot&&((a.data||(a.data={})).slot=e.slot),a}function Ie(t,e){for(var n in e)t[w(n)]=e[n]}De(Pe.prototype);var Ne={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var i=t;Ne.prepatch(i,i)}else{(t.componentInstance=function(t,e){var i={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;n(r)&&(i.render=r.render,i.staticRenderFns=r.staticRenderFns);return new t.componentOptions.Ctor(i)}(t,Ue)).$mount(e?t.elm:void 0,e)}},prepatch:function(e,n){var i=n.componentOptions;!function(e,n,i,r,a){var o=r.data.scopedSlots,s=e.$scopedSlots,l=!!(o&&!o.$stable||s!==t&&!s.$stable||o&&e.$scopedSlots.$key!==o.$key),c=!!(a||e.$options._renderChildren||l);e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r);if(e.$options._renderChildren=a,e.$attrs=r.data.attrs||t,e.$listeners=i||t,n&&e.$options.props){xt(!1);for(var h=e._props,u=e.$options._propKeys||[],d=0;d<u.length;d++){var f=u[d],p=e.$options.props;h[f]=Rt(f,p,n,e)}xt(!0),e.$options.propsData=n}i=i||t;var m=e.$options._parentListeners;e.$options._parentListeners=i,He(e,i,m),c&&(e.$slots=he(a,r.context),e.$forceUpdate())}(n.componentInstance=e.componentInstance,i.propsData,i.listeners,n,i.children)},insert:function(t){var e,n=t.context,i=t.componentInstance;i._isMounted||(i._isMounted=!0,Je(i,"mounted")),t.data.keepAlive&&(n._isMounted?((e=i)._inactive=!1,Qe.push(e)):Ze(i,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,n){if(n&&(e._directInactive=!0,Xe(e)))return;if(!e._inactive){e._inactive=!0;for(var i=0;i<e.$children.length;i++)t(e.$children[i]);Je(e,"deactivated")}}(e,!0):e.$destroy())}},Fe=Object.keys(Ne);function Ee(r,a,s,l,c){if(!e(r)){var u=s.$options._base;if(o(r)&&(r=u.extend(r)),"function"==typeof r){var d;if(e(r.cid)&&void 0===(r=function(t,r){if(i(t.error)&&n(t.errorComp))return t.errorComp;if(n(t.resolved))return t.resolved;var a=We;a&&n(t.owners)&&-1===t.owners.indexOf(a)&&t.owners.push(a);if(i(t.loading)&&n(t.loadingComp))return t.loadingComp;if(a&&!n(t.owners)){var s=t.owners=[a],l=!0,c=null,u=null;a.$on("hook:destroyed",(function(){return m(s,a)}));var d=function(t){for(var e=0,n=s.length;e<n;e++)s[e].$forceUpdate();t&&(s.length=0,null!==c&&(clearTimeout(c),c=null),null!==u&&(clearTimeout(u),u=null))},f=E((function(e){t.resolved=je(e,r),l?s.length=0:d(!0)})),p=E((function(e){n(t.errorComp)&&(t.error=!0,d(!0))})),g=t(f,p);return o(g)&&(h(g)?e(t.resolved)&&g.then(f,p):h(g.component)&&(g.component.then(f,p),n(g.error)&&(t.errorComp=je(g.error,r)),n(g.loading)&&(t.loadingComp=je(g.loading,r),0===g.delay?t.loading=!0:c=setTimeout((function(){c=null,e(t.resolved)&&e(t.error)&&(t.loading=!0,d(!1))}),g.delay||200)),n(g.timeout)&&(u=setTimeout((function(){u=null,e(t.resolved)&&p(null)}),g.timeout)))),l=!1,t.loading?t.loadingComp:t.resolved}}(d=r,u)))return function(t,e,n,i,r){var a=pt();return a.asyncFactory=t,a.asyncMeta={data:e,context:n,children:i,tag:r},a}(d,a,s,l,c);a=a||{},_n(r),n(a.model)&&function(t,e){var i=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[i]=e.model.value;var a=e.on||(e.on={}),o=a[r],s=e.model.callback;n(o)?(Array.isArray(o)?-1===o.indexOf(s):o!==s)&&(a[r]=[s].concat(o)):a[r]=s}(r.options,a);var f=function(t,i,r){var a=i.options.props;if(!e(a)){var o={},s=t.attrs,l=t.props;if(n(s)||n(l))for(var c in a){var h=S(c);oe(o,l,c,h,!0)||oe(o,s,c,h,!1)}return o}}(a,r);if(i(r.options.functional))return function(e,i,r,a,o){var s=e.options,l={},c=s.props;if(n(c))for(var h in c)l[h]=Rt(h,c,i||t);else n(r.attrs)&&Ie(l,r.attrs),n(r.props)&&Ie(l,r.props);var u=new Pe(r,l,o,a,e),d=s.render.call(null,u._c,u);if(d instanceof dt)return Oe(d,r,u.parent,s);if(Array.isArray(d)){for(var f=se(d)||[],p=new Array(f.length),m=0;m<f.length;m++)p[m]=Oe(f[m],r,u.parent,s);return p}}(r,f,a,s,l);var p=a.on;if(a.on=a.nativeOn,i(r.options.abstract)){var g=a.slot;a={},g&&(a.slot=g)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<Fe.length;n++){var i=Fe[n],r=e[i],a=Ne[i];r===a||r&&r._merged||(e[i]=r?Re(a,r):a)}}(a);var v=r.options.name||c;return new dt("vue-component-"+r.cid+(v?"-"+v:""),a,void 0,void 0,void 0,s,{Ctor:r,propsData:f,listeners:p,tag:c,children:l},d)}}}function Re(t,e){var n=function(n,i){t(n,i),e(n,i)};return n._merged=!0,n}function Le(t,r,s,l,c,h){return(Array.isArray(s)||a(s))&&(c=l,l=s,s=void 0),i(h)&&(c=2),function(t,r,a,s,l){if(n(a)&&n(a.__ob__))return pt();n(a)&&n(a.is)&&(r=a.is);if(!r)return pt();Array.isArray(s)&&"function"==typeof s[0]&&((a=a||{}).scopedSlots={default:s[0]},s.length=0);2===l?s=se(s):1===l&&(s=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(s));var c,h;if("string"==typeof r){var u;h=t.$vnode&&t.$vnode.ns||z.getTagNamespace(r),c=z.isReservedTag(r)?new dt(z.parsePlatformTagName(r),a,s,void 0,void 0,t):a&&a.pre||!n(u=Et(t.$options,"components",r))?new dt(r,a,s,void 0,void 0,t):Ee(u,a,t,s,r)}else c=Ee(r,a,t,s);return Array.isArray(c)?c:n(c)?(n(h)&&function t(r,a,o){r.ns=a,"foreignObject"===r.tag&&(a=void 0,o=!0);if(n(r.children))for(var s=0,l=r.children.length;s<l;s++){var c=r.children[s];n(c.tag)&&(e(c.ns)||i(o)&&"svg"!==c.tag)&&t(c,a,o)}}(c,h),n(a)&&function(t){o(t.style)&&ee(t.style);o(t.class)&&ee(t.class)}(a),c):pt()}(t,r,s,l,c)}var ze,We=null;function je(t,e){return(t.__esModule||at&&"Module"===t[Symbol.toStringTag])&&(t=t.default),o(t)?e.extend(t):t}function Be(t){return t.isComment&&t.asyncFactory}function Ve(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var i=t[e];if(n(i)&&(n(i.componentOptions)||Be(i)))return i}}function qe(t,e){ze.$on(t,e)}function $e(t,e){ze.$off(t,e)}function Ye(t,e){var n=ze;return function i(){var r=e.apply(null,arguments);null!==r&&n.$off(t,i)}}function He(t,e,n){ze=t,re(e,n||{},qe,$e,Ye,t),ze=void 0}var Ue=null;function Ge(t){var e=Ue;return Ue=t,function(){Ue=e}}function Xe(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function Ze(t,e){if(e){if(t._directInactive=!1,Xe(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Ze(t.$children[n]);Je(t,"activated")}}function Je(t,e){ht();var n=t.$options[e],i=e+" hook";if(n)for(var r=0,a=n.length;r<a;r++)Bt(n[r],t,null,t,i);t._hasHookEvent&&t.$emit("hook:"+e),ut()}var Ke=[],Qe=[],tn={},en=!1,nn=!1,rn=0;var an=0,on=Date.now;if(q&&!U){var sn=window.performance;sn&&"function"==typeof sn.now&&on()>document.createEvent("Event").timeStamp&&(on=function(){return sn.now()})}function ln(){var t,e;for(an=on(),nn=!0,Ke.sort((function(t,e){return t.id-e.id})),rn=0;rn<Ke.length;rn++)(t=Ke[rn]).before&&t.before(),e=t.id,tn[e]=null,t.run();var n=Qe.slice(),i=Ke.slice();rn=Ke.length=Qe.length=0,tn={},en=nn=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Ze(t[e],!0)}(n),function(t){var e=t.length;for(;e--;){var n=t[e],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&Je(i,"updated")}}(i),nt&&z.devtools&&nt.emit("flush")}var cn=0,hn=function(t,e,n,i,r){this.vm=t,r&&(t._watcher=this),t._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++cn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new rt,this.newDepIds=new rt,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!j.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=P)),this.value=this.lazy?void 0:this.get()};hn.prototype.get=function(){var t;ht(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;jt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ee(t),ut(),this.cleanupDeps()}return t},hn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},hn.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},hn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==tn[e]){if(tn[e]=!0,nn){for(var n=Ke.length-1;n>rn&&Ke[n].id>t.id;)n--;Ke.splice(n+1,0,t)}else Ke.push(t);en||(en=!0,Qt(ln))}}(this)},hn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||o(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){jt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},hn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},hn.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},hn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||m(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var un={enumerable:!0,configurable:!0,get:P,set:P};function dn(t,e,n){un.get=function(){return this[e][n]},un.set=function(t){this[e][n]=t},Object.defineProperty(t,n,un)}function fn(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var n=t.$options.propsData||{},i=t._props={},r=t.$options._propKeys=[];t.$parent&&xt(!1);var a=function(a){r.push(a);var o=Rt(a,e,n,t);Ct(i,a,o),a in t||dn(t,"_props",a)};for(var o in e)a(o);xt(!0)}(t,e.props),e.methods&&function(t,e){t.$options.props;for(var n in e)t[n]="function"!=typeof e[n]?P:A(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;l(e=t._data="function"==typeof e?function(t,e){ht();try{return t.call(e,e)}catch(t){return jt(t,e,"data()"),{}}finally{ut()}}(e,t):e||{})||(e={});var n=Object.keys(e),i=t.$options.props,r=(t.$options.methods,n.length);for(;r--;){var a=n[r];i&&y(i,a)||(o=void 0,36!==(o=(a+"").charCodeAt(0))&&95!==o&&dn(t,"_data",a))}var o;kt(e,!0)}(t):kt(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),i=et();for(var r in e){var a=e[r],o="function"==typeof a?a:a.get;i||(n[r]=new hn(t,o||P,P,pn)),r in t||mn(t,r,a)}}(t,e.computed),e.watch&&e.watch!==K&&function(t,e){for(var n in e){var i=e[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)yn(t,n,i[r]);else yn(t,n,i)}}(t,e.watch)}var pn={lazy:!0};function mn(t,e,n){var i=!et();"function"==typeof n?(un.get=i?gn(e):vn(n),un.set=P):(un.get=n.get?i&&!1!==n.cache?gn(e):vn(n.get):P,un.set=n.set||P),Object.defineProperty(t,e,un)}function gn(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),lt.target&&e.depend(),e.value}}function vn(t){return function(){return t.call(this,this)}}function yn(t,e,n,i){return l(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,i)}var bn=0;function _n(t){var e=t.options;if(t.super){var n=_n(t.super);if(n!==t.superOptions){t.superOptions=n;var i=function(t){var e,n=t.options,i=t.sealedOptions;for(var r in n)n[r]!==i[r]&&(e||(e={}),e[r]=n[r]);return e}(t);i&&T(t.extendOptions,i),(e=t.options=Ft(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function xn(t){this._init(t)}function wn(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,i=n.cid,r=t._Ctor||(t._Ctor={});if(r[i])return r[i];var a=t.name||n.options.name,o=function(t){this._init(t)};return(o.prototype=Object.create(n.prototype)).constructor=o,o.cid=e++,o.options=Ft(n.options,t),o.super=n,o.options.props&&function(t){var e=t.options.props;for(var n in e)dn(t.prototype,"_props",n)}(o),o.options.computed&&function(t){var e=t.options.computed;for(var n in e)mn(t.prototype,n,e[n])}(o),o.extend=n.extend,o.mixin=n.mixin,o.use=n.use,R.forEach((function(t){o[t]=n[t]})),a&&(o.options.components[a]=o),o.superOptions=n.options,o.extendOptions=t,o.sealedOptions=T({},o.options),r[i]=o,o}}function kn(t){return t&&(t.Ctor.options.name||t.tag)}function Cn(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:(n=t,"[object RegExp]"===s.call(n)&&t.test(e));var n}function Sn(t,e){var n=t.cache,i=t.keys,r=t._vnode;for(var a in n){var o=n[a];if(o){var s=kn(o.componentOptions);s&&!e(s)&&An(n,a,i,r)}}}function An(t,e,n,i){var r=t[e];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),t[e]=null,m(n,e)}xn.prototype._init=function(e){var n=this;n._uid=bn++,n._isVue=!0,e&&e._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),i=e._parentVnode;n.parent=e.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(n,e):n.$options=Ft(_n(n.constructor),e||{},n),n._renderProxy=n,n._self=n,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(n),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&He(t,e)}(n),function(e){e._vnode=null,e._staticTrees=null;var n=e.$options,i=e.$vnode=n._parentVnode,r=i&&i.context;e.$slots=he(n._renderChildren,r),e.$scopedSlots=t,e._c=function(t,n,i,r){return Le(e,t,n,i,r,!1)},e.$createElement=function(t,n,i,r){return Le(e,t,n,i,r,!0)};var a=i&&i.data;Ct(e,"$attrs",a&&a.attrs||t,null,!0),Ct(e,"$listeners",n._parentListeners||t,null,!0)}(n),Je(n,"beforeCreate"),function(t){var e=ce(t.$options.inject,t);e&&(xt(!1),Object.keys(e).forEach((function(n){Ct(t,n,e[n])})),xt(!0))}(n),fn(n),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(n),Je(n,"created"),n.$options.el&&n.$mount(n.$options.el)},function(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=St,t.prototype.$delete=At,t.prototype.$watch=function(t,e,n){if(l(e))return yn(this,t,e,n);(n=n||{}).user=!0;var i=new hn(this,t,e,n);if(n.immediate)try{e.call(this,i.value)}catch(t){jt(t,this,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}(xn),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var i=this;if(Array.isArray(t))for(var r=0,a=t.length;r<a;r++)i.$on(t[r],n);else(i._events[t]||(i._events[t]=[])).push(n),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){var n=this;function i(){n.$off(t,i),e.apply(n,arguments)}return i.fn=e,n.$on(t,i),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var i=0,r=t.length;i<r;i++)n.$off(t[i],e);return n}var a,o=n._events[t];if(!o)return n;if(!e)return n._events[t]=null,n;for(var s=o.length;s--;)if((a=o[s])===e||a.fn===e){o.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?M(n):n;for(var i=M(arguments,1),r='event handler for "'+t+'"',a=0,o=n.length;a<o;a++)Bt(n[a],e,i,e,r)}return e}}(xn),function(t){t.prototype._update=function(t,e){var n=this,i=n.$el,r=n._vnode,a=Ge(n);n._vnode=t,n.$el=r?n.__patch__(r,t):n.__patch__(n.$el,t,e,!1),a(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Je(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||m(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Je(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(xn),function(t){De(t.prototype),t.prototype.$nextTick=function(t){return Qt(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,i=n.render,r=n._parentVnode;r&&(e.$scopedSlots=de(r.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=r;try{We=e,t=i.call(e._renderProxy,e.$createElement)}catch(n){jt(n,e,"render"),t=e._vnode}finally{We=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof dt||(t=pt()),t.parent=r,t}}(xn);var Mn=[String,RegExp,Array],Tn={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Mn,exclude:Mn,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)An(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",(function(e){Sn(t,(function(t){return Cn(e,t)}))})),this.$watch("exclude",(function(e){Sn(t,(function(t){return!Cn(e,t)}))}))},render:function(){var t=this.$slots.default,e=Ve(t),n=e&&e.componentOptions;if(n){var i=kn(n),r=this.include,a=this.exclude;if(r&&(!i||!Cn(r,i))||a&&i&&Cn(a,i))return e;var o=this.cache,s=this.keys,l=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;o[l]?(e.componentInstance=o[l].componentInstance,m(s,l),s.push(l)):(o[l]=e,s.push(l),this.max&&s.length>parseInt(this.max)&&An(o,s[0],s,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return z}};Object.defineProperty(t,"config",e),t.util={warn:ot,extend:T,mergeOptions:Ft,defineReactive:Ct},t.set=St,t.delete=At,t.nextTick=Qt,t.observable=function(t){return kt(t),t},t.options=Object.create(null),R.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,T(t.options.components,Tn),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=M(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Ft(this.options,t),this}}(t),wn(t),function(t){R.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&l(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}(t)}(xn),Object.defineProperty(xn.prototype,"$isServer",{get:et}),Object.defineProperty(xn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(xn,"FunctionalRenderContext",{value:Pe}),xn.version="2.6.12";var Dn=f("style,class"),Pn=f("input,textarea,option,select,progress"),On=f("contenteditable,draggable,spellcheck"),In=f("events,caret,typing,plaintext-only"),Nn=f("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Fn="http://www.w3.org/1999/xlink",En=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Rn=function(t){return En(t)?t.slice(6,t.length):""},Ln=function(t){return null==t||!1===t};function zn(t){for(var e=t.data,i=t,r=t;n(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=Wn(r.data,e));for(;n(i=i.parent);)i&&i.data&&(e=Wn(e,i.data));return function(t,e){if(n(t)||n(e))return jn(t,Bn(e));return""}(e.staticClass,e.class)}function Wn(t,e){return{staticClass:jn(t.staticClass,e.staticClass),class:n(t.class)?[t.class,e.class]:e.class}}function jn(t,e){return t?e?t+" "+e:t:e||""}function Bn(t){return Array.isArray(t)?function(t){for(var e,i="",r=0,a=t.length;r<a;r++)n(e=Bn(t[r]))&&""!==e&&(i&&(i+=" "),i+=e);return i}(t):o(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var Vn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},qn=f("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),$n=f("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Yn=function(t){return qn(t)||$n(t)};var Hn=Object.create(null);var Un=f("text,number,password,search,email,tel,url");var Gn=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(t,e){return document.createElementNS(Vn[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),Xn={create:function(t,e){Zn(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Zn(t,!0),Zn(e))},destroy:function(t){Zn(t,!0)}};function Zn(t,e){var i=t.data.ref;if(n(i)){var r=t.context,a=t.componentInstance||t.elm,o=r.$refs;e?Array.isArray(o[i])?m(o[i],a):o[i]===a&&(o[i]=void 0):t.data.refInFor?Array.isArray(o[i])?o[i].indexOf(a)<0&&o[i].push(a):o[i]=[a]:o[i]=a}}var Jn=new dt("",{},[]),Kn=["create","activate","update","remove","destroy"];function Qn(t,r){return t.key===r.key&&(t.tag===r.tag&&t.isComment===r.isComment&&n(t.data)===n(r.data)&&function(t,e){if("input"!==t.tag)return!0;var i,r=n(i=t.data)&&n(i=i.attrs)&&i.type,a=n(i=e.data)&&n(i=i.attrs)&&i.type;return r===a||Un(r)&&Un(a)}(t,r)||i(t.isAsyncPlaceholder)&&t.asyncFactory===r.asyncFactory&&e(r.asyncFactory.error))}function ti(t,e,i){var r,a,o={};for(r=e;r<=i;++r)n(a=t[r].key)&&(o[a]=r);return o}var ei={create:ni,update:ni,destroy:function(t){ni(t,Jn)}};function ni(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,i,r,a=t===Jn,o=e===Jn,s=ri(t.data.directives,t.context),l=ri(e.data.directives,e.context),c=[],h=[];for(n in l)i=s[n],r=l[n],i?(r.oldValue=i.value,r.oldArg=i.arg,oi(r,"update",e,t),r.def&&r.def.componentUpdated&&h.push(r)):(oi(r,"bind",e,t),r.def&&r.def.inserted&&c.push(r));if(c.length){var u=function(){for(var n=0;n<c.length;n++)oi(c[n],"inserted",e,t)};a?ae(e,"insert",u):u()}h.length&&ae(e,"postpatch",(function(){for(var n=0;n<h.length;n++)oi(h[n],"componentUpdated",e,t)}));if(!a)for(n in s)l[n]||oi(s[n],"unbind",t,t,o)}(t,e)}var ii=Object.create(null);function ri(t,e){var n,i,r=Object.create(null);if(!t)return r;for(n=0;n<t.length;n++)(i=t[n]).modifiers||(i.modifiers=ii),r[ai(i)]=i,i.def=Et(e.$options,"directives",i.name);return r}function ai(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function oi(t,e,n,i,r){var a=t.def&&t.def[e];if(a)try{a(n.elm,t,n,i,r)}catch(i){jt(i,n.context,"directive "+t.name+" "+e+" hook")}}var si=[Xn,ei];function li(t,i){var r=i.componentOptions;if(!(n(r)&&!1===r.Ctor.options.inheritAttrs||e(t.data.attrs)&&e(i.data.attrs))){var a,o,s=i.elm,l=t.data.attrs||{},c=i.data.attrs||{};for(a in n(c.__ob__)&&(c=i.data.attrs=T({},c)),c)o=c[a],l[a]!==o&&ci(s,a,o);for(a in(U||X)&&c.value!==l.value&&ci(s,"value",c.value),l)e(c[a])&&(En(a)?s.removeAttributeNS(Fn,Rn(a)):On(a)||s.removeAttribute(a))}}function ci(t,e,n){t.tagName.indexOf("-")>-1?hi(t,e,n):Nn(e)?Ln(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):On(e)?t.setAttribute(e,function(t,e){return Ln(e)||"false"===e?"false":"contenteditable"===t&&In(e)?e:"true"}(e,n)):En(e)?Ln(n)?t.removeAttributeNS(Fn,Rn(e)):t.setAttributeNS(Fn,e,n):hi(t,e,n)}function hi(t,e,n){if(Ln(n))t.removeAttribute(e);else{if(U&&!G&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,n)}}var ui={create:li,update:li};function di(t,i){var r=i.elm,a=i.data,o=t.data;if(!(e(a.staticClass)&&e(a.class)&&(e(o)||e(o.staticClass)&&e(o.class)))){var s=zn(i),l=r._transitionClasses;n(l)&&(s=jn(s,Bn(l))),s!==r._prevClass&&(r.setAttribute("class",s),r._prevClass=s)}}var fi,pi={create:di,update:di};function mi(t,e,n){var i=fi;return function r(){var a=e.apply(null,arguments);null!==a&&yi(t,r,n,i)}}var gi=Yt&&!(J&&Number(J[1])<=53);function vi(t,e,n,i){if(gi){var r=an,a=e;e=a._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=r||t.timeStamp<=0||t.target.ownerDocument!==document)return a.apply(this,arguments)}}fi.addEventListener(t,e,Q?{capture:n,passive:i}:n)}function yi(t,e,n,i){(i||fi).removeEventListener(t,e._wrapper||e,n)}function bi(t,i){if(!e(t.data.on)||!e(i.data.on)){var r=i.data.on||{},a=t.data.on||{};fi=i.elm,function(t){if(n(t.__r)){var e=U?"change":"input";t[e]=[].concat(t.__r,t[e]||[]),delete t.__r}n(t.__c)&&(t.change=[].concat(t.__c,t.change||[]),delete t.__c)}(r),re(r,a,vi,yi,mi,i.context),fi=void 0}}var _i,xi={create:bi,update:bi};function wi(t,i){if(!e(t.data.domProps)||!e(i.data.domProps)){var r,a,o=i.elm,s=t.data.domProps||{},l=i.data.domProps||{};for(r in n(l.__ob__)&&(l=i.data.domProps=T({},l)),s)r in l||(o[r]="");for(r in l){if(a=l[r],"textContent"===r||"innerHTML"===r){if(i.children&&(i.children.length=0),a===s[r])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===r&&"PROGRESS"!==o.tagName){o._value=a;var c=e(a)?"":String(a);ki(o,c)&&(o.value=c)}else if("innerHTML"===r&&$n(o.tagName)&&e(o.innerHTML)){(_i=_i||document.createElement("div")).innerHTML="<svg>"+a+"</svg>";for(var h=_i.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;h.firstChild;)o.appendChild(h.firstChild)}else if(a!==s[r])try{o[r]=a}catch(t){}}}}function ki(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var i=t.value,r=t._vModifiers;if(n(r)){if(r.number)return d(i)!==d(e);if(r.trim)return i.trim()!==e.trim()}return i!==e}(t,e))}var Ci={create:wi,update:wi},Si=_((function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach((function(t){if(t){var i=t.split(n);i.length>1&&(e[i[0].trim()]=i[1].trim())}})),e}));function Ai(t){var e=Mi(t.style);return t.staticStyle?T(t.staticStyle,e):e}function Mi(t){return Array.isArray(t)?D(t):"string"==typeof t?Si(t):t}var Ti,Di=/^--/,Pi=/\s*!important$/,Oi=function(t,e,n){if(Di.test(e))t.style.setProperty(e,n);else if(Pi.test(n))t.style.setProperty(S(e),n.replace(Pi,""),"important");else{var i=Ni(e);if(Array.isArray(n))for(var r=0,a=n.length;r<a;r++)t.style[i]=n[r];else t.style[i]=n}},Ii=["Webkit","Moz","ms"],Ni=_((function(t){if(Ti=Ti||document.createElement("div").style,"filter"!==(t=w(t))&&t in Ti)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Ii.length;n++){var i=Ii[n]+e;if(i in Ti)return i}}));function Fi(t,i){var r=i.data,a=t.data;if(!(e(r.staticStyle)&&e(r.style)&&e(a.staticStyle)&&e(a.style))){var o,s,l=i.elm,c=a.staticStyle,h=a.normalizedStyle||a.style||{},u=c||h,d=Mi(i.data.style)||{};i.data.normalizedStyle=n(d.__ob__)?T({},d):d;var f=function(t,e){var n,i={};if(e)for(var r=t;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(n=Ai(r.data))&&T(i,n);(n=Ai(t.data))&&T(i,n);for(var a=t;a=a.parent;)a.data&&(n=Ai(a.data))&&T(i,n);return i}(i,!0);for(s in u)e(f[s])&&Oi(l,s,"");for(s in f)(o=f[s])!==u[s]&&Oi(l,s,null==o?"":o)}}var Ei={create:Fi,update:Fi},Ri=/\s+/;function Li(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Ri).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function zi(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Ri).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",i=" "+e+" ";n.indexOf(i)>=0;)n=n.replace(i," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function Wi(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&T(e,ji(t.name||"v")),T(e,t),e}return"string"==typeof t?ji(t):void 0}}var ji=_((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),Bi=q&&!G,Vi="transition",qi="transitionend",$i="animation",Yi="animationend";Bi&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Vi="WebkitTransition",qi="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&($i="WebkitAnimation",Yi="webkitAnimationEnd"));var Hi=q?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Ui(t){Hi((function(){Hi(t)}))}function Gi(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),Li(t,e))}function Xi(t,e){t._transitionClasses&&m(t._transitionClasses,e),zi(t,e)}function Zi(t,e,n){var i=Ki(t,e),r=i.type,a=i.timeout,o=i.propCount;if(!r)return n();var s="transition"===r?qi:Yi,l=0,c=function(){t.removeEventListener(s,h),n()},h=function(e){e.target===t&&++l>=o&&c()};setTimeout((function(){l<o&&c()}),a+1),t.addEventListener(s,h)}var Ji=/\b(transform|all)(,|$)/;function Ki(t,e){var n,i=window.getComputedStyle(t),r=(i[Vi+"Delay"]||"").split(", "),a=(i[Vi+"Duration"]||"").split(", "),o=Qi(r,a),s=(i[$i+"Delay"]||"").split(", "),l=(i[$i+"Duration"]||"").split(", "),c=Qi(s,l),h=0,u=0;return"transition"===e?o>0&&(n="transition",h=o,u=a.length):"animation"===e?c>0&&(n="animation",h=c,u=l.length):u=(n=(h=Math.max(o,c))>0?o>c?"transition":"animation":null)?"transition"===n?a.length:l.length:0,{type:n,timeout:h,propCount:u,hasTransform:"transition"===n&&Ji.test(i[Vi+"Property"])}}function Qi(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return tr(e)+tr(t[n])})))}function tr(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function er(t,i){var r=t.elm;n(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var a=Wi(t.data.transition);if(!e(a)&&!n(r._enterCb)&&1===r.nodeType){for(var s=a.css,l=a.type,c=a.enterClass,h=a.enterToClass,u=a.enterActiveClass,f=a.appearClass,p=a.appearToClass,m=a.appearActiveClass,g=a.beforeEnter,v=a.enter,y=a.afterEnter,b=a.enterCancelled,_=a.beforeAppear,x=a.appear,w=a.afterAppear,k=a.appearCancelled,C=a.duration,S=Ue,A=Ue.$vnode;A&&A.parent;)S=A.context,A=A.parent;var M=!S._isMounted||!t.isRootInsert;if(!M||x||""===x){var T=M&&f?f:c,D=M&&m?m:u,P=M&&p?p:h,O=M&&_||g,I=M&&"function"==typeof x?x:v,N=M&&w||y,F=M&&k||b,R=d(o(C)?C.enter:C),L=!1!==s&&!G,z=rr(I),W=r._enterCb=E((function(){L&&(Xi(r,P),Xi(r,D)),W.cancelled?(L&&Xi(r,T),F&&F(r)):N&&N(r),r._enterCb=null}));t.data.show||ae(t,"insert",(function(){var e=r.parentNode,n=e&&e._pending&&e._pending[t.key];n&&n.tag===t.tag&&n.elm._leaveCb&&n.elm._leaveCb(),I&&I(r,W)})),O&&O(r),L&&(Gi(r,T),Gi(r,D),Ui((function(){Xi(r,T),W.cancelled||(Gi(r,P),z||(ir(R)?setTimeout(W,R):Zi(r,l,W)))}))),t.data.show&&(i&&i(),I&&I(r,W)),L||z||W()}}}function nr(t,i){var r=t.elm;n(r._enterCb)&&(r._enterCb.cancelled=!0,r._enterCb());var a=Wi(t.data.transition);if(e(a)||1!==r.nodeType)return i();if(!n(r._leaveCb)){var s=a.css,l=a.type,c=a.leaveClass,h=a.leaveToClass,u=a.leaveActiveClass,f=a.beforeLeave,p=a.leave,m=a.afterLeave,g=a.leaveCancelled,v=a.delayLeave,y=a.duration,b=!1!==s&&!G,_=rr(p),x=d(o(y)?y.leave:y),w=r._leaveCb=E((function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[t.key]=null),b&&(Xi(r,h),Xi(r,u)),w.cancelled?(b&&Xi(r,c),g&&g(r)):(i(),m&&m(r)),r._leaveCb=null}));v?v(k):k()}function k(){w.cancelled||(!t.data.show&&r.parentNode&&((r.parentNode._pending||(r.parentNode._pending={}))[t.key]=t),f&&f(r),b&&(Gi(r,c),Gi(r,u),Ui((function(){Xi(r,c),w.cancelled||(Gi(r,h),_||(ir(x)?setTimeout(w,x):Zi(r,l,w)))}))),p&&p(r,w),b||_||w())}}function ir(t){return"number"==typeof t&&!isNaN(t)}function rr(t){if(e(t))return!1;var i=t.fns;return n(i)?rr(Array.isArray(i)?i[0]:i):(t._length||t.length)>1}function ar(t,e){!0!==e.data.show&&er(e)}var or=function(t){var r,o,s={},l=t.modules,c=t.nodeOps;for(r=0;r<Kn.length;++r)for(s[Kn[r]]=[],o=0;o<l.length;++o)n(l[o][Kn[r]])&&s[Kn[r]].push(l[o][Kn[r]]);function h(t){var e=c.parentNode(t);n(e)&&c.removeChild(e,t)}function u(t,e,r,a,o,l,h){if(n(t.elm)&&n(l)&&(t=l[h]=gt(t)),t.isRootInsert=!o,!function(t,e,r,a){var o=t.data;if(n(o)){var l=n(t.componentInstance)&&o.keepAlive;if(n(o=o.hook)&&n(o=o.init)&&o(t,!1),n(t.componentInstance))return d(t,e),p(r,t.elm,a),i(l)&&function(t,e,i,r){var a,o=t;for(;o.componentInstance;)if(o=o.componentInstance._vnode,n(a=o.data)&&n(a=a.transition)){for(a=0;a<s.activate.length;++a)s.activate[a](Jn,o);e.push(o);break}p(i,t.elm,r)}(t,e,r,a),!0}}(t,e,r,a)){var u=t.data,f=t.children,g=t.tag;n(g)?(t.elm=t.ns?c.createElementNS(t.ns,g):c.createElement(g,t),y(t),m(t,f,e),n(u)&&v(t,e),p(r,t.elm,a)):i(t.isComment)?(t.elm=c.createComment(t.text),p(r,t.elm,a)):(t.elm=c.createTextNode(t.text),p(r,t.elm,a))}}function d(t,e){n(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,g(t)?(v(t,e),y(t)):(Zn(t),e.push(t))}function p(t,e,i){n(t)&&(n(i)?c.parentNode(i)===t&&c.insertBefore(t,e,i):c.appendChild(t,e))}function m(t,e,n){if(Array.isArray(e))for(var i=0;i<e.length;++i)u(e[i],n,t.elm,null,!0,e,i);else a(t.text)&&c.appendChild(t.elm,c.createTextNode(String(t.text)))}function g(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return n(t.tag)}function v(t,e){for(var i=0;i<s.create.length;++i)s.create[i](Jn,t);n(r=t.data.hook)&&(n(r.create)&&r.create(Jn,t),n(r.insert)&&e.push(t))}function y(t){var e;if(n(e=t.fnScopeId))c.setStyleScope(t.elm,e);else for(var i=t;i;)n(e=i.context)&&n(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e),i=i.parent;n(e=Ue)&&e!==t.context&&e!==t.fnContext&&n(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e)}function b(t,e,n,i,r,a){for(;i<=r;++i)u(n[i],a,t,e,!1,n,i)}function _(t){var e,i,r=t.data;if(n(r))for(n(e=r.hook)&&n(e=e.destroy)&&e(t),e=0;e<s.destroy.length;++e)s.destroy[e](t);if(n(e=t.children))for(i=0;i<t.children.length;++i)_(t.children[i])}function x(t,e,i){for(;e<=i;++e){var r=t[e];n(r)&&(n(r.tag)?(w(r),_(r)):h(r.elm))}}function w(t,e){if(n(e)||n(t.data)){var i,r=s.remove.length+1;for(n(e)?e.listeners+=r:e=function(t,e){function n(){0==--n.listeners&&h(t)}return n.listeners=e,n}(t.elm,r),n(i=t.componentInstance)&&n(i=i._vnode)&&n(i.data)&&w(i,e),i=0;i<s.remove.length;++i)s.remove[i](t,e);n(i=t.data.hook)&&n(i=i.remove)?i(t,e):e()}else h(t.elm)}function k(t,e,i,r){for(var a=i;a<r;a++){var o=e[a];if(n(o)&&Qn(t,o))return a}}function C(t,r,a,o,l,h){if(t!==r){n(r.elm)&&n(o)&&(r=o[l]=gt(r));var d=r.elm=t.elm;if(i(t.isAsyncPlaceholder))n(r.asyncFactory.resolved)?M(t.elm,r,a):r.isAsyncPlaceholder=!0;else if(i(r.isStatic)&&i(t.isStatic)&&r.key===t.key&&(i(r.isCloned)||i(r.isOnce)))r.componentInstance=t.componentInstance;else{var f,p=r.data;n(p)&&n(f=p.hook)&&n(f=f.prepatch)&&f(t,r);var m=t.children,v=r.children;if(n(p)&&g(r)){for(f=0;f<s.update.length;++f)s.update[f](t,r);n(f=p.hook)&&n(f=f.update)&&f(t,r)}e(r.text)?n(m)&&n(v)?m!==v&&function(t,i,r,a,o){for(var s,l,h,d=0,f=0,p=i.length-1,m=i[0],g=i[p],v=r.length-1,y=r[0],_=r[v],w=!o;d<=p&&f<=v;)e(m)?m=i[++d]:e(g)?g=i[--p]:Qn(m,y)?(C(m,y,a,r,f),m=i[++d],y=r[++f]):Qn(g,_)?(C(g,_,a,r,v),g=i[--p],_=r[--v]):Qn(m,_)?(C(m,_,a,r,v),w&&c.insertBefore(t,m.elm,c.nextSibling(g.elm)),m=i[++d],_=r[--v]):Qn(g,y)?(C(g,y,a,r,f),w&&c.insertBefore(t,g.elm,m.elm),g=i[--p],y=r[++f]):(e(s)&&(s=ti(i,d,p)),e(l=n(y.key)?s[y.key]:k(y,i,d,p))?u(y,a,t,m.elm,!1,r,f):Qn(h=i[l],y)?(C(h,y,a,r,f),i[l]=void 0,w&&c.insertBefore(t,h.elm,m.elm)):u(y,a,t,m.elm,!1,r,f),y=r[++f]);d>p?b(t,e(r[v+1])?null:r[v+1].elm,r,f,v,a):f>v&&x(i,d,p)}(d,m,v,a,h):n(v)?(n(t.text)&&c.setTextContent(d,""),b(d,null,v,0,v.length-1,a)):n(m)?x(m,0,m.length-1):n(t.text)&&c.setTextContent(d,""):t.text!==r.text&&c.setTextContent(d,r.text),n(p)&&n(f=p.hook)&&n(f=f.postpatch)&&f(t,r)}}}function S(t,e,r){if(i(r)&&n(t.parent))t.parent.data.pendingInsert=e;else for(var a=0;a<e.length;++a)e[a].data.hook.insert(e[a])}var A=f("attrs,class,staticClass,staticStyle,key");function M(t,e,r,a){var o,s=e.tag,l=e.data,c=e.children;if(a=a||l&&l.pre,e.elm=t,i(e.isComment)&&n(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(n(l)&&(n(o=l.hook)&&n(o=o.init)&&o(e,!0),n(o=e.componentInstance)))return d(e,r),!0;if(n(s)){if(n(c))if(t.hasChildNodes())if(n(o=l)&&n(o=o.domProps)&&n(o=o.innerHTML)){if(o!==t.innerHTML)return!1}else{for(var h=!0,u=t.firstChild,f=0;f<c.length;f++){if(!u||!M(u,c[f],r,a)){h=!1;break}u=u.nextSibling}if(!h||u)return!1}else m(e,c,r);if(n(l)){var p=!1;for(var g in l)if(!A(g)){p=!0,v(e,r);break}!p&&l.class&&ee(l.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,r,a,o){if(!e(r)){var l,h=!1,d=[];if(e(t))h=!0,u(r,d);else{var f=n(t.nodeType);if(!f&&Qn(t,r))C(t,r,d,null,null,o);else{if(f){if(1===t.nodeType&&t.hasAttribute("data-server-rendered")&&(t.removeAttribute("data-server-rendered"),a=!0),i(a)&&M(t,r,d))return S(r,d,!0),t;l=t,t=new dt(c.tagName(l).toLowerCase(),{},[],void 0,l)}var p=t.elm,m=c.parentNode(p);if(u(r,d,p._leaveCb?null:m,c.nextSibling(p)),n(r.parent))for(var v=r.parent,y=g(r);v;){for(var b=0;b<s.destroy.length;++b)s.destroy[b](v);if(v.elm=r.elm,y){for(var w=0;w<s.create.length;++w)s.create[w](Jn,v);var k=v.data.hook.insert;if(k.merged)for(var A=1;A<k.fns.length;A++)k.fns[A]()}else Zn(v);v=v.parent}n(m)?x([t],0,0):n(t.tag)&&_(t)}}return S(r,d,h),r.elm}n(t)&&_(t)}}({nodeOps:Gn,modules:[ui,pi,xi,Ci,Ei,q?{create:ar,activate:ar,remove:function(t,e){!0!==t.data.show?nr(t,e):e()}}:{}].concat(si)});G&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&pr(t,"input")}));var sr={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?ae(n,"postpatch",(function(){sr.componentUpdated(t,e,n)})):lr(t,e,n.context),t._vOptions=[].map.call(t.options,ur)):("textarea"===n.tag||Un(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",dr),t.addEventListener("compositionend",fr),t.addEventListener("change",fr),G&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){lr(t,e,n.context);var i=t._vOptions,r=t._vOptions=[].map.call(t.options,ur);if(r.some((function(t,e){return!N(t,i[e])})))(t.multiple?e.value.some((function(t){return hr(t,r)})):e.value!==e.oldValue&&hr(e.value,r))&&pr(t,"change")}}};function lr(t,e,n){cr(t,e),(U||X)&&setTimeout((function(){cr(t,e)}),0)}function cr(t,e,n){var i=e.value,r=t.multiple;if(!r||Array.isArray(i)){for(var a,o,s=0,l=t.options.length;s<l;s++)if(o=t.options[s],r)a=F(i,ur(o))>-1,o.selected!==a&&(o.selected=a);else if(N(ur(o),i))return void(t.selectedIndex!==s&&(t.selectedIndex=s));r||(t.selectedIndex=-1)}}function hr(t,e){return e.every((function(e){return!N(e,t)}))}function ur(t){return"_value"in t?t._value:t.value}function dr(t){t.target.composing=!0}function fr(t){t.target.composing&&(t.target.composing=!1,pr(t.target,"input"))}function pr(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function mr(t){return!t.componentInstance||t.data&&t.data.transition?t:mr(t.componentInstance._vnode)}var gr={model:sr,show:{bind:function(t,e,n){var i=e.value,r=(n=mr(n)).data&&n.data.transition,a=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&r?(n.data.show=!0,er(n,(function(){t.style.display=a}))):t.style.display=i?a:"none"},update:function(t,e,n){var i=e.value;!i!=!e.oldValue&&((n=mr(n)).data&&n.data.transition?(n.data.show=!0,i?er(n,(function(){t.style.display=t.__vOriginalDisplay})):nr(n,(function(){t.style.display="none"}))):t.style.display=i?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,i,r){r||(t.style.display=t.__vOriginalDisplay)}}},vr={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function yr(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?yr(Ve(e.children)):t}function br(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var r=n._parentListeners;for(var a in r)e[w(a)]=r[a];return e}function _r(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var xr=function(t){return t.tag||Be(t)},wr=function(t){return"show"===t.name},kr={name:"transition",props:vr,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(xr)).length){var i=this.mode,r=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return r;var o=yr(r);if(!o)return r;if(this._leaving)return _r(t,r);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:a(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var l=(o.data||(o.data={})).transition=br(this),c=this._vnode,h=yr(c);if(o.data.directives&&o.data.directives.some(wr)&&(o.data.show=!0),h&&h.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(o,h)&&!Be(h)&&(!h.componentInstance||!h.componentInstance._vnode.isComment)){var u=h.data.transition=T({},l);if("out-in"===i)return this._leaving=!0,ae(u,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),_r(t,r);if("in-out"===i){if(Be(o))return c;var d,f=function(){d()};ae(l,"afterEnter",f),ae(l,"enterCancelled",f),ae(u,"delayLeave",(function(t){d=t}))}}return r}}},Cr=T({tag:String,moveClass:String},vr);function Sr(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Ar(t){t.data.newPos=t.elm.getBoundingClientRect()}function Mr(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,r=e.top-n.top;if(i||r){t.data.moved=!0;var a=t.elm.style;a.transform=a.WebkitTransform="translate("+i+"px,"+r+"px)",a.transitionDuration="0s"}}delete Cr.mode;var Tr,Dr,Pr={Transition:kr,TransitionGroup:{props:Cr,beforeMount:function(){var t=this,e=this._update;this._update=function(n,i){var r=Ge(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,r(),e.call(t,n,i)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],a=this.children=[],o=br(this),s=0;s<r.length;s++){var l=r[s];if(l.tag)null!=l.key&&0!==String(l.key).indexOf("__vlist")&&(a.push(l),n[l.key]=l,(l.data||(l.data={})).transition=o)}if(i){for(var c=[],h=[],u=0;u<i.length;u++){var d=i[u];d.data.transition=o,d.data.pos=d.elm.getBoundingClientRect(),n[d.key]?c.push(d):h.push(d)}this.kept=t(e,null,c),this.removed=h}return t(e,null,a)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Sr),t.forEach(Ar),t.forEach(Mr),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,i=n.style;Gi(n,e),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(qi,n._moveCb=function t(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(qi,t),n._moveCb=null,Xi(n,e))})}})))},methods:{hasMove:function(t,e){if(!Bi)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){zi(n,t)})),Li(n,e),n.style.display="none",this.$el.appendChild(n);var i=Ki(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}}};xn.config.mustUseProp=function(t,e,n){return"value"===n&&Pn(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},xn.config.isReservedTag=Yn,xn.config.isReservedAttr=Dn,xn.config.getTagNamespace=function(t){return $n(t)?"svg":"math"===t?"math":void 0},xn.config.isUnknownElement=function(t){if(!q)return!0;if(Yn(t))return!1;if(t=t.toLowerCase(),null!=Hn[t])return Hn[t];var e=document.createElement(t);return t.indexOf("-")>-1?Hn[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Hn[t]=/HTMLUnknownElement/.test(e.toString())},T(xn.options.directives,gr),T(xn.options.components,Pr),xn.prototype.__patch__=q?or:P,xn.prototype.$mount=function(t,e){return function(t,e,n){var i;return t.$el=e,t.$options.render||(t.$options.render=pt),Je(t,"beforeMount"),i=function(){t._update(t._render(),n)},new hn(t,i,P,{before:function(){t._isMounted&&!t._isDestroyed&&Je(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,Je(t,"mounted")),t}(this,t=t&&q?function(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}(t):void 0,e)},q&&setTimeout((function(){z.devtools&&nt&&nt.emit("init",xn)}),0),(Dr=Tr||(Tr={}))[Dr.NORMAL=1]="NORMAL",Dr[Dr.AMBIG=2]="AMBIG",Dr[Dr.ALLOPHONE=3]="ALLOPHONE",Dr[Dr.OTHER=4]="OTHER";const Or=()=>({modelInput:"-^br^pt-",spread:[6,6,6,6,6,6,6],spreadScale:[1,1,1,1,1,1,1],min:-.3,max:1,nreps:1,slicesPerPhon:3,fSlices:99,decay:{F:.01,P:.03,W:.05},rest:{F:-.1,P:-.1,W:-.01},alpha:{IF:1,FP:.02,PW:.05,WP:.03,PF:0},gamma:{F:.04,P:.04,W:.03},deltaInput:6,noiseSD:0,stochasticitySD:0,atten:1,bias:0,learningrate:0,lengthNormalization:0,phonology:[{label:"p",features:[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,1,.2,0,0,0,0,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Tr.NORMAL},{label:"b",features:[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,.2,1,0,0,0,0,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Tr.NORMAL},{label:"t",features:[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,1,.2,0,0,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Tr.NORMAL},{label:"d",features:[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,.2,1,0,0,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Tr.NORMAL},{label:"k",features:[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,.1,.3,1,.3,.1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,.2,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Tr.NORMAL},{label:"g",features:[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,.1,.3,1,.3,.1,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,.2,1,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Tr.NORMAL},{label:"s",features:[0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,.3,.1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Tr.NORMAL},{label:"S",features:[0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,.1,.3,1,.3,.1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Tr.NORMAL},{label:"r",features:[0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,.5,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Tr.NORMAL},{label:"l",features:[0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,.5,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Tr.NORMAL},{label:"a",features:[1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,.1,.3,1,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Tr.NORMAL},{label:"i",features:[1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,.3,.1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Tr.NORMAL},{label:"u",features:[1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,.1,.3,1,.3,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Tr.NORMAL},{label:"^",features:[0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,.1,.3,1,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Tr.NORMAL},{label:"-",features:[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1],durationScalar:[1,1,1,1,1,1,1],phonologicalRole:Tr.NORMAL}],lexicon:[{phon:"^",freq:23248,prime:0},{phon:"^br^pt",freq:37,prime:0},{phon:"^dapt",freq:71,prime:0},{phon:"^d^lt",freq:50,prime:0},{phon:"^gri",freq:264,prime:0},{phon:"^lat",freq:50,prime:0},{phon:"^part",freq:57,prime:0},{phon:"^pil",freq:108,prime:0},{phon:"ark",freq:50,prime:0},{phon:"ar",freq:4406,prime:0},{phon:"art",freq:274,prime:0},{phon:"art^st",freq:112,prime:0},{phon:"^slip",freq:29,prime:0},{phon:"bar",freq:125,prime:0},{phon:"bark",freq:125,prime:0},{phon:"bi",freq:6382,prime:0},{phon:"bit",freq:87,prime:0},{phon:"bist",freq:50,prime:0},{phon:"blak",freq:118,prime:0},{phon:"bl^d",freq:122,prime:0},{phon:"blu",freq:143,prime:0},{phon:"bab",freq:45,prime:0},{phon:"babi",freq:23,prime:0},{phon:"badi",freq:341,prime:0},{phon:"bust",freq:23,prime:0},{phon:"but",freq:34,prime:0},{phon:"bat^l",freq:95,prime:0},{phon:"baks",freq:87,prime:0},{phon:"brid",freq:25,prime:0},{phon:"brud",freq:26,prime:0},{phon:"br^S",freq:77,prime:0},{phon:"b^b^l",freq:32,prime:0},{phon:"b^k",freq:31,prime:0},{phon:"b^s",freq:34,prime:0},{phon:"b^t",freq:4382,prime:0},{phon:"kar",freq:386,prime:0},{phon:"kard",freq:62,prime:0},{phon:"karp^t",freq:22,prime:0},{phon:"sis",freq:34,prime:0},{phon:"klak",freq:30,prime:0},{phon:"kl^b",freq:171,prime:0},{phon:"klu",freq:25,prime:0},{phon:"kalig",freq:32,prime:0},{phon:"kul",freq:149,prime:0},{phon:"kap",freq:32,prime:0},{phon:"kapi",freq:61,prime:0},{phon:"k^p^l",freq:164,prime:0},{phon:"krip",freq:23,prime:0},{phon:"kru",freq:38,prime:0},{phon:"krap",freq:44,prime:0},{phon:"kruS^l",freq:31,prime:0},{phon:"kru^l",freq:20,prime:0},{phon:"kr^S",freq:23,prime:0},{phon:"k^p",freq:63,prime:0},{phon:"k^t",freq:223,prime:0},{phon:"dark",freq:234,prime:0},{phon:"dart",freq:20,prime:0},{phon:"dil",freq:157,prime:0},{phon:"did",freq:21,prime:0},{phon:"dip",freq:199,prime:0},{phon:"du",freq:1366,prime:0},{phon:"dal",freq:23,prime:0},{phon:"dat",freq:28,prime:0},{phon:"d^b^l",freq:83,prime:0},{phon:"dru",freq:69,prime:0},{phon:"drap",freq:196,prime:0},{phon:"dr^g",freq:58,prime:0},{phon:"d^k",freq:21,prime:0},{phon:"d^l",freq:36,prime:0},{phon:"d^st",freq:78,prime:0},{phon:"duti",freq:95,prime:0},{phon:"ist",freq:183,prime:0},{phon:"it",freq:300,prime:0},{phon:"glu",freq:28,prime:0},{phon:"gad",freq:332,prime:0},{phon:"gat",freq:482,prime:0},{phon:"grik",freq:66,prime:0},{phon:"grit",freq:38,prime:0},{phon:"gru",freq:64,prime:0},{phon:"grup",freq:545,prime:0},{phon:"gard",freq:82,prime:0},{phon:"g^tar",freq:24,prime:0},{phon:"kip",freq:348,prime:0},{phon:"ki",freq:125,prime:0},{phon:"lid",freq:517,prime:0},{phon:"lig",freq:83,prime:0},{phon:"lip",freq:38,prime:0},{phon:"list",freq:343,prime:0},{phon:"lig^l",freq:77,prime:0},{phon:"labi",freq:22,prime:0},{phon:"lak",freq:109,prime:0},{phon:"lup",freq:23,prime:0},{phon:"lus",freq:68,prime:0},{phon:"lat",freq:169,prime:0},{phon:"l^k",freq:49,prime:0},{phon:"l^ki",freq:25,prime:0},{phon:"l^kS^ri",freq:24,prime:0},{phon:"ad",freq:53,prime:0},{phon:"pap^",freq:40,prime:0},{phon:"park",freq:242,prime:0},{phon:"part",freq:625,prime:0},{phon:"parS^l",freq:25,prime:0},{phon:"partli",freq:49,prime:0},{phon:"parti",freq:275,prime:0},{phon:"par",freq:10,prime:0},{phon:"pi",freq:24,prime:0},{phon:"pik",freq:24,prime:0},{phon:"pip^l",freq:887,prime:0},{phon:"pis",freq:221,prime:0},{phon:"plat",freq:57,prime:0},{phon:"pl^g",freq:28,prime:0},{phon:"pl^s",freq:72,prime:0},{phon:"pak^t",freq:64,prime:0},{phon:"p^lis",freq:159,prime:0},{phon:"pal^si",freq:290,prime:0},{phon:"pul",freq:129,prime:0},{phon:"pap",freq:31,prime:0},{phon:"pas^b^l",freq:373,prime:0},{phon:"pas^bli",freq:61,prime:0},{phon:"pat",freq:37,prime:0},{phon:"prist",freq:33,prime:0},{phon:"prab^b^l",freq:24,prime:0},{phon:"prab^bli",freq:261,prime:0},{phon:"pradus",freq:256,prime:0},{phon:"prad^kt",freq:195,prime:0},{phon:"pragr^s",freq:141,prime:0},{phon:"p^t",freq:63,prime:0},{phon:"rid",freq:273,prime:0},{phon:"ril",freq:261,prime:0},{phon:"rili",freq:275,prime:0},{phon:"rab",freq:40,prime:0},{phon:"rak",freq:121,prime:0},{phon:"rak^t",freq:20,prime:0},{phon:"rad",freq:29,prime:0},{phon:"rut",freq:69,prime:0},{phon:"r^b",freq:35,prime:0},{phon:"r^g^d",freq:20,prime:0},{phon:"rul",freq:215,prime:0},{phon:"rupi",freq:20,prime:0},{phon:"r^S",freq:60,prime:0},{phon:"r^s^l",freq:21,prime:0},{phon:"skar",freq:22,prime:0},{phon:"skul",freq:694,prime:0},{phon:"skru",freq:45,prime:0},{phon:"sil",freq:40,prime:0},{phon:"sit",freq:99,prime:0},{phon:"sikr^t",freq:105,prime:0},{phon:"si",freq:809,prime:0},{phon:"sid",freq:84,prime:0},{phon:"sik",freq:128,prime:0},{phon:"Sarp",freq:115,prime:0},{phon:"Si",freq:2860,prime:0},{phon:"Sip",freq:23,prime:0},{phon:"Sit",freq:77,prime:0},{phon:"Sild",freq:21,prime:0},{phon:"Sak",freq:66,prime:0},{phon:"Sut",freq:81,prime:0},{phon:"Sap",freq:108,prime:0},{phon:"Sat",freq:142,prime:0},{phon:"Sr^g",freq:22,prime:0},{phon:"S^t",freq:50,prime:0},{phon:"slip",freq:109,prime:0},{phon:"slit",freq:10,prime:0},{phon:"sl^g",freq:24,prime:0},{phon:"sal^d",freq:90,prime:0},{phon:"sari",freq:49,prime:0},{phon:"spark",freq:20,prime:0},{phon:"spik",freq:259,prime:0},{phon:"spid",freq:104,prime:0},{phon:"spat",freq:110,prime:0},{phon:"star",freq:58,prime:0},{phon:"start",freq:450,prime:0},{phon:"start^l",freq:22,prime:0},{phon:"stil",freq:51,prime:0},{phon:"stip",freq:22,prime:0},{phon:"stak",freq:165,prime:0},{phon:"stap",freq:273,prime:0},{phon:"strik",freq:20,prime:0},{phon:"strit",freq:307,prime:0},{phon:"str^k",freq:59,prime:0},{phon:"str^g^l",freq:93,prime:0},{phon:"st^did",freq:79,prime:0},{phon:"st^di",freq:391,prime:0},{phon:"stup^d",freq:25,prime:0},{phon:"s^bst^tut",freq:46,prime:0},{phon:"s^t^l",freq:26,prime:0},{phon:"s^ksid",freq:62,prime:0},{phon:"s^k",freq:20,prime:0},{phon:"su",freq:39,prime:0},{phon:"sut",freq:73,prime:0},{phon:"sut^b^l",freq:37,prime:0},{phon:"tar",freq:20,prime:0},{phon:"targ^t",freq:67,prime:0},{phon:"ti",freq:29,prime:0},{phon:"tu",freq:26162,prime:0},{phon:"tul",freq:79,prime:0},{phon:"tap",freq:212,prime:0},{phon:"trit",freq:127,prime:0},{phon:"triti",freq:24,prime:0},{phon:"tri",freq:161,prime:0},{phon:"trup",freq:82,prime:0},{phon:"trat",freq:20,prime:0},{phon:"tr^b^l",freq:189,prime:0},{phon:"tr^k",freq:84,prime:0},{phon:"tru",freq:237,prime:0},{phon:"truli",freq:237,prime:0},{phon:"tr^st",freq:76,prime:0},{phon:"tr^sti",freq:35,prime:0},{phon:"tub",freq:55,prime:0},{phon:"^gli",freq:30,prime:0},{phon:"^p",freq:1903,prime:0},{phon:"^s",freq:672,prime:0},{phon:"-",freq:1e3,prime:0}],freqNode:{},primeNode:{},continuumSpec:"",allophoneRelations:[]}),Ir=(t,e)=>Array.from(Array(t),t=>Array(e).fill(0)),Nr=(t,e,n)=>Array.from(Array(t),t=>Array.from(Array(e),t=>Array(n).fill(0))),Fr=t=>t.map(t=>[...t]),Er=(t,e)=>{let n=0,i=0;for(;0===n;)n=Math.random();for(;0===i;)i=Math.random();return Math.sqrt(-2*Math.log(n))*Math.cos(2*Math.PI*i)*e+t};class Rr{constructor(t){this.ambiguousPhonemes=[],this.phonemes=t.map(t=>Object.assign({},t)),this.sortPhonemes();for(const[t,e]of this.phonemes.entries())console.log(`phon ${t}: ${e.label}`)}sortPhonemes(){this.phonemes.sort((t,e)=>t.label.localeCompare(e.label));for(const[t,e]of this.phonemes.entries())e.index=t;this.ambiguousPhonemes.sort((t,e)=>t.label.localeCompare(e.label));for(const[t,e]of this.ambiguousPhonemes.entries())e.index=t}sorted(){return this.phonemes}byIndex(t){return this.phonemes[t]}byLabel(t){return this.phonemes.find(e=>e.label==t)||this.ambiguousPhonemes.find(e=>e.label==t)}spreadPhons(t,e,n,i){if(t.length!=e.length)throw new Error("spread and scale parameters have different scale");n=Math.max(n,0);let r=0;const a=n=>{for(const i of n){i.spreadOffset=0;for(let n=0;n<t.length;n++){const a=t[n]*e[n]*i.durationScalar[0];a>i.spreadOffset&&(i.spreadOffset=Math.ceil(a)),r=Math.max(Math.ceil(a),r)}}};a(this.phonemes),a(this.ambiguousPhonemes);const o=e=>{for(const a of e){a.spread=Ir(63,4*r),a.norm=0;for(let e=0;e<63;e++)if(a.features[e]>0){const r=Math.floor(e/9),o=(a.features[e]*i-a.features[e]*n)/(t[r]*a.durationScalar[0]),s=Math.floor(t[r]*a.durationScalar[0]);for(let t=0;t<s;t++)a.spread[e][a.spreadOffset+t]=a.features[e]*i-o*t,a.spread[e][a.spreadOffset-t]=a.spread[e][a.spreadOffset+t],a.norm+=2*Math.pow(a.spread[e][a.spreadOffset+t],2)}}};o(this.phonemes),o(this.ambiguousPhonemes)}makePhonemeContinuum(t,e,n){const i=this.byLabel(t),r=this.byLabel(e);if(!i||!r||n<=1||n>Rr.MAX_STEPS)throw new Error("invalid arguments to makePhonemeContinuum");const a=[];for(let t=0;t<63;t++)a[t]=(r.features[t]-i.features[t])/(n-1);const o=[];for(let t=0;t<7;t++)o[t]=(r.durationScalar[t]-i.durationScalar[t])/(n-1);this.ambiguousPhonemes=[];for(let t=0;t<n;t++){const e=[];for(let n=0;n<63;n++)e[n]=i.features[n]+t*a[n];const n=[];for(let e=0;e<7;e++)n[e]=i.durationScalar[e]+t*o[e];this.ambiguousPhonemes.push({label:t.toString(),features:e,durationScalar:n,phonologicalRole:Tr.AMBIG})}const s=Math.floor(this.ambiguousPhonemes.length/2);this.ambiguousPhonemes.push({label:"?",features:[...this.ambiguousPhonemes[s].features],durationScalar:[...this.ambiguousPhonemes[s].durationScalar],phonologicalRole:Tr.AMBIG}),this.sortPhonemes()}}Rr.MAX_STEPS=9;const Lr=(t,e)=>t.RDL_rest_s?t.RDL_rest_s*Math.log10(t.RDL_rest_c*e):0;class zr{constructor(t=Or()){this.inputSlice=0,this.__nreps=1,this.setConfig(t),this.reset()}setConfig(t){this.config=t,this.phonemes=new Rr(this.config.phonology)}reset(){var t;this.lengthNormalizationScale=1/((t=this.config.lexicon.map(t=>t.phon.length)).reduce((t,e)=>t+e)/t.length),this.inputSlice=0,this.inputLayer=Ir(63,this.config.fSlices),this.featLayer=Ir(63,this.config.fSlices),this.featNet=Ir(63,this.config.fSlices),this.phonLayer=Ir(this.config.phonology.length,this.getPSlices()),this.phonNet=Ir(this.config.phonology.length,this.getPSlices()),this.wordLayer=Ir(this.config.lexicon.length,this.getPSlices()),this.wordNet=Ir(this.config.lexicon.length,this.getPSlices()),this.pww=Ir(this.config.phonology.length,4),this.wpw=Ir(this.config.phonology.length,4),this.fpw=Nr(this.config.phonology.length,7,0),this.pfw=Nr(this.config.phonology.length,7,0);for(let t=0;t<this.config.phonology.length;t++)for(let e=0;e<7;e++)this.fpw[t][e]=Array(2*this.config.spread[e]).fill(0),this.pfw[t][e]=Array(2*this.config.spread[e]).fill(0);if(this.config.continuumSpec&&3==this.config.continuumSpec.trim().length){const t=+this.config.continuumSpec.trim()[2];t>1&&t<10&&this.phonemes.makePhonemeContinuum(this.config.continuumSpec.trim()[0],this.config.continuumSpec.trim()[1],t)}this.phonemes.spreadPhons(this.config.spread,this.config.spreadScale,this.config.min,this.config.max);let e=this.clamp(this.config.rest.F);for(let t=0;t<this.config.fSlices;t++)for(let n=0;n<63;n++)this.featLayer[n][t]=e;e=this.clamp(this.config.rest.P);for(let t=0;t<this.getPSlices();t++)for(let n=0;n<this.config.phonology.length;n++)this.phonLayer[n][t]=e;e=this.clamp(this.config.rest.W);for(let t=0;t<this.getWSlices();t++)for(let n=0;n<this.config.lexicon.length;n++)this.wordLayer[n][t]=e;if(this.config.freqNode.RDL_rest_s)for(let t=0;t<this.getWSlices();t++)for(let e=0;e<this.config.lexicon.length;e++)this.wordLayer[e][t]+=Lr(this.config.freqNode,this.config.lexicon[e].freq);if(this.config.primeNode.RDL_rest_s)for(let t=0;t<this.getWSlices();t++)for(let e=0;e<this.config.lexicon.length;e++)this.config.lexicon[e].prime>0&&(this.wordLayer[e][t]+=Lr(this.config.primeNode,this.config.lexicon[e].prime));this.__nreps=this.config.nreps,this.__nreps<=0&&(this.__nreps=1);for(let t=0;t<this.config.phonology.length;t++){let e=0;for(let t=0;t<=4;t++){const n=(4-Math.abs(2-t))/4;e+=n*n}for(let n=0;n<4;n++){const i=(4-Math.abs(2-n))/4;this.pww[t][n]=i/e,this.wpw[t][n]=1*i/e}}for(let t=0;t<this.config.phonology.length;t++)for(let e=0;e<7;e++){let n=0;const i=1*this.config.spread[e],r=Math.floor(i);for(let t=0;t<2*r;t++){const e=(i-Math.abs(r-t))/i;n+=e*e}for(let a=0;a<2*r;a++)this.pfw[t][e][a]=(i-Math.abs(r-a))/i,this.fpw[t][e][a]=this.pfw[t][e][a]/n}this.createInput()}getPSlices(){return Math.floor(this.config.fSlices/this.config.slicesPerPhon)}getWSlices(){return this.getPSlices()}clamp(t){return e=t,n=this.config.min,i=this.config.max,Math.min(Math.max(e,n),i);var e,n,i}createInput(){const t=this.config.modelInput.trim();console.log("TraceNet.createInput: phons="+t);let e=this.config.deltaInput;for(let n=0;n<t.length&&e<this.config.fSlices;n++)if("{"==t[n]){const i=this.phonemes.byLabel(t[++n]),r=+t[++n],a=this.phonemes.byLabel(t[++n]);n+=1;const o=e-i.spreadOffset;for(let t=o,e=0;t<o+r;t++,e++)for(let n=0;n<63;n++)t>=0&&t<this.config.fSlices&&(this.inputLayer[n][t]+=i.spread[n][e]);for(let t=o+r,e=r;t<o+2*a.spreadOffset;t++,e++)for(let n=0;n<63;n++)t>=0&&t<this.config.fSlices&&(this.inputLayer[n][t]+=a.spread[n][e]);e+=this.config.deltaInput}else{const i=this.phonemes.byLabel(t[n]),r=e-Math.round(i.spreadOffset);for(let t=r,e=0;t<r+Math.round(2*i.spreadOffset);t++,e++)for(let n=0;n<63;n++)t>=0&&t<this.config.fSlices&&(this.inputLayer[n][t]+=i.spread[n][e]);e+=Math.round(this.config.deltaInput*i.durationScalar[0])}if(0!=this.config.noiseSD)for(let t=0;t<63;t++)for(let e=0;e<this.config.fSlices;e++)this.inputLayer[t][e]+=Er(0,this.config.noiseSD);for(let t=0;t<63;t++)for(let e=0;e<this.config.fSlices;e++)this.inputLayer[t][e]=this.clamp(this.inputLayer[t][e]);for(let t=0;t<7;t++)for(let e=0;e<9;e++)this.featNet[9*t+e][0]+=this.inputLayer[9*t+e][0];this.featUpdate()}actFeatures(){const t=Ir(7,this.config.fSlices);for(let e=0;e<7;e++)for(let n=0;n<9;n++)for(let i=0;i<this.config.fSlices;i++)this.featLayer[9*e+n][i]>0&&(t[e][i]+=this.featLayer[9*e+n][i]);const e=t.map(t=>t.map(t=>t*this.config.gamma.F));if(this.inputSlice<this.config.fSlices)for(let t=0;t<63;t++)for(let e=this.inputSlice+1;e<this.config.fSlices&&e<this.inputSlice+1+this.__nreps;e++)this.featNet[t][e]+=this.clamp(this.config.alpha.IF*this.inputLayer[t][e]);for(let t=0;t<7;t++)for(let n=0;n<9;n++)for(let i=0;i<this.config.fSlices;i++)this.featNet[9*t+n][i]-=Math.max(0,e[t][i]-Math.max(0,this.featLayer[9*t+n][i]*this.config.gamma.F))}featToPhon(){const t=this.config.slicesPerPhon,e=this.getPSlices();for(let n=0;n<63;n++)for(let i=0;i<this.config.fSlices;i++)if(this.featLayer[n][i]>0)for(const[r,a]of this.phonemes.sorted().entries()){if(0==a.features[n])continue;const o=this.config.spread[Math.floor(n/9)],s=this.config.fSlices-o;let l,c;i<o?(l=0,c=Math.floor((i+o-1)/t)):(c=i>s?e-1:Math.floor((i+o-1)/t),l=Math.floor((i-o)/t+1));let h=o-(i-t*l),u=0;this.featLayer[n][i]>0&&(u=a.features[n]*this.featLayer[n][i]*this.config.alpha.FP);const d=Math.floor(n/9);for(let n=l;n<c+1&&n<e;n++)this.phonNet[r][n]+=this.fpw[r][d][h]*u,h+=t}}phonToPhon(){const t=this.getPSlices();let e=Array(t).fill(0),n=0,i=0;for(let r=0;r<t;r++)for(let a=0;a<this.config.phonology.length;a++)if(this.phonLayer[a][r]>0){n=r+1,n>=t?(n=t-1,i=r-1):(i=r-1,i<0&&(i=0));for(let t=i;t<n;t++)e[t]+=this.phonLayer[a][r]*this.config.gamma.P}this.globalPhonemeCompetitionIndex=0;for(let r=0;r<this.config.phonology.length;r++)for(let a=0;a<t;a++){n=a+1,n>=t?(n=t-1,i=a-1):(i=a-1,i<0&&(i=0));for(let t=i;t<n;t++)e[t]>0&&(this.phonNet[r][a]-=e[t],this.globalPhonemeCompetitionIndex+=e[t]);if(this.phonLayer[r][a]*this.config.gamma.P>0&&e[a]>0){const t=(n-i)*this.phonLayer[r][a]*this.config.gamma.P;this.phonNet[r][a]+=t,this.globalPhonemeCompetitionIndex-=t}for(let t=0;t<this.config.phonology.length;t++);}}phonToFeat(){const t=this.config.fSlices,e=this.config.slicesPerPhon;for(let n=0;n<t;n++)for(let i=0;i<7;i++)for(let r=0;r<9;r++){let a=0;for(let o=0;o<this.config.phonology.length;o++)for(let s=0;s<this.getPSlices();s++){let l=Math.floor(Math.abs(s*e-n));l>=t&&(l=t-1),this.phonLayer[o][s]>0&&(a+=this.pfw[o][i][l]*this.phonLayer[o][s]*this.phonemes.byIndex(o).features[9*i+r])}this.featNet[9*i+r][n]+=this.config.alpha.PF*a}}wordToPhon(){let t,e,n,i,r,a=this.config.lexicon;const o=this.getPSlices();for(let s=0;s<a.length;s++)for(let l=0;l<this.getWSlices();l++)if(!(this.wordLayer[s][l]<=0)){t=a[s].phon;for(let c=0;c<t.length;c++){let h=this.phonemes.byLabel(t[c]);if(e=l+2*c,n=e-1,n>=o)break;n<0?(i=1-n,n=0,r=e+2):(r=e+2,r>o-1&&(r=o-1),i=1);for(let t=n;t<r&&t<o&&i<4;t++,i++)if(this.wordLayer[s][l]>0){let e=0;a[s].freq&&this.config.freqNode.RDL_wt_s&&(e=this.config.freqNode.RDL_wt_s*Math.log10(a[s].freq));let n=0;a[s].prime&&this.config.primeNode.RDL_wt_s&&(n=this.config.primeNode.RDL_wt_s*Math.log10(a[s].prime)),this.phonNet[h.index][t]+=(1+e+n)*this.wordLayer[s][l]*this.config.alpha.WP*this.wpw[h.index][i]}}}}phonToWord(){const t=this.config.lexicon,e=this.getPSlices();let n,i,r,a,o,s;for(let l=0;l<this.config.phonology.length;l++){o=2,6==this.config.deltaInput&&3==this.config.slicesPerPhon||(o=Math.floor(this.config.deltaInput/this.config.slicesPerPhon));for(let c=0;c<e;c++)if(!(this.phonLayer[l][c]<=0))t:for(let h=0;h<t.length;h++){const u=t[h].phon;s=u.length;for(let d=0;d<s;d++)if(u.charAt(d)==this.phonemes.byIndex(l).label.charAt(0)){if(n=c-o*d,n<-o)continue t;i=1+n-o,i<0?(r=1-i,i=0,a=n+o):(a=n+o,a>e-1&&(a=e-1),r=1);let s=2*this.phonLayer[l][c]*this.config.alpha.PW,u=0;this.config.freqNode.RDL_wt_s&&t[h].freq&&(u=this.config.freqNode.RDL_wt_s*Math.log10(t[h].freq));let f=0;this.config.primeNode.RDL_wt_s&&t[h].prime&&(f=this.config.primeNode.RDL_wt_s*Math.log10(t[h].prime));for(let t=i;t<a&&t<this.getWSlices();t++,r++)r>=0&&r<4&&(this.wordNet[h][t]+=(1+u+f)*this.pww[l][r]*s)}}}}wordToWord(){const t=this.getPSlices(),e=Array(t).fill(0),n=Array(t).fill(0),i=this.config.lexicon;for(let e=0;e<t;e++)for(let r=0;r<i.length;r++){let a=e;a<0&&(a=0);let o=e+2*i[r].phon.length;
//!! wstart + (wlength*phone width) + (1/2 phone width)
o>t&&(o=t-1);for(let t=a;t<o;t++)this.wordLayer[r][e]>0&&(n[t]+=this.wordLayer[r][e]*this.wordLayer[r][e])}for(let i=0;i<t;i++)n[i]>3&&(n[i]=3),e[i]=n[i]*this.config.gamma.W;this.globalLexicalCompetitionIndex=0;for(let n=0;n<t;n++)for(let r=0;r<i.length;r++){let a=n;a<0&&(a=0);let o=n+2*i[r].phon.length;
//!! wstart + (wlength*phone width) + (1/2 phone width)
o>t&&(o=t-1);for(let t=a;t<o;t++)if(this.config.lengthNormalization){let a=1/(i[r].phon.length*this.lengthNormalizationScale);a>1&&(a=1);const o=e[t]*a;this.wordNet[r][n]-=o,this.globalLexicalCompetitionIndex+=o}else this.wordNet[r][n]-=e[t],this.globalLexicalCompetitionIndex+=e[t];if(this.wordLayer[r][n]>0)if(this.config.lengthNormalization){let t=1/(i[r].phon.length*this.lengthNormalizationScale);t>1&&(t=1);const e=(o-a)*(this.wordLayer[r][n]*this.wordLayer[r][n]*this.config.gamma.W)*t;this.wordNet[r][n]+=e,this.globalLexicalCompetitionIndex-=e}else{const t=(o-a)*(this.wordLayer[r][n]*this.wordLayer[r][n]*this.config.gamma.W);this.wordNet[r][n]+=t,this.globalLexicalCompetitionIndex-=t}}}featUpdate(){const{min:t,max:e}=this.config;for(let n=0;n<this.config.fSlices;n++)for(let i=0;i<63;i++){this.config.stochasticitySD&&(this.featNet[i][n]+=Er(0,this.config.stochasticitySD));let r=this.featLayer[i][n];this.featNet[i][n]>0?r+=(e-r)*this.featNet[i][n]:this.featNet[i][n]<0&&(r+=(r-t)*this.featNet[i][n]);let a=this.featLayer[i][n]-this.config.rest.F;r-=this.config.decay.F*a,r>e&&(r=e),r<t&&(r=t),this.featLayer[i][n]=r}this.featNet=Ir(63,this.config.fSlices)}phonUpdate(){const t=this.getPSlices();for(let e=0;e<t;e++)for(let t=0;t<this.config.phonology.length;t++){let n;this.config.stochasticitySD&&(this.phonNet[t][e]+=Er(0,this.config.stochasticitySD)),n=this.phonNet[t][e]>=0?this.config.max-this.phonLayer[t][e]:this.phonLayer[t][e]-this.config.min;const i=this.phonLayer[t][e]-this.config.rest.P;this.phonLayer[t][e]+=n*this.phonNet[t][e]-this.config.decay.P*i,this.phonLayer[t][e]=this.clamp(this.phonLayer[t][e])}this.phonNet=Ir(this.config.phonology.length,t)}wordUpdate(){const t=this.getWSlices(),{min:e,max:n}=this.config;for(let i=0;i<this.config.lexicon.length;i++)for(let r=0;r<t;r++){this.wordNet[i][r]*=this.config.atten,this.wordNet[i][r]-=this.config.bias,this.config.stochasticitySD&&(this.wordNet[i][r]+=Er(0,this.config.stochasticitySD));let t,a=this.wordLayer[i][r];this.wordNet[i][r]>0?a+=(n-a)*this.wordNet[i][r]:this.wordNet[i][r]<0&&(a+=(a-e)*this.wordNet[i][r]),t=this.config.freqNode.RDL_rest_s&&this.config.lexicon[i].freq>0&&this.config.primeNode.RDL_rest_s&&this.config.lexicon[i].prime>0?this.wordLayer[i][r]-(this.config.rest.W+Lr(this.config.freqNode,this.config.lexicon[i].freq))+(this.config.rest.W+Lr(this.config.primeNode,this.config.lexicon[i].prime)):this.config.freqNode.RDL_rest_s&&this.config.lexicon[i].freq>0?this.wordLayer[i][r]-(this.config.rest.W+Lr(this.config.freqNode,this.config.lexicon[i].freq)):this.config.primeNode.RDL_rest_s&&this.config.lexicon[i].prime>0?this.wordLayer[i][r]-(this.config.rest.W+Lr(this.config.primeNode,this.config.lexicon[i].prime)):this.wordLayer[i][r]-this.config.rest.W,a-=this.config.decay.W*t,a>n&&(a=n),a<e&&(a=e),this.wordLayer[i][r]=a}this.wordNet=Ir(this.config.lexicon.length,t)}cycle(){this.actFeatures();const t=this.config.nreps<0?Math.abs(this.config.nreps):1;for(let e=0;e<t;e++)this.featToPhon(),this.phonToPhon(),this.phonToWord(),this.wordToPhon(),this.wordToWord(),this.featUpdate(),this.phonUpdate(),this.wordUpdate();this.inputSlice+=this.__nreps}}class Wr{constructor(t=Or()){this.config=t,this.inputLayer=[],this.featLayer=[],this.phonLayer=[],this.wordLayer=[],this.globalLexicalCompetition=[],this.globalPhonemeCompetition=[],this.tn=new zr(this.config),this.phonemes=this.tn.phonemes,this.maxDuration=Math.max(6*this.config.modelInput.length*this.config.deltaInput,this.config.fSlices)}getStepsRun(){return this.inputLayer.length}cycle(t){t=Math.min(this.maxDuration,t);for(let e=0;e<t;e++)this.inputLayer.push(Fr(this.tn.inputLayer)),this.featLayer.push(Fr(this.tn.featLayer)),this.phonLayer.push(Fr(this.tn.phonLayer)),this.wordLayer.push(Fr(this.tn.wordLayer)),this.globalLexicalCompetition.push(this.tn.globalLexicalCompetitionIndex),this.globalPhonemeCompetition.push(this.tn.globalPhonemeCompetitionIndex),this.tn.cycle()}}var jr,Br,Vr,qr,$r,Yr,Hr,Ur,Gr,Xr;(Br=jr||(jr={}))[Br.PHONEMES=0]="PHONEMES",Br[Br.WORDS=1]="WORDS",(qr=Vr||(Vr={}))[qr.RESPONSE_PROBABILITIES=0]="RESPONSE_PROBABILITIES",qr[qr.ACTIVATIONS=1]="ACTIVATIONS",qr[qr.COMPETITION_INDEX=2]="COMPETITION_INDEX",(Yr=$r||($r={}))[Yr.AVERAGE=0]="AVERAGE",Yr[Yr.MAX_POSTHOC=1]="MAX_POSTHOC",Yr[Yr.STATIC=2]="STATIC",Yr[Yr.FRAUENFELDER=3]="FRAUENFELDER",Yr[Yr.MAX_ADHOC=4]="MAX_ADHOC",Yr[Yr.MAX_ADHOC_2=5]="MAX_ADHOC_2",(Ur=Hr||(Hr={}))[Ur.NORMAL=0]="NORMAL",Ur[Ur.FORCED=1]="FORCED",(Xr=Gr||(Gr={}))[Xr.RAW=0]="RAW",Xr[Xr.FIRST_DERIVATIVE=1]="FIRST_DERIVATIVE",Xr[Xr.SECOND_DERIVATIVE=2]="SECOND_DERIVATIVE";const Zr=(t,e)=>{const n=[];for(const i of t)for(const t in e)i==e[t]&&n.push(t);return n},Jr=(t,e,n)=>{let i=0,r=0;for(let a=e-Math.floor(n/2);a<e+Math.floor(n/2);a++)if(!(a<0)){if(a>=t.length)break;i+=t[a],r++}return i/=r,i},Kr=(t,e,n)=>{const i=[],r=(t=>{let e=[];for(let n=1;n<=t+1;n++)e[n-1]=n;return e})(n);for(let a=0;a<n-1;a++){let n,o=0,s=0;for(let i=Math.floor(-e/2);i<e/2&&i<t.length;i++)if(n=a+i,!(n<0)){if(n>=r.length)break;o+=(r[n]-Jr(r,a,e))*(t[n]-Jr(t,a,e)),s+=(r[n]-Jr(r,a,e))*(r[n]-Jr(r,a,e))}i[a]=o/s}return i},Qr=t=>{const{sim:e,domain:n=jr.WORDS,itemsToWatch:i=10,calculationType:r=$r.STATIC,alignment:a=4,choice:o=Hr.NORMAL,kValue:s=4,competType:l=Gr.RAW,competSlope:c=1}=t;let h;h=s<0?Vr.COMPETITION_INDEX:0===s?Vr.ACTIVATIONS:Vr.RESPONSE_PROBABILITIES;const u=e.getStepsRun();if(0==u)return[];if(h==Vr.RESPONSE_PROBABILITIES||h==Vr.ACTIVATIONS){let l,c,m;if(l=Array.isArray(i)?i:(t=>{const e=t.domain==jr.WORDS?t.sim.config.lexicon.map(t=>t.phon):t.sim.phonemes.sorted().map(t=>t.label);return Qr(Object.assign(Object.assign({},t),{itemsToWatch:e})).map((t,n)=>[t,e[n]]).sort(([t],[e])=>Math.max(...e.data.map(t=>t.y))-Math.max(...t.data.map(t=>t.y))).slice(0,+t.itemsToWatch).map(([t,e])=>e)})(t),0==l.length)return[];n==jr.WORDS?(c=Zr(l,e.config.lexicon.map(t=>t.phon)),m=e.wordLayer):(c=Zr(l,e.phonemes.sorted().map(t=>t.label)),m=e.phonLayer);let g=m[0].length,v=Math.floor(e.config.fSlices/e.config.slicesPerPhon),y=Nr(u,g,v);if(h==Vr.RESPONSE_PROBABILITIES)for(let t=0;t<u;t++)for(let i=0;i<g;i++)for(let r=0;r<v;r++){const a=m[t][i][r];y[t][i][r]=Math.exp(a*(s||1)),e.config.freqNode.RDL_post_c&&n==jr.WORDS&&(y[t][i][r]=(d=e.config.freqNode,f=e.config.lexicon[i].freq,p=y[t][i][r],d.RDL_post_c?p*Math.log10(d.RDL_post_c+f):0))}const b=Ir(g,u),_=Array(g).fill(0);if(r==$r.MAX_ADHOC)for(let t=0;t<g;t++)for(let e=0;e<u;e++){let n=-1e3;for(let i=0;i<v;i++)m[e][t][i]>n&&(n=m[e][t][i],b[t][e]=i)}else if(r==$r.MAX_ADHOC_2)for(let t=0;t<g;t++)for(let e=0;e<u;e++){let n=-1e3;for(let i=0;i<v;i++)m[e][t][i]>n&&(n=m[e][t][i],b[t][e]=i)}else if(r==$r.MAX_POSTHOC)for(let t=0;t<g;t++){let e=-1e3;for(let n=0;n<u;n++)for(let i=0;i<v;i++)m[n][t][i]>e&&(e=m[n][t][i],_[t]=i)}let x=Array(u).fill(0),w=Ir(u,g);if(h==Vr.RESPONSE_PROBABILITIES)for(let t=0;t<u;t++)if(x[t]=0,o==Hr.NORMAL)switch(r){case $r.AVERAGE:for(let e=0;e<v;e++)for(let n=0;n<g;n++)x[t]+=y[t][n][e];break;case $r.MAX_ADHOC:for(let e=0;e<g;e++)for(let n=0;n<g;n++)w[t][n]+=y[t][e][b[n][t]];break;case $r.MAX_ADHOC_2:for(let e=0;e<g;e++)for(let n=0;n<g;n++)w[t][n]+=y[t][e][b[e][t]];break;case $r.MAX_POSTHOC:for(let e=0;e<g;e++)x[t]+=y[t][e][_[e]];break;case $r.STATIC:for(let e=0;e<g;e++)x[t]+=y[t][e][a];break;case $r.FRAUENFELDER:for(let i=0;i<g;i++)for(let r=0;r<g;r++)for(let o=0;o<v;o++)if(n==jr.WORDS){const n=Math.floor(e.config.deltaInput/e.config.slicesPerPhon)*e.config.lexicon[i].phon.length,s=Math.floor(e.config.deltaInput/e.config.slicesPerPhon)*e.config.lexicon[r].phon.length;(a==o||o>a&&a+n>=o||o<a&&o+s>=a)&&(w[t][i]+=y[t][r][o])}else o!=a&&o!=a-1&&o!=a+1||(w[t][i]+=y[t][i][o])}else if(o==Hr.FORCED)switch(r){case $r.AVERAGE:for(let e=0;e<v;e++)for(let n=0;n<c.length;n++)x[t]+=y[t][c[n]][e];break;case $r.MAX_ADHOC:for(let e=0;e<c.length;e++)for(let n=0;n<c.length;n++)w[t][c[e]]+=y[t][c[n]][b[c[e]][t]];break;case $r.MAX_ADHOC_2:for(let e=0;e<c.length;e++)for(let n=0;n<c.length;n++)w[t][c[e]]+=y[t][c[n]][b[c[e]][t]];break;case $r.MAX_POSTHOC:for(let e=0;e<c.length;e++)x[t]+=y[t][c[e]][_[c[e]]];break;case $r.STATIC:for(let e=0;e<c.length;e++)x[t]+=y[t][c[e]][a];break;case $r.FRAUENFELDER:for(let i=0;i<c.length;i++)for(let r=0;r<c.length;r++)for(let o=0;o<v;o++)if(n==jr.WORDS){const n=Math.floor(e.config.deltaInput/e.config.slicesPerPhon)*e.config.lexicon[c[i]].phon.length,s=Math.floor(e.config.deltaInput/e.config.slicesPerPhon)*e.config.lexicon[c[r]].phon.length;(a<=o+s&&a>=o&&s>0&&n>0||o<=a+n&&o>=a&&s>0&&n>0)&&(w[t][c[i]]+=y[t][c[r]][o])}else o!=a&&o!=a-1&&o!=a+1||(w[t][c[i]]+=y[t][c[r]][o])}let k,C=Ir(c.length,u);for(let t=0;t<c.length;t++)for(let e=0;e<u;e++){let n,i=0;switch(n=h==Vr.RESPONSE_PROBABILITIES?y:m,r){case $r.AVERAGE:for(let r=0;r<v;r++)i+=n[e][c[t]][r];i/=v;break;case $r.MAX_ADHOC:case $r.MAX_ADHOC_2:i=n[e][c[t]][b[c[t]][e]];break;case $r.MAX_POSTHOC:i=n[e][c[t]][_[c[t]]];break;case $r.STATIC:i=n[e][c[t]][a];break;case $r.FRAUENFELDER:i=n[e][c[t]][a]+n[e][c[t]][a+1]}if(h==Vr.RESPONSE_PROBABILITIES)switch(r){case $r.AVERAGE:C[t][e]=i/x[e];break;case $r.MAX_ADHOC:case $r.MAX_ADHOC_2:C[t][e]=i/w[e][c[t]];break;case $r.MAX_POSTHOC:case $r.STATIC:C[t][e]=i/x[e];break;case $r.FRAUENFELDER:C[t][e]=i/w[e][c[t]]}else C[t][e]=i}const S=[];for(let t=0;t<c.length;t++){k=n==jr.WORDS?r==$r.MAX_POSTHOC?{label:`${e.config.lexicon[c[t]].phon} [${_[c[t]]}]`,data:[]}:{label:e.config.lexicon[c[t]].phon,data:[]}:{label:e.phonemes.sorted()[c[t]].label,data:[]};for(let e=0;e<u;e++)k.data.push({x:e,y:C[t][e]});S.push(k)}return S}{let t;const i=[];let r;if(n==jr.WORDS?(r=e.globalLexicalCompetition,t={label:"Lexical Competition",data:[]}):(r=e.globalPhonemeCompetition,t={label:"Phoneme Competition",data:[]}),l==Gr.RAW){for(let e=0;e<u;e++)t.data.push({x:e,y:r[e]});i.push(t)}else if(l==Gr.FIRST_DERIVATIVE){const e=Kr(r,c,u);for(let n=0;n<e.length;n++)t.data.push({x:n,y:e[n]});i.push(t)}else if(l==Gr.SECOND_DERIVATIVE){const e=Kr(r,c,u-1),n=Kr(e,c,u-2);for(let e=0;e<n.length;e++)t.data.push({x:e,y:n[e]});i.push(t)}return i}var d,f,p};var ta="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ea(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var na=ea((function(t,e){const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",i="["+n+"][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",r=new RegExp("^"+i+"$");e.isExist=function(t){return void 0!==t},e.isEmptyObject=function(t){return 0===Object.keys(t).length},e.merge=function(t,e,n){if(e){const i=Object.keys(e),r=i.length;for(let a=0;a<r;a++)t[i[a]]="strict"===n?[e[i[a]]]:e[i[a]]}},e.getValue=function(t){return e.isExist(t)?t:""},e.buildOptions=function(t,e,n){var i={};if(!t)return e;for(let r=0;r<n.length;r++)void 0!==t[n[r]]?i[n[r]]=t[n[r]]:i[n[r]]=e[n[r]];return i},e.isName=function(t){const e=r.exec(t);return!(null==e)},e.getAllMatches=function(t,e){const n=[];let i=e.exec(t);for(;i;){const r=[],a=i.length;for(let t=0;t<a;t++)r.push(i[t]);n.push(r),i=e.exec(t)}return n},e.nameRegexp=i}));const ia=function(t,e){const n={};if(!(t.child&&!na.isEmptyObject(t.child)||t.attrsMap&&!na.isEmptyObject(t.attrsMap)))return na.isExist(t.val)?t.val:"";na.isExist(t.val)&&("string"!=typeof t.val||""!==t.val&&t.val!==e.cdataPositionChar)&&("strict"===e.arrayMode?n[e.textNodeName]=[t.val]:n[e.textNodeName]=t.val),na.merge(n,t.attrsMap,e.arrayMode);const i=Object.keys(t.child);for(let o=0;o<i.length;o++){var r=i[o];if(t.child[r]&&t.child[r].length>1)for(var a in n[r]=[],t.child[r])n[r].push(ia(t.child[r][a],e));else if(!0===e.arrayMode){const i=ia(t.child[r][0],e);n[r]="object"==typeof i?[i]:i}else"strict"===e.arrayMode?n[r]=[ia(t.child[r][0],e)]:n[r]=ia(t.child[r][0],e)}return n};var ra={convertToJson:ia},aa=function(t,e,n){this.tagname=t,this.parent=e,this.child={},this.attrsMap={},this.val=n,this.addChild=function(t){Array.isArray(this.child[t.tagname])?this.child[t.tagname].push(t):this.child[t.tagname]=[t]}};const oa=na.buildOptions;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,na.nameRegexp);!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const sa={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",tagValueProcessor:function(t,e){return t},attrValueProcessor:function(t,e){return t},stopNodes:[]};var la=sa;const ca=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","stopNodes"];var ha=ca;function ua(t,e,n){return e&&(n.trimValues&&(e=e.trim()),e=fa(e=n.tagValueProcessor(e,t),n.parseNodeValue,n.parseTrueNumberOnly)),e}function da(t,e){if(e.ignoreNameSpace){const e=t.split(":"),n="/"===t.charAt(0)?"/":"";if("xmlns"===e[0])return"";2===e.length&&(t=n+e[1])}return t}function fa(t,e,n){if(e&&"string"==typeof t){let e;return""===t.trim()||isNaN(t)?e="true"===t||"false"!==t&&t:(-1!==t.indexOf("0x")?e=Number.parseInt(t,16):-1!==t.indexOf(".")?(e=Number.parseFloat(t),t=t.replace(/\.?0+$/,"")):e=Number.parseInt(t,10),n&&(e=String(e)===t?e:t)),e}return na.isExist(t)?t:""}const pa=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function ma(t,e){if(!e.ignoreAttributes&&"string"==typeof t){t=t.replace(/\r?\n/g," ");const n=na.getAllMatches(t,pa),i=n.length,r={};for(let t=0;t<i;t++){const i=da(n[t][1],e);i.length&&(void 0!==n[t][4]?(e.trimValues&&(n[t][4]=n[t][4].trim()),n[t][4]=e.attrValueProcessor(n[t][4],i),r[e.attributeNamePrefix+i]=fa(n[t][4],e.parseAttributeValue,e.parseTrueNumberOnly)):e.allowBooleanAttributes&&(r[e.attributeNamePrefix+i]=!0))}if(!Object.keys(r).length)return;if(e.attrNodeName){const t={};return t[e.attrNodeName]=r,t}return r}}function ga(t,e){let n,i="";for(let r=e;r<t.length;r++){let e=t[r];if(n)e===n&&(n="");else if('"'===e||"'"===e)n=e;else{if(">"===e)return{data:i,index:r};"\t"===e&&(e=" ")}i+=e}}function va(t,e,n,i){const r=t.indexOf(e,n);if(-1===r)throw new Error(i);return r+e.length-1}var ya={defaultOptions:la,props:ha,getTraversalObj:function(t,e){t=t.replace(/(\r\n)|\n/," "),e=oa(e,sa,ca);const n=new aa("!xml");let i=n,r="";for(let n=0;n<t.length;n++){if("<"===t[n])if("/"===t[n+1]){const a=va(t,">",n,"Closing Tag is not closed.");let o=t.substring(n+2,a).trim();if(e.ignoreNameSpace){const t=o.indexOf(":");-1!==t&&(o=o.substr(t+1))}i&&(i.val?i.val=na.getValue(i.val)+""+ua(o,r,e):i.val=ua(o,r,e)),e.stopNodes.length&&e.stopNodes.includes(i.tagname)&&(i.child=[],null==i.attrsMap&&(i.attrsMap={}),i.val=t.substr(i.startIndex+1,n-i.startIndex-1)),i=i.parent,r="",n=a}else if("?"===t[n+1])n=va(t,"?>",n,"Pi Tag is not closed.");else if("!--"===t.substr(n+1,3))n=va(t,"--\x3e",n,"Comment is not closed.");else if("!D"===t.substr(n+1,2)){const e=va(t,">",n,"DOCTYPE is not closed.");n=t.substring(n,e).indexOf("[")>=0?t.indexOf("]>",n)+1:e}else if("!["===t.substr(n+1,2)){const a=va(t,"]]>",n,"CDATA is not closed.")-2,o=t.substring(n+9,a);if(r&&(i.val=na.getValue(i.val)+""+ua(i.tagname,r,e),r=""),e.cdataTagName){const t=new aa(e.cdataTagName,i,o);i.addChild(t),i.val=na.getValue(i.val)+e.cdataPositionChar,o&&(t.val=o)}else i.val=(i.val||"")+(o||"");n=a+2}else{const a=ga(t,n+1);let o=a.data;const s=a.index,l=o.indexOf(" ");let c=o;if(-1!==l&&(c=o.substr(0,l).trimRight(),o=o.substr(l+1)),e.ignoreNameSpace){const t=c.indexOf(":");-1!==t&&(c=c.substr(t+1))}if(i&&r&&"!xml"!==i.tagname&&(i.val=na.getValue(i.val)+""+ua(i.tagname,r,e)),o.length>0&&o.lastIndexOf("/")===o.length-1){"/"===c[c.length-1]?(c=c.substr(0,c.length-1),o=c):o=o.substr(0,o.length-1);const t=new aa(c,i,"");c!==o&&(t.attrsMap=ma(o,e)),i.addChild(t)}else{const t=new aa(c,i);e.stopNodes.length&&e.stopNodes.includes(t.tagname)&&(t.startIndex=s),c!==o&&(t.attrsMap=ma(o,e)),i.addChild(t),i=t}r="",n=s}else r+=t[n]}return n}};const ba={allowBooleanAttributes:!1},_a=["allowBooleanAttributes"];function xa(t,e){for(var n=e;e<t.length;e++)if("?"!=t[e]&&" "!=t[e]);else{var i=t.substr(n,e-n);if(e>5&&"xml"===i)return Ma("InvalidXml","XML declaration allowed only at the start of the document.",Da(t,e));if("?"==t[e]&&">"==t[e+1]){e++;break}}return e}function wa(t,e){if(t.length>e+5&&"-"===t[e+1]&&"-"===t[e+2]){for(e+=3;e<t.length;e++)if("-"===t[e]&&"-"===t[e+1]&&">"===t[e+2]){e+=2;break}}else if(t.length>e+8&&"D"===t[e+1]&&"O"===t[e+2]&&"C"===t[e+3]&&"T"===t[e+4]&&"Y"===t[e+5]&&"P"===t[e+6]&&"E"===t[e+7]){let n=1;for(e+=8;e<t.length;e++)if("<"===t[e])n++;else if(">"===t[e]&&(n--,0===n))break}else if(t.length>e+9&&"["===t[e+1]&&"C"===t[e+2]&&"D"===t[e+3]&&"A"===t[e+4]&&"T"===t[e+5]&&"A"===t[e+6]&&"["===t[e+7])for(e+=8;e<t.length;e++)if("]"===t[e]&&"]"===t[e+1]&&">"===t[e+2]){e+=2;break}return e}function ka(t,e){let n="",i="",r=!1;for(;e<t.length;e++){if('"'===t[e]||"'"===t[e])if(""===i)i=t[e];else{if(i!==t[e])continue;i=""}else if(">"===t[e]&&""===i){r=!0;break}n+=t[e]}return""===i&&{value:n,index:e,tagClosed:r}}const Ca=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function Sa(t,e){const n=na.getAllMatches(t,Ca),i={};for(let r=0;r<n.length;r++){if(0===n[r][1].length)return Ma("InvalidAttr","Attribute '"+n[r][2]+"' has no space in starting.",Pa(t,n[r][0]));if(void 0===n[r][3]&&!e.allowBooleanAttributes)return Ma("InvalidAttr","boolean attribute '"+n[r][2]+"' is not allowed.",Pa(t,n[r][0]));const a=n[r][2];if(!Ta(a))return Ma("InvalidAttr","Attribute '"+a+"' is an invalid name.",Pa(t,n[r][0]));if(i.hasOwnProperty(a))return Ma("InvalidAttr","Attribute '"+a+"' is repeated.",Pa(t,n[r][0]));i[a]=1}return!0}function Aa(t,e){if(";"===t[++e])return-1;if("#"===t[e])return function(t,e){let n=/\d/;for("x"===t[e]&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(";"===t[e])return e;if(!t[e].match(n))break}return-1}(t,++e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(";"===t[e])break;return-1}return e}function Ma(t,e,n){return{err:{code:t,msg:e,line:n}}}function Ta(t){return na.isName(t)}function Da(t,e){return t.substring(0,e).split(/\r?\n/).length}function Pa(t,e){return t.indexOf(e)+e.length}var Oa=function(t,e){e=na.buildOptions(e,ba,_a);const n=[];let i=!1,r=!1;"\ufeff"===t[0]&&(t=t.substr(1));for(let o=0;o<t.length;o++){if("<"!==t[o]){if(" "===t[o]||"\t"===t[o]||"\n"===t[o]||"\r"===t[o])continue;return Ma("InvalidChar","char '"+t[o]+"' is not expected.",Da(t,o))}if(o++,"?"===t[o]){if(o=xa(t,++o),o.err)return o}else{if("!"===t[o]){o=wa(t,o);continue}{let s=!1;"/"===t[o]&&(s=!0,o++);let l="";for(;o<t.length&&">"!==t[o]&&" "!==t[o]&&"\t"!==t[o]&&"\n"!==t[o]&&"\r"!==t[o];o++)l+=t[o];if(l=l.trim(),"/"===l[l.length-1]&&(l=l.substring(0,l.length-1),o--),a=l,!na.isName(a)){let e;return e=0===l.trim().length?"There is an unnecessary space between tag name and backward slash '</ ..'.":"Tag '"+l+"' is an invalid name.",Ma("InvalidTag",e,Da(t,o))}const c=ka(t,o);if(!1===c)return Ma("InvalidAttr","Attributes for '"+l+"' have open quote.",Da(t,o));let h=c.value;if(o=c.index,"/"===h[h.length-1]){h=h.substring(0,h.length-1);const n=Sa(h,e);if(!0!==n)return Ma(n.err.code,n.err.msg,Da(t,o-h.length+n.err.line));i=!0}else if(s){if(!c.tagClosed)return Ma("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",Da(t,o));if(h.trim().length>0)return Ma("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",Da(t,o));{const e=n.pop();if(l!==e)return Ma("InvalidTag","Closing tag '"+e+"' is expected inplace of '"+l+"'.",Da(t,o));0==n.length&&(r=!0)}}else{const a=Sa(h,e);if(!0!==a)return Ma(a.err.code,a.err.msg,Da(t,o-h.length+a.err.line));if(!0===r)return Ma("InvalidXml","Multiple possible root nodes found.",Da(t,o));n.push(l),i=!0}for(o++;o<t.length;o++){if("<"===t[o]){if("!"===t[o+1]){o++,o=wa(t,o);continue}break}if("&"===t[o]){const e=Aa(t,o);if(-1==e)return Ma("InvalidChar","char '&' is not expected.",Da(t,o));o=e}}"<"===t[o]&&o--}}}var a;return i?!(n.length>0)||Ma("InvalidXml","Invalid '"+JSON.stringify(n,null,4).replace(/\r?\n/g,"")+"' found.",1):Ma("InvalidXml","Start tag expected.",1)};const Ia=function(t){return String.fromCharCode(t)},Na={nilChar:Ia(176),missingChar:Ia(201),nilPremitive:Ia(175),missingPremitive:Ia(200),emptyChar:Ia(178),emptyValue:Ia(177),boundryChar:Ia(179),objStart:Ia(198),arrStart:Ia(204),arrayEnd:Ia(185)},Fa=[Na.nilChar,Na.nilPremitive,Na.missingChar,Na.missingPremitive,Na.boundryChar,Na.emptyChar,Na.emptyValue,Na.arrayEnd,Na.objStart,Na.arrStart],Ea=function(t,e,n){if("string"==typeof e)return t&&t[0]&&void 0!==t[0].val?Ra(t[0].val):Ra(t);{const r=void 0===(i=t)?Na.missingChar:null===i?Na.nilChar:!(i.child&&0===Object.keys(i.child).length&&(!i.attrsMap||0===Object.keys(i.attrsMap).length))||Na.emptyChar;if(!0===r){let i="";if(Array.isArray(e)){i+=Na.arrStart;const r=e[0],a=t.length;if("string"==typeof r)for(let e=0;e<a;e++){const n=Ra(t[e].val);i=La(i,n)}else for(let e=0;e<a;e++){const a=Ea(t[e],r,n);i=La(i,a)}i+=Na.arrayEnd}else{i+=Na.objStart;const r=Object.keys(e);Array.isArray(t)&&(t=t[0]);for(let a in r){const o=r[a];let s;s=!n.ignoreAttributes&&t.attrsMap&&t.attrsMap[o]?Ea(t.attrsMap[o],e[o],n):o===n.textNodeName?Ea(t.val,e[o],n):Ea(t.child[o],e[o],n),i=La(i,s)}}return i}return r}var i},Ra=function(t){switch(t){case void 0:return Na.missingPremitive;case null:return Na.nilPremitive;case"":return Na.emptyValue;default:return t}},La=function(t,e){return za(e[0])||za(t[t.length-1])||(t+=Na.boundryChar),t+e},za=function(t){return-1!==Fa.indexOf(t)};const Wa=na.buildOptions;var ja={convert2nimn:function(t,e,n){return n=Wa(n,ya.defaultOptions,ya.props),Ea(t,e,n)}};const Ba=na.buildOptions,Va=function(t,e,n){let i="{";const r=Object.keys(t.child);for(let n=0;n<r.length;n++){var a=r[n];if(t.child[a]&&t.child[a].length>1){for(var o in i+='"'+a+'" : [ ',t.child[a])i+=Va(t.child[a][o],e)+" , ";i=i.substr(0,i.length-1)+" ] "}else i+='"'+a+'" : '+Va(t.child[a][0],e)+" ,"}return na.merge(i,t.attrsMap),na.isEmptyObject(i)?na.isExist(t.val)?t.val:"":(na.isExist(t.val)&&("string"!=typeof t.val||""!==t.val&&t.val!==e.cdataPositionChar)&&(i+='"'+e.textNodeName+'" : '+(!0!==(s=t.val)&&!1!==s&&isNaN(s)?'"'+s+'"':s)),","===i[i.length-1]&&(i=i.substr(0,i.length-2)),i+"}");var s};var qa={convertToJsonString:function(t,e){return(e=Ba(e,ya.defaultOptions,ya.props)).indentBy=e.indentBy||"",Va(t,e)}};const $a=na.buildOptions,Ya={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(t){return t},attrValueProcessor:function(t){return t}},Ha=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor"];function Ua(t){this.options=$a(t,Ya,Ha),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=eo),this.options.cdataTagName?this.isCDATA=no:this.isCDATA=function(){return!1},this.replaceCDATAstr=Ga,this.replaceCDATAarr=Xa,this.options.format?(this.indentate=to,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=Qa,this.buildObjNode=Ja):(this.buildTextNode=Ka,this.buildObjNode=Za),this.buildTextValNode=Ka,this.buildObjectNode=Za}function Ga(t,e){return t=this.options.tagValueProcessor(""+t),""===this.options.cdataPositionChar||""===t?t+"<![CDATA["+e+"]]"+this.tagEndChar:t.replace(this.options.cdataPositionChar,"<![CDATA["+e+"]]"+this.tagEndChar)}function Xa(t,e){if(t=this.options.tagValueProcessor(""+t),""===this.options.cdataPositionChar||""===t)return t+"<![CDATA["+e.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let n in e)t=t.replace(this.options.cdataPositionChar,"<![CDATA["+e[n]+"]]>");return t+this.newLine}function Za(t,e,n,i){return n&&!t.includes("<")?this.indentate(i)+"<"+e+n+">"+t+"</"+e+this.tagEndChar:this.indentate(i)+"<"+e+n+this.tagEndChar+t+this.indentate(i)+"</"+e+this.tagEndChar}function Ja(t,e,n,i){return""!==t?this.buildObjectNode(t,e,n,i):this.indentate(i)+"<"+e+n+"/"+this.tagEndChar}function Ka(t,e,n,i){return this.indentate(i)+"<"+e+n+">"+this.options.tagValueProcessor(t)+"</"+e+this.tagEndChar}function Qa(t,e,n,i){return""!==t?this.buildTextValNode(t,e,n,i):this.indentate(i)+"<"+e+n+"/"+this.tagEndChar}function to(t){return this.options.indentBy.repeat(t)}function eo(t){return!!t.startsWith(this.options.attributeNamePrefix)&&t.substr(this.attrPrefixLen)}function no(t){return t===this.options.cdataTagName}Ua.prototype.parse=function(t){return this.j2x(t,0).val},Ua.prototype.j2x=function(t,e){let n="",i="";const r=Object.keys(t),a=r.length;for(let o=0;o<a;o++){const a=r[o];if(void 0===t[a]);else if(null===t[a])i+=this.indentate(e)+"<"+a+"/"+this.tagEndChar;else if(t[a]instanceof Date)i+=this.buildTextNode(t[a],a,"",e);else if("object"!=typeof t[a]){const r=this.isAttribute(a);r?n+=" "+r+'="'+this.options.attrValueProcessor(""+t[a])+'"':this.isCDATA(a)?t[this.options.textNodeName]?i+=this.replaceCDATAstr(t[this.options.textNodeName],t[a]):i+=this.replaceCDATAstr("",t[a]):a===this.options.textNodeName?t[this.options.cdataTagName]||(i+=this.options.tagValueProcessor(""+t[a])):i+=this.buildTextNode(t[a],a,"",e)}else if(Array.isArray(t[a]))if(this.isCDATA(a))i+=this.indentate(e),t[this.options.textNodeName]?i+=this.replaceCDATAarr(t[this.options.textNodeName],t[a]):i+=this.replaceCDATAarr("",t[a]);else{const n=t[a].length;for(let r=0;r<n;r++){const n=t[a][r];if(void 0===n);else if(null===n)i+=this.indentate(e)+"<"+a+"/"+this.tagEndChar;else if("object"==typeof n){const t=this.j2x(n,e+1);i+=this.buildObjNode(t.val,a,t.attrStr,e)}else i+=this.buildTextNode(n,a,"",e)}}else if(this.options.attrNodeName&&a===this.options.attrNodeName){const e=Object.keys(t[a]),i=e.length;for(let r=0;r<i;r++)n+=" "+e[r]+'="'+this.options.attrValueProcessor(""+t[a][e[r]])+'"'}else{const n=this.j2x(t[a],e+1);i+=this.buildObjNode(n.val,a,n.attrStr,e)}}return{attrStr:n,val:i}};var io=Ua,ro=ea((function(t,e){const n=ya,i=na.buildOptions;e.parse=function(t,e,r){if(r){!0===r&&(r={});const e=Oa(t,r);if(!0!==e)throw Error(e.err.msg)}e=i(e,n.defaultOptions,n.props);const a=ya.getTraversalObj(t,e);return ra.convertToJson(a,e)},e.convertTonimn=ja.convert2nimn,e.getTraversalObj=ya.getTraversalObj,e.convertToJson=ra.convertToJson,e.convertToJsonString=qa.convertToJsonString,e.validate=Oa,e.j2xParser=io,e.parseToNimn=function(t,n,i){return e.convertTonimn(e.getTraversalObj(t,i),n,i)}}));const ao=t=>t.trim().split(" ").map(t=>Number(t)||0),oo=t=>{let e='<?xml version="1.0" encoding="UTF-8"?>\n<lexicon>\n';for(const n of t){let t="  <lexeme>\n";n.label&&(t+=`    <label>${n.label}</label>\n`),t+=`    <phonology>${n.phon}</phonology>\n`,n.freq&&(t+=`    <frequency>${n.freq}</frequency>\n`),n.prime&&(t+=`    <prime>${n.prime}</prime>\n`),t+="  </lexeme>\n",e+=t}return e+="</lexicon>",e},so=Intl.NumberFormat(navigator.language,{minimumFractionDigits:2,maximumFractionDigits:10}),lo=t=>t.map(t=>so.format(t)).join(" "),co=t=>{let e='<?xml version="1.0" encoding="UTF-8"?>\n<phonemes>\n';for(const n of t){let t="  <phoneme>\n";t+=`    <symbol>${n.label}</symbol>\n`,t+=`    <features>${lo(n.features)}</features>\n`,t+=`    <durationScalar>${lo(n.features)}</durationScalar>\n`,t+="  </phoneme>\n",e+=t}return e+="</phonemes>",e};function ho(t,e,n,i,r,a,o,s,l,c){"boolean"!=typeof o&&(l=s,s=o,o=!1);const h="function"==typeof n?n.options:n;let u;if(t&&t.render&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0,r&&(h.functional=!0)),i&&(h._scopeId=i),a?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(a)},h._ssrRegister=u):e&&(u=o?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),u)if(h.functional){const t=h.render;h.render=function(e,n){return u.call(n),t(e,n)}}else{const t=h.beforeCreate;h.beforeCreate=t?[].concat(t,u):[u]}return n}const uo={props:{cycle:Number,cyclesToRun:Number,numCycles:Number,showCycles:Boolean,showChartOptions:Boolean,showDownloadButton:Boolean,visualize:Boolean},data:()=>({timer:null}),methods:{toggleTimer(){if(null==this.timer){const t=()=>{const t=Math.min(Math.max(this.cycle+1,0),this.numCycles-1);this.$emit("update:cycle",t),t==this.numCycles-1&&(clearInterval(this.timer),this.timer=null)};this.timer=setInterval(t,250),t()}else clearInterval(this.timer),this.timer=null}}};var fo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticStyle:{padding:"0.5rem"}},[t._v("\n  Cycles to Calculate\n  "),n("input",{staticClass:"input",staticStyle:{width:"50px"},attrs:{type:"text"},domProps:{value:t.cyclesToRun},on:{input:function(e){return t.$emit("update:cyclesToRun",e.target.value)}}}),t._v(" "),n("a",{staticClass:"button",on:{click:function(e){return t.$emit("run")}}},[t._v("Calculate")]),t._v(" "),t.showCycles?n("span",{staticStyle:{"margin-left":"2rem"}},[t._v("\n    cycle:\n    "),n("a",{staticClass:"button",on:{click:function(e){t.$emit("update:cycle",Math.min(Math.max(t.cycle-1,0),t.numCycles-1))}}},[t._v("-")]),t._v(" "),n("div",{staticClass:"select"},[n("select",{domProps:{value:t.cycle},on:{change:function(e){t.$emit("update:cycle",Number(e.target.value))}}},t._l(t.numCycles,(function(e,i){return n("option",{key:i,domProps:{value:i}},[t._v(t._s(i))])})),0)]),t._v(" "),n("a",{staticClass:"button",on:{click:function(e){t.$emit("update:cycle",Math.min(Math.max(t.cycle+1,0),t.numCycles-1))}}},[t._v("+")]),t._v(" "),n("a",{staticClass:"button",staticStyle:{"margin-left":"1rem"},on:{click:t.toggleTimer}},[t._v(t._s(null==t.timer?"start animation":"stop animation"))])]):t._e(),t._v(" "),t.showChartOptions?n("span",{staticStyle:{"margin-left":"2rem"}},[n("label",{staticClass:"checkbox"},[n("input",{attrs:{type:"checkbox"},domProps:{checked:t.visualize},on:{change:function(e){return t.$emit("update:visualize",e.target.checked)}}}),t._v("\n      Visualize word/phoneme activations\n    ")])]):t._e(),t._v(" "),t.showDownloadButton?n("span",{staticClass:"is-pulled-right"},[n("a",{staticClass:"button",on:{click:function(e){return t.$emit("save-data")}}},[t._v("Save data")])]):t._e()])};fo._withStripped=!0;const po=ho({render:fo,staticRenderFns:[]},void 0,uo,void 0,!1,void 0,!1,void 0,void 0,void 0);const mo={props:["value","label","note"]};var go=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"field is-horizontal",staticStyle:{width:"30rem"}},[n("div",{staticClass:"field-label"},[n("label",{staticClass:"label",staticStyle:{width:"10rem"}},[t._v(t._s(t.label))])]),t._v(" "),n("div",{staticClass:"field-body"},[n("div",{staticClass:"field"},[n("input",{staticClass:"input",attrs:{type:"text"},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}),t._v(" "),n("p",{staticClass:"help is-info"},[t._v(t._s(t.note))])])])])};go._withStripped=!0;const vo={props:{config:{type:Object,default:()=>({})}},components:{ParameterConfigInput:ho({render:go,staticRenderFns:[]},void 0,mo,void 0,!1,void 0,!1,void 0,void 0,void 0)}};var yo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("parameter-config-input",{attrs:{label:"Model Input",note:""},model:{value:t.config.modelInput,callback:function(e){t.$set(t.config,"modelInput",e)},expression:"config.modelInput"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"ALPHA[if]",note:"Input-Feature weights"},model:{value:t.config.alpha.IF,callback:function(e){t.$set(t.config.alpha,"IF",e)},expression:"config.alpha.IF"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"ALPHA[fp]",note:"Feature-Phoneme weights"},model:{value:t.config.alpha.FP,callback:function(e){t.$set(t.config.alpha,"FP",e)},expression:"config.alpha.FP"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"ALPHA[fw]",note:"Phoneme-Word weights"},model:{value:t.config.alpha.PW,callback:function(e){t.$set(t.config.alpha,"PW",e)},expression:"config.alpha.PW"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"ALPHA[pf]",note:"Phoneme-Feature weights"},model:{value:t.config.alpha.PF,callback:function(e){t.$set(t.config.alpha,"PF",e)},expression:"config.alpha.PF"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"ALPHA[wf]",note:"Word-Phoneme weights"},model:{value:t.config.alpha.WP,callback:function(e){t.$set(t.config.alpha,"WP",e)},expression:"config.alpha.WP"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"GAMMA[f]",note:"Feature layer inhibition"},model:{value:t.config.gamma.F,callback:function(e){t.$set(t.config.gamma,"F",e)},expression:"config.gamma.F"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"GAMMA[p]",note:"Phoneme layer inhibition"},model:{value:t.config.gamma.P,callback:function(e){t.$set(t.config.gamma,"P",e)},expression:"config.gamma.P"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"GAMMA[w]",note:"Word layer inhibition"},model:{value:t.config.gamma.W,callback:function(e){t.$set(t.config.gamma,"W",e)},expression:"config.gamma.W"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"DECAY[f]",note:"Feature decay"},model:{value:t.config.decay.F,callback:function(e){t.$set(t.config.decay,"F",e)},expression:"config.decay.F"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"DECAY[p]",note:"Phoneme decay"},model:{value:t.config.decay.P,callback:function(e){t.$set(t.config.decay,"P",e)},expression:"config.decay.P"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"DECAY[w]",note:"Word decay"},model:{value:t.config.decay.W,callback:function(e){t.$set(t.config.decay,"W",e)},expression:"config.decay.W"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"REST[f]",note:"Feature resting activation"},model:{value:t.config.rest.F,callback:function(e){t.$set(t.config.rest,"F",e)},expression:"config.rest.F"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"REST[p]",note:"Phoneme resting activation"},model:{value:t.config.rest.P,callback:function(e){t.$set(t.config.rest,"P",e)},expression:"config.rest.P"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"REST[w]",note:"Word resting activation"},model:{value:t.config.rest.W,callback:function(e){t.$set(t.config.rest,"W",e)},expression:"config.rest.W"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"Input Noise (SD)",note:""},model:{value:t.config.noiseSD,callback:function(e){t.$set(t.config,"noiseSD",e)},expression:"config.noiseSD"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"Stochasticity (SD)",note:"McClelland: 0.02"},model:{value:t.config.stochasticitySD,callback:function(e){t.$set(t.config,"stochasticitySD",e)},expression:"config.stochasticitySD"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"Attention",note:"Lexical gain"},model:{value:t.config.atten,callback:function(e){t.$set(t.config,"atten",e)},expression:"config.atten"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"Bias",note:"Lexical bias"},model:{value:t.config.bias,callback:function(e){t.$set(t.config,"bias",e)},expression:"config.bias"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"spreadScale",note:"Scales FETSPREADs"},model:{value:t.config.spreadScale[0],callback:function(e){t.$set(t.config.spreadScale,0,e)},expression:"config.spreadScale[0]"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"Min",note:"Minimum activation"},model:{value:t.config.min,callback:function(e){t.$set(t.config,"min",e)},expression:"config.min"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"Max",note:"Maximum activation"},model:{value:t.config.max,callback:function(e){t.$set(t.config,"max",e)},expression:"config.max"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"FETSPREAD[pow]",note:"Power feature spread"},model:{value:t.config.spread[0],callback:function(e){t.$set(t.config.spread,0,e)},expression:"config.spread[0]"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"FETSPREAD[voc]",note:"Vocalic feature spread"},model:{value:t.config.spread[1],callback:function(e){t.$set(t.config.spread,1,e)},expression:"config.spread[1]"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"FETSPREAD[dif]",note:"Diffuse feature spread"},model:{value:t.config.spread[2],callback:function(e){t.$set(t.config.spread,2,e)},expression:"config.spread[2]"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"FETSPREAD[acu]",note:"Accute feature spread"},model:{value:t.config.spread[3],callback:function(e){t.$set(t.config.spread,3,e)},expression:"config.spread[3]"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"FETSPREAD[gra]",note:"Gradient/Consonental feature spread"},model:{value:t.config.spread[4],callback:function(e){t.$set(t.config.spread,4,e)},expression:"config.spread[4]"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"FETSPREAD[voi]",note:"Voiced feature spread"},model:{value:t.config.spread[5],callback:function(e){t.$set(t.config.spread,5,e)},expression:"config.spread[5]"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"FETSPREAD[bur]",note:"Burst feature spread"},model:{value:t.config.spread[6],callback:function(e){t.$set(t.config.spread,6,e)},expression:"config.spread[6]"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"fSlices",note:"Number of time steps"},model:{value:t.config.fSlices,callback:function(e){t.$set(t.config,"fSlices",e)},expression:"config.fSlices"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"deltaInput",note:"Input phoneme interval"},model:{value:t.config.deltaInput,callback:function(e){t.$set(t.config,"deltaInput",e)},expression:"config.deltaInput"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"nreps",note:"Input presentation rate"},model:{value:t.config.nreps,callback:function(e){t.$set(t.config,"nreps",e)},expression:"config.nreps"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"slicesPerPhon",note:"Phoneme/Word slices per Feature"},model:{value:t.config.slicesPerPhon,callback:function(e){t.$set(t.config,"slicesPerPhon",e)},expression:"config.slicesPerPhon"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"lengthNormalization",note:"0 or 1; normalize length effects."},model:{value:t.config.lengthNormalization,callback:function(e){t.$set(t.config,"lengthNormalization",e)},expression:"config.lengthNormalization"}}),t._v(" "),n("parameter-config-input",{attrs:{label:"continuumSpec",note:"Ambiguous phoneme continuum"},model:{value:t.config.continuumSpec,callback:function(e){t.$set(t.config,"continuumSpec",e)},expression:"config.continuumSpec"}})],1)};yo._withStripped=!0;const bo=ho({render:yo,staticRenderFns:[]},void 0,vo,void 0,!1,void 0,!1,void 0,void 0,void 0);const _o={props:{label:{type:String,default:"Choose a file"}},methods:{loadTextFromFile(t){const e=new FileReader;e.onload=t=>this.$emit("load",t.target.result),e.readAsText(t.target.files[0])}}};var xo=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"file"},[e("label",{staticClass:"file-label"},[e("input",{staticClass:"file-input",attrs:{type:"file",name:"resume"},on:{change:this.loadTextFromFile}}),this._v(" "),e("span",{staticClass:"file-cta"},[e("span",{staticClass:"file-label"},[this._v("\n        "+this._s(this.label)+"\n      ")])])])])};xo._withStripped=!0;const wo=ho({render:xo,staticRenderFns:[]},void 0,_o,void 0,!1,void 0,!1,void 0,void 0,void 0);var ko=ea((function(t,e){!function(){function e(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){a(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof ta&&ta.global===ta?ta:void 0,a=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype?function(t,a,o){var s=r.URL||r.webkitURL,l=document.createElement("a");a=a||t.name||"download",l.download=a,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?i(l):n(l.href)?e(t,a,o):i(l,l.target="_blank")):(l.href=s.createObjectURL(t),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){i(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,r,a){if(r=r||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob((s=t,void 0===(l=a)?l={autoBom:!1}:"object"!=typeof l&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\ufeff",s],{type:s.type}):s),r);else if(n(t))e(t,r,a);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout((function(){i(o)}))}var s,l}:function(t,n,i,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,i);var o="application/octet-stream"===t.type,s=/constructor/i.test(r.HTMLElement)||r.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||o&&s)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var t=c.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=t:location=t,a=null},c.readAsDataURL(t)}else{var h=r.URL||r.webkitURL,u=h.createObjectURL(t);a?a.location=u:location.href=u,a=null,setTimeout((function(){h.revokeObjectURL(u)}),4e4)}});r.saveAs=a.saveAs=a,t.exports=a}()}));const Co={components:{FileUpload:wo},props:{phonemes:{type:Array,default:()=>[]}},data:()=>({continua:["POW","VOC","DIF","ACU","GRD","VOI","BUR"],numFeatures:9,activePhoneme:null}),created(){this.activePhoneme=this.sortedPhonemes[0]},methods:{deleteSelected(){const t=this.phonemes.indexOf(this.activePhoneme),e=this.sortedPhonemes.indexOf(this.activePhoneme);t>=0&&(this.phonemes.splice(t,1),this.activePhoneme=this.sortedPhonemes[Math.min(e,this.sortedPhonemes.length-1)])},addPhoneme(){const t={label:"",features:Array(63).fill(0),durationScalar:Array(7).fill(1),phonologicalRole:Tr.NORMAL};this.phonemes.push(t),this.activePhoneme=t},loadJtPhonology(t){this.phonemes.splice(0,this.phonemes.length,...(t=>{const e=ro.parse(t);return(e.phonemes&&e.phonemes.phoenem||[]).map(t=>({label:t.symbol,features:ao(t.features),durationScalar:ao(t.durationScalar),phonologicalRole:Tr.NORMAL}))})(t))},savePhonology(){const t=new Blob([co(this.phonemes)],{type:"application/xml"});ko.saveAs(t,"phonology.jt")}},computed:{sortedPhonemes(){return[...this.phonemes].sort((t,e)=>t.label.localeCompare(e.label))}}};var So=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{display:"flex","margin-bottom":"1rem"}},[n("file-upload",{staticStyle:{"margin-right":"0.5rem"},on:{load:t.loadJtPhonology}}),t._v(" "),n("a",{staticClass:"button",on:{click:t.savePhonology}},[t._v("Save lexicon")])],1),t._v(" "),n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-2"},[n("div",{staticClass:"list is-hoverable"},t._l(t.sortedPhonemes,(function(e,i){return n("a",{key:i,class:{"list-item":!0,"is-active":e===t.activePhoneme},on:{click:function(n){t.activePhoneme=e}}},[t._v("\n          "+t._s(e.label||"null")+"\n        ")])})),0),t._v(" "),n("a",{staticClass:"button",on:{click:t.addPhoneme}},[t._v("Add phoneme")]),t._v(" "),n("a",{staticClass:"button",on:{click:t.deleteSelected}},[t._v("Delete selected")])]),t._v(" "),t.activePhoneme?n("div",{staticClass:"column"},[n("div",{staticClass:"field is-horizontal",staticStyle:{width:"8rem"}},[t._m(0),t._v(" "),n("div",{staticClass:"field-body"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.activePhoneme.label,expression:"activePhoneme.label"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.activePhoneme.label},on:{input:function(e){e.target.composing||t.$set(t.activePhoneme,"label",e.target.value)}}})])]),t._v(" "),n("h1",{staticClass:"title is-5 is-marginless"},[t._v("Phoneme Specification")]),t._v(" "),n("table",{staticClass:"table is-bordered"},[n("thead",[n("tr",[n("th",[t._v("#")]),t._v(" "),t._l(t.continua,(function(e,i){return n("th",{key:i},[t._v("\n              "+t._s(e)+"\n            ")])}))],2)]),t._v(" "),n("tbody",t._l(t.numFeatures,(function(e,i){return n("tr",{key:i},[n("td",[t._v(t._s(e))]),t._v(" "),t._l(t.continua.length,(function(e,r){return n("td",{key:r,staticClass:"is-paddingless"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.activePhoneme.features[r*t.numFeatures+i],expression:"activePhoneme.features[contIndex * numFeatures + featIndex]"}],staticClass:"borderless-input",staticStyle:{width:"5rem"},attrs:{type:"text"},domProps:{value:t.activePhoneme.features[r*t.numFeatures+i]},on:{input:function(e){e.target.composing||t.$set(t.activePhoneme.features,r*t.numFeatures+i,e.target.value)}}})])}))],2)})),0)]),t._v(" "),n("h1",{staticClass:"title is-5 is-marginless"},[t._v("Duration Scalar")]),t._v(" "),n("table",{staticClass:"table is-bordered"},[n("thead",[n("tr",t._l(t.continua,(function(e,i){return n("th",{key:i},[t._v("\n              "+t._s(e)+"\n            ")])})),0)]),t._v(" "),n("tbody",[n("tr",t._l(t.continua.length,(function(e,i){return n("td",{key:i,staticClass:"is-paddingless"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.activePhoneme.durationScalar[i],expression:"activePhoneme.durationScalar[contIndex]"}],staticClass:"borderless-input",staticStyle:{width:"5rem"},attrs:{type:"text"},domProps:{value:t.activePhoneme.durationScalar[i]},on:{input:function(e){e.target.composing||t.$set(t.activePhoneme.durationScalar,i,e.target.value)}}})])})),0)])])]):t._e()])])};So._withStripped=!0;const Ao=ho({render:So,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label"},[e("label",{staticClass:"label"},[this._v("Label")])])}]},void 0,Co,void 0,!1,void 0,!1,void 0,void 0,void 0);const Mo={props:{lexicon:{type:Array,default:()=>[]}},methods:{loadJtLexicon(t){this.lexicon.splice(0,this.lexicon.length,...(t=>{const e=ro.parse(t);return(e.lexicon&&e.lexicon.lexeme||[]).map(t=>({phon:t.phonology,freq:+t.frequency||0,label:t.label,prime:+t.prime||0}))})(t))},saveLexicon(){const t=new Blob([oo(this.lexicon)],{type:"application/xml"});ko.saveAs(t,"lexicon.jt")},addWord(){this.lexicon.unshift({phon:"",freq:"",prime:""})},deleteWord(t){this.lexicon.splice(t,1)},deleteAll(){this.lexicon.splice(0,this.lexicon.length)}},components:{FileUpload:wo}};var To=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{display:"flex","margin-bottom":"1rem"}},[n("a",{staticClass:"button",staticStyle:{"margin-right":"0.5rem"},on:{click:t.addWord}},[t._v("Add word")]),t._v(" "),n("file-upload",{staticStyle:{"margin-right":"0.5rem"},on:{load:t.loadJtLexicon}}),t._v(" "),n("a",{staticClass:"button",on:{click:t.saveLexicon}},[t._v("Save lexicon")])],1),t._v(" "),n("table",{staticClass:"table is-bordered"},[n("thead",[n("tr",[n("th",[t._v("Lexical Items")]),t._v(" "),n("th",[t._v("Frequency")]),t._v(" "),n("th",[t._v("Priming")]),t._v(" "),n("th",{staticClass:"is-paddingless"},[n("a",{staticClass:"button",on:{click:function(e){return t.deleteAll()}}},[t._v("Delete All")])])])]),t._v(" "),n("tbody",t._l(t.lexicon,(function(e,i){return n("tr",{key:i},[n("td",{staticClass:"is-paddingless"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.phon,expression:"lex.phon"}],staticClass:"borderless-input",attrs:{type:"text"},domProps:{value:e.phon},on:{input:function(n){n.target.composing||t.$set(e,"phon",n.target.value)}}})]),t._v(" "),n("td",{staticClass:"is-paddingless"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.freq,expression:"lex.freq"}],staticClass:"borderless-input",attrs:{type:"text"},domProps:{value:e.freq},on:{input:function(n){n.target.composing||t.$set(e,"freq",n.target.value)}}})]),t._v(" "),n("td",{staticClass:"is-paddingless"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.prime,expression:"lex.prime"}],staticClass:"borderless-input",attrs:{type:"text"},domProps:{value:e.prime},on:{input:function(n){n.target.composing||t.$set(e,"prime",n.target.value)}}})]),t._v(" "),n("td",{staticClass:"is-paddingless"},[n("a",{staticClass:"button is-fullwidth",on:{click:function(e){return t.deleteWord(i)}}},[t._v("Delete")])])])})),0)])])};To._withStripped=!0;var Do={props:{config:Object,default:()=>({})},data:()=>({tabs:["Parameters","Phonology","Lexicon"],activeTab:0}),components:{ParametersConfig:bo,PhonemeConfig:Ao,LexiconConfig:ho({render:To,staticRenderFns:[]},void 0,Mo,void 0,!1,void 0,!1,void 0,void 0,void 0)}};const Po="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function Oo(t){return(t,e)=>function(t,e){const n=Po?e.media||"default":t,i=No[n]||(No[n]={ids:new Set,styles:[]});if(!i.ids.has(t)){i.ids.add(t);let n=e.source;if(e.map&&(n+="\n/*# sourceURL="+e.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",e.media&&i.element.setAttribute("media",e.media),void 0===Io&&(Io=document.head||document.getElementsByTagName("head")[0]),Io.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(n),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{const t=i.ids.size-1,e=document.createTextNode(n),r=i.element.childNodes;r[t]&&i.element.removeChild(r[t]),r.length?i.element.insertBefore(e,r[t]):i.element.appendChild(e)}}}(t,e)}let Io;const No={};const Fo=Do;var Eo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{width:"100%"}},[n("div",{staticClass:"tabs"},[n("ul",t._l(t.tabs,(function(e,i){return n("li",{key:i,class:{"tabs-margin":!0,"is-active":t.activeTab==i}},[n("a",{on:{click:function(e){t.activeTab=i}}},[t._v(t._s(e))])])})),0)]),t._v(" "),n("div",{staticStyle:{margin:"1rem"}},[0==t.activeTab?n("parameters-config",{attrs:{config:t.config}}):t._e(),t._v(" "),1==t.activeTab?n("phoneme-config",{attrs:{phonemes:t.config.phonology}}):t._e(),t._v(" "),2==t.activeTab?n("lexicon-config",{attrs:{lexicon:t.config.lexicon}}):t._e()],1)])};Eo._withStripped=!0;const Ro=ho({render:Eo,staticRenderFns:[]},(function(t){t&&t("data-v-de1ec90c_0",{source:"\n.tabs-margin:first-child {\n  margin-left: 1rem;\n}\n.borderless-input {\n  background-color: transparent;\n  border: 0 solid;\n  padding: 0.5rem;\n  font-size: 1rem;\n  font-weight: 400;\n}\n",map:{version:3,sources:["/Users/andrew/code/tracejs/packages/tracejs-vue/src/components/Config.vue"],names:[],mappings:";AAwCA;EACA,iBAAA;AACA;AACA;EACA,6BAAA;EACA,eAAA;EACA,eAAA;EACA,eAAA;EACA,gBAAA;AACA",file:"Config.vue",sourcesContent:['<template>\n  <div style="width: 100%;">\n    <div class="tabs">\n      <ul>\n        <li v-for="(tab, index) in tabs" :key="index" :class="{ \'tabs-margin\': true, \'is-active\': activeTab == index }">\n          <a @click="activeTab = index">{{ tab }}</a>\n        </li>\n      </ul>\n    </div>\n    <div style="margin: 1rem;">\n      \x3c!-- when we pass the config props to the components, they are passed by reference --\x3e\n      \x3c!-- this means that the values will be automatically updated --\x3e\n      <parameters-config v-if="activeTab == 0" :config="config" />\n      <phoneme-config v-if="activeTab == 1" :phonemes="config.phonology" />\n      <lexicon-config v-if="activeTab == 2" :lexicon="config.lexicon" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport ParametersConfig from \'./ParametersConfig.vue\'\nimport PhonemeConfig from \'./PhonemeConfig.vue\'\nimport LexiconConfig from \'./LexiconConfig.vue\'\n\nexport default {\n  props: {\n    config: Object,\n    default: () => ({})\n  },\n  data() {\n    return {\n      tabs: [\'Parameters\', \'Phonology\', \'Lexicon\'],\n      activeTab: 0\n    }\n  },\n  components: { ParametersConfig, PhonemeConfig, LexiconConfig }\n}\n<\/script>\n\n<style>\n.tabs-margin:first-child {\n  margin-left: 1rem;\n}\n.borderless-input {\n  background-color: transparent;\n  border: 0 solid;\n  padding: 0.5rem;\n  font-size: 1rem;\n  font-weight: 400;\n}\n</style>']},media:void 0})}),Fo,void 0,!1,void 0,!1,Oo,void 0,void 0);function Lo(t,e){if(e){var n=this.$data._chart,i=t.datasets.map((function(t){return t.label})),r=e.datasets.map((function(t){return t.label})),a=JSON.stringify(r);JSON.stringify(i)===a&&e.datasets.length===t.datasets.length?(t.datasets.forEach((function(t,i){var r=Object.keys(e.datasets[i]),a=Object.keys(t),o=r.filter((function(t){return"_meta"!==t&&-1===a.indexOf(t)}));for(var s in o.forEach((function(t){delete n.data.datasets[i][t]})),t)t.hasOwnProperty(s)&&(n.data.datasets[i][s]=t[s])})),t.hasOwnProperty("labels")&&(n.data.labels=t.labels,this.$emit("labels:update")),t.hasOwnProperty("xLabels")&&(n.data.xLabels=t.xLabels,this.$emit("xlabels:update")),t.hasOwnProperty("yLabels")&&(n.data.yLabels=t.yLabels,this.$emit("ylabels:update")),n.update(),this.$emit("chart:update")):(n&&(n.destroy(),this.$emit("chart:destroy")),this.renderChart(this.chartData,this.options),this.$emit("chart:render"))}else this.$data._chart&&(this.$data._chart.destroy(),this.$emit("chart:destroy")),this.renderChart(this.chartData,this.options),this.$emit("chart:render")}var zo,Wo,jo={reactiveData:{data:function(){return{chartData:null}},watch:{chartData:Lo}},reactiveProp:{props:{chartData:{type:Object,required:!0,default:function(){}}},watch:{chartData:Lo}}};function Bo(){return zo.apply(null,arguments)}function Vo(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function qo(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function $o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Yo(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if($o(t,e))return!1;return!0}function Ho(t){return void 0===t}function Uo(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function Go(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function Xo(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function Zo(t,e){for(var n in e)$o(e,n)&&(t[n]=e[n]);return $o(e,"toString")&&(t.toString=e.toString),$o(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Jo(t,e,n,i){return lc(t,e,n,i,!0).utc()}function Ko(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function Qo(t){if(null==t._isValid){var e=Ko(t),n=Wo.call(e.parsedDateParts,(function(t){return null!=t})),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function ts(t){var e=Jo(NaN);return null!=t?Zo(Ko(e),t):Ko(e).userInvalidated=!0,e}Wo=Array.prototype.some?Array.prototype.some:function(t){var e,n=Object(this),i=n.length>>>0;for(e=0;e<i;e++)if(e in n&&t.call(this,n[e],e,n))return!0;return!1};var es=Bo.momentProperties=[],ns=!1;function is(t,e){var n,i,r;if(Ho(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Ho(e._i)||(t._i=e._i),Ho(e._f)||(t._f=e._f),Ho(e._l)||(t._l=e._l),Ho(e._strict)||(t._strict=e._strict),Ho(e._tzm)||(t._tzm=e._tzm),Ho(e._isUTC)||(t._isUTC=e._isUTC),Ho(e._offset)||(t._offset=e._offset),Ho(e._pf)||(t._pf=Ko(e)),Ho(e._locale)||(t._locale=e._locale),es.length>0)for(n=0;n<es.length;n++)Ho(r=e[i=es[n]])||(t[i]=r);return t}function rs(t){is(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===ns&&(ns=!0,Bo.updateOffset(this),ns=!1)}function as(t){return t instanceof rs||null!=t&&null!=t._isAMomentObject}function os(t){!1===Bo.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function ss(t,e){var n=!0;return Zo((function(){if(null!=Bo.deprecationHandler&&Bo.deprecationHandler(null,t),n){var i,r,a,o=[];for(r=0;r<arguments.length;r++){if(i="","object"==typeof arguments[r]){for(a in i+="\n["+r+"] ",arguments[0])$o(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[r];o.push(i)}os(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var ls,cs={};function hs(t,e){null!=Bo.deprecationHandler&&Bo.deprecationHandler(t,e),cs[t]||(os(e),cs[t]=!0)}function us(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function ds(t,e){var n,i=Zo({},t);for(n in e)$o(e,n)&&(qo(t[n])&&qo(e[n])?(i[n]={},Zo(i[n],t[n]),Zo(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)$o(t,n)&&!$o(e,n)&&qo(t[n])&&(i[n]=Zo({},i[n]));return i}function fs(t){null!=t&&this.set(t)}Bo.suppressDeprecationWarnings=!1,Bo.deprecationHandler=null,ls=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)$o(t,e)&&n.push(e);return n};function ps(t,e,n){var i=""+Math.abs(t),r=e-i.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var ms=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,gs=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,vs={},ys={};function bs(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(ys[t]=r),e&&(ys[e[0]]=function(){return ps(r.apply(this,arguments),e[1],e[2])}),n&&(ys[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function _s(t,e){return t.isValid()?(e=xs(e,t.localeData()),vs[e]=vs[e]||function(t){var e,n,i,r=t.match(ms);for(e=0,n=r.length;e<n;e++)ys[r[e]]?r[e]=ys[r[e]]:r[e]=(i=r[e]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(e){var i,a="";for(i=0;i<n;i++)a+=us(r[i])?r[i].call(e,t):r[i];return a}}(e),vs[e](t)):t.localeData().invalidDate()}function xs(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(gs.lastIndex=0;n>=0&&gs.test(t);)t=t.replace(gs,i),gs.lastIndex=0,n-=1;return t}var ws={};function ks(t,e){var n=t.toLowerCase();ws[n]=ws[n+"s"]=ws[e]=t}function Cs(t){return"string"==typeof t?ws[t]||ws[t.toLowerCase()]:void 0}function Ss(t){var e,n,i={};for(n in t)$o(t,n)&&(e=Cs(n))&&(i[e]=t[n]);return i}var As={};function Ms(t,e){As[t]=e}function Ts(t){return t%4==0&&t%100!=0||t%400==0}function Ds(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Ps(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=Ds(e)),n}function Os(t,e){return function(n){return null!=n?(Ns(this,t,n),Bo.updateOffset(this,e),this):Is(this,t)}}function Is(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Ns(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&Ts(t.year())&&1===t.month()&&29===t.date()?(n=Ps(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),al(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}var Fs,Es=/\d/,Rs=/\d\d/,Ls=/\d{3}/,zs=/\d{4}/,Ws=/[+-]?\d{6}/,js=/\d\d?/,Bs=/\d\d\d\d?/,Vs=/\d\d\d\d\d\d?/,qs=/\d{1,3}/,$s=/\d{1,4}/,Ys=/[+-]?\d{1,6}/,Hs=/\d+/,Us=/[+-]?\d+/,Gs=/Z|[+-]\d\d:?\d\d/gi,Xs=/Z|[+-]\d\d(?::?\d\d)?/gi,Zs=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Js(t,e,n){Fs[t]=us(e)?e:function(t,i){return t&&n?n:e}}function Ks(t,e){return $o(Fs,t)?Fs[t](e._strict,e._locale):new RegExp(Qs(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,i,r){return e||n||i||r}))))}function Qs(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Fs={};var tl={};function el(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),Uo(e)&&(i=function(t,n){n[e]=Ps(t)}),n=0;n<t.length;n++)tl[t[n]]=i}function nl(t,e){el(t,(function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)}))}function il(t,e,n){null!=e&&$o(tl,t)&&tl[t](e,n._a,n,t)}var rl;function al(t,e){if(isNaN(t)||isNaN(e))return NaN;var n,i=(e%(n=12)+n)%n;return t+=(e-i)/12,1===i?Ts(t)?29:28:31-i%7%2}rl=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},bs("M",["MM",2],"Mo",(function(){return this.month()+1})),bs("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),bs("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),ks("month","M"),Ms("month",8),Js("M",js),Js("MM",js,Rs),Js("MMM",(function(t,e){return e.monthsShortRegex(t)})),Js("MMMM",(function(t,e){return e.monthsRegex(t)})),el(["M","MM"],(function(t,e){e[1]=Ps(t)-1})),el(["MMM","MMMM"],(function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[1]=r:Ko(n).invalidMonth=t}));var ol="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),sl="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ll=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,cl=Zs,hl=Zs;function ul(t,e,n){var i,r,a,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)a=Jo([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(r=rl.call(this._shortMonthsParse,o))?r:null:-1!==(r=rl.call(this._longMonthsParse,o))?r:null:"MMM"===e?-1!==(r=rl.call(this._shortMonthsParse,o))||-1!==(r=rl.call(this._longMonthsParse,o))?r:null:-1!==(r=rl.call(this._longMonthsParse,o))||-1!==(r=rl.call(this._shortMonthsParse,o))?r:null}function dl(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=Ps(e);else if(!Uo(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),al(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function fl(t){return null!=t?(dl(this,t),Bo.updateOffset(this,!0),this):Is(this,"Month")}function pl(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],a=[];for(e=0;e<12;e++)n=Jo([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),a.sort(t),e=0;e<12;e++)i[e]=Qs(i[e]),r[e]=Qs(r[e]);for(e=0;e<24;e++)a[e]=Qs(a[e]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function ml(t){return Ts(t)?366:365}bs("Y",0,0,(function(){var t=this.year();return t<=9999?ps(t,4):"+"+t})),bs(0,["YY",2],0,(function(){return this.year()%100})),bs(0,["YYYY",4],0,"year"),bs(0,["YYYYY",5],0,"year"),bs(0,["YYYYYY",6,!0],0,"year"),ks("year","y"),Ms("year",1),Js("Y",Us),Js("YY",js,Rs),Js("YYYY",$s,zs),Js("YYYYY",Ys,Ws),Js("YYYYYY",Ys,Ws),el(["YYYYY","YYYYYY"],0),el("YYYY",(function(t,e){e[0]=2===t.length?Bo.parseTwoDigitYear(t):Ps(t)})),el("YY",(function(t,e){e[0]=Bo.parseTwoDigitYear(t)})),el("Y",(function(t,e){e[0]=parseInt(t,10)})),Bo.parseTwoDigitYear=function(t){return Ps(t)+(Ps(t)>68?1900:2e3)};var gl=Os("FullYear",!0);function vl(t,e,n,i,r,a,o){var s;return t<100&&t>=0?(s=new Date(t+400,e,n,i,r,a,o),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,n,i,r,a,o),s}function yl(t){var e,n;return t<100&&t>=0?((n=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function bl(t,e,n){var i=7+e-n;return-((7+yl(t,0,i).getUTCDay()-e)%7)+i-1}function _l(t,e,n,i,r){var a,o,s=1+7*(e-1)+(7+n-i)%7+bl(t,i,r);return s<=0?o=ml(a=t-1)+s:s>ml(t)?(a=t+1,o=s-ml(t)):(a=t,o=s),{year:a,dayOfYear:o}}function xl(t,e,n){var i,r,a=bl(t.year(),e,n),o=Math.floor((t.dayOfYear()-a-1)/7)+1;return o<1?i=o+wl(r=t.year()-1,e,n):o>wl(t.year(),e,n)?(i=o-wl(t.year(),e,n),r=t.year()+1):(r=t.year(),i=o),{week:i,year:r}}function wl(t,e,n){var i=bl(t,e,n),r=bl(t+1,e,n);return(ml(t)-i+r)/7}bs("w",["ww",2],"wo","week"),bs("W",["WW",2],"Wo","isoWeek"),ks("week","w"),ks("isoWeek","W"),Ms("week",5),Ms("isoWeek",5),Js("w",js),Js("ww",js,Rs),Js("W",js),Js("WW",js,Rs),nl(["w","ww","W","WW"],(function(t,e,n,i){e[i.substr(0,1)]=Ps(t)}));function kl(t,e){return t.slice(e,7).concat(t.slice(0,e))}bs("d",0,"do","day"),bs("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),bs("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),bs("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),bs("e",0,0,"weekday"),bs("E",0,0,"isoWeekday"),ks("day","d"),ks("weekday","e"),ks("isoWeekday","E"),Ms("day",11),Ms("weekday",11),Ms("isoWeekday",11),Js("d",js),Js("e",js),Js("E",js),Js("dd",(function(t,e){return e.weekdaysMinRegex(t)})),Js("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),Js("dddd",(function(t,e){return e.weekdaysRegex(t)})),nl(["dd","ddd","dddd"],(function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:Ko(n).invalidWeekday=t})),nl(["d","e","E"],(function(t,e,n,i){e[i]=Ps(t)}));var Cl="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Sl="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Al="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ml=Zs,Tl=Zs,Dl=Zs;function Pl(t,e,n){var i,r,a,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)a=Jo([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(r=rl.call(this._weekdaysParse,o))?r:null:"ddd"===e?-1!==(r=rl.call(this._shortWeekdaysParse,o))?r:null:-1!==(r=rl.call(this._minWeekdaysParse,o))?r:null:"dddd"===e?-1!==(r=rl.call(this._weekdaysParse,o))||-1!==(r=rl.call(this._shortWeekdaysParse,o))||-1!==(r=rl.call(this._minWeekdaysParse,o))?r:null:"ddd"===e?-1!==(r=rl.call(this._shortWeekdaysParse,o))||-1!==(r=rl.call(this._weekdaysParse,o))||-1!==(r=rl.call(this._minWeekdaysParse,o))?r:null:-1!==(r=rl.call(this._minWeekdaysParse,o))||-1!==(r=rl.call(this._weekdaysParse,o))||-1!==(r=rl.call(this._shortWeekdaysParse,o))?r:null}function Ol(){function t(t,e){return e.length-t.length}var e,n,i,r,a,o=[],s=[],l=[],c=[];for(e=0;e<7;e++)n=Jo([2e3,1]).day(e),i=Qs(this.weekdaysMin(n,"")),r=Qs(this.weekdaysShort(n,"")),a=Qs(this.weekdays(n,"")),o.push(i),s.push(r),l.push(a),c.push(i),c.push(r),c.push(a);o.sort(t),s.sort(t),l.sort(t),c.sort(t),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Il(){return this.hours()%12||12}function Nl(t,e){bs(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function Fl(t,e){return e._meridiemParse}bs("H",["HH",2],0,"hour"),bs("h",["hh",2],0,Il),bs("k",["kk",2],0,(function(){return this.hours()||24})),bs("hmm",0,0,(function(){return""+Il.apply(this)+ps(this.minutes(),2)})),bs("hmmss",0,0,(function(){return""+Il.apply(this)+ps(this.minutes(),2)+ps(this.seconds(),2)})),bs("Hmm",0,0,(function(){return""+this.hours()+ps(this.minutes(),2)})),bs("Hmmss",0,0,(function(){return""+this.hours()+ps(this.minutes(),2)+ps(this.seconds(),2)})),Nl("a",!0),Nl("A",!1),ks("hour","h"),Ms("hour",13),Js("a",Fl),Js("A",Fl),Js("H",js),Js("h",js),Js("k",js),Js("HH",js,Rs),Js("hh",js,Rs),Js("kk",js,Rs),Js("hmm",Bs),Js("hmmss",Vs),Js("Hmm",Bs),Js("Hmmss",Vs),el(["H","HH"],3),el(["k","kk"],(function(t,e,n){var i=Ps(t);e[3]=24===i?0:i})),el(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),el(["h","hh"],(function(t,e,n){e[3]=Ps(t),Ko(n).bigHour=!0})),el("hmm",(function(t,e,n){var i=t.length-2;e[3]=Ps(t.substr(0,i)),e[4]=Ps(t.substr(i)),Ko(n).bigHour=!0})),el("hmmss",(function(t,e,n){var i=t.length-4,r=t.length-2;e[3]=Ps(t.substr(0,i)),e[4]=Ps(t.substr(i,2)),e[5]=Ps(t.substr(r)),Ko(n).bigHour=!0})),el("Hmm",(function(t,e,n){var i=t.length-2;e[3]=Ps(t.substr(0,i)),e[4]=Ps(t.substr(i))})),el("Hmmss",(function(t,e,n){var i=t.length-4,r=t.length-2;e[3]=Ps(t.substr(0,i)),e[4]=Ps(t.substr(i,2)),e[5]=Ps(t.substr(r))}));var El=Os("Hours",!0);var Rl,Ll={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:ol,monthsShort:sl,week:{dow:0,doy:6},weekdays:Cl,weekdaysMin:Al,weekdaysShort:Sl,meridiemParse:/[ap]\.?m?\.?/i},zl={},Wl={};function jl(t,e){var n,i=Math.min(t.length,e.length);for(n=0;n<i;n+=1)if(t[n]!==e[n])return n;return i}function Bl(t){return t?t.toLowerCase().replace("_","-"):t}function Vl(t){var e=null;if(void 0===zl[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Rl._abbr,require("./locale/"+t),ql(e)}catch(e){zl[t]=null}return zl[t]}function ql(t,e){var n;return t&&((n=Ho(e)?Yl(t):$l(t,e))?Rl=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Rl._abbr}function $l(t,e){if(null!==e){var n,i=Ll;if(e.abbr=t,null!=zl[t])hs("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=zl[t]._config;else if(null!=e.parentLocale)if(null!=zl[e.parentLocale])i=zl[e.parentLocale]._config;else{if(null==(n=Vl(e.parentLocale)))return Wl[e.parentLocale]||(Wl[e.parentLocale]=[]),Wl[e.parentLocale].push({name:t,config:e}),null;i=n._config}return zl[t]=new fs(ds(i,e)),Wl[t]&&Wl[t].forEach((function(t){$l(t.name,t.config)})),ql(t),zl[t]}return delete zl[t],null}function Yl(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Rl;if(!Vo(t)){if(e=Vl(t))return e;t=[t]}return function(t){for(var e,n,i,r,a=0;a<t.length;){for(e=(r=Bl(t[a]).split("-")).length,n=(n=Bl(t[a+1]))?n.split("-"):null;e>0;){if(i=Vl(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&jl(r,n)>=e-1)break;e--}a++}return Rl}(t)}function Hl(t){var e,n=t._a;return n&&-2===Ko(t).overflow&&(e=n[1]<0||n[1]>11?1:n[2]<1||n[2]>al(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,Ko(t)._overflowDayOfYear&&(e<0||e>2)&&(e=2),Ko(t)._overflowWeeks&&-1===e&&(e=7),Ko(t)._overflowWeekday&&-1===e&&(e=8),Ko(t).overflow=e),t}var Ul=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Gl=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Xl=/Z|[+-]\d\d(?::?\d\d)?/,Zl=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Jl=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Kl=/^\/?Date\((-?\d+)/i,Ql=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,tc={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ec(t){var e,n,i,r,a,o,s=t._i,l=Ul.exec(s)||Gl.exec(s);if(l){for(Ko(t).iso=!0,e=0,n=Zl.length;e<n;e++)if(Zl[e][1].exec(l[1])){r=Zl[e][0],i=!1!==Zl[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=Jl.length;e<n;e++)if(Jl[e][1].exec(l[3])){a=(l[2]||" ")+Jl[e][0];break}if(null==a)return void(t._isValid=!1)}if(!i&&null!=a)return void(t._isValid=!1);if(l[4]){if(!Xl.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=r+(a||"")+(o||""),oc(t)}else t._isValid=!1}function nc(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function ic(t){var e,n,i,r,a,o,s,l,c=Ql.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){if(n=c[4],i=c[3],r=c[2],a=c[5],o=c[6],s=c[7],l=[nc(n),sl.indexOf(i),parseInt(r,10),parseInt(a,10),parseInt(o,10)],s&&l.push(parseInt(s,10)),e=l,!function(t,e,n){return!t||Sl.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(Ko(n).weekdayMismatch=!0,n._isValid=!1,!1)}(c[1],e,t))return;t._a=e,t._tzm=function(t,e,n){if(t)return tc[t];if(e)return 0;var i=parseInt(n,10),r=i%100;return 60*((i-r)/100)+r}(c[8],c[9],c[10]),t._d=yl.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Ko(t).rfc2822=!0}else t._isValid=!1}function rc(t,e,n){return null!=t?t:null!=e?e:n}function ac(t){var e,n,i,r,a,o=[];if(!t._d){for(i=function(t){var e=new Date(Bo.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,n,i,r,a,o,s,l,c;null!=(e=t._w).GG||null!=e.W||null!=e.E?(a=1,o=4,n=rc(e.GG,t._a[0],xl(cc(),1,4).year),i=rc(e.W,1),((r=rc(e.E,1))<1||r>7)&&(l=!0)):(a=t._locale._week.dow,o=t._locale._week.doy,c=xl(cc(),a,o),n=rc(e.gg,t._a[0],c.year),i=rc(e.w,c.week),null!=e.d?((r=e.d)<0||r>6)&&(l=!0):null!=e.e?(r=e.e+a,(e.e<0||e.e>6)&&(l=!0)):r=a);i<1||i>wl(n,a,o)?Ko(t)._overflowWeeks=!0:null!=l?Ko(t)._overflowWeekday=!0:(s=_l(n,i,r,a,o),t._a[0]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(a=rc(t._a[0],i[0]),(t._dayOfYear>ml(a)||0===t._dayOfYear)&&(Ko(t)._overflowDayOfYear=!0),n=yl(a,0,t._dayOfYear),t._a[1]=n.getUTCMonth(),t._a[2]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?yl:vl).apply(null,o),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==r&&(Ko(t).weekdayMismatch=!0)}}function oc(t){if(t._f!==Bo.ISO_8601)if(t._f!==Bo.RFC_2822){t._a=[],Ko(t).empty=!0;var e,n,i,r,a,o,s=""+t._i,l=s.length,c=0;for(i=xs(t._f,t._locale).match(ms)||[],e=0;e<i.length;e++)r=i[e],(n=(s.match(Ks(r,t))||[])[0])&&((a=s.substr(0,s.indexOf(n))).length>0&&Ko(t).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),c+=n.length),ys[r]?(n?Ko(t).empty=!1:Ko(t).unusedTokens.push(r),il(r,n,t)):t._strict&&!n&&Ko(t).unusedTokens.push(r);Ko(t).charsLeftOver=l-c,s.length>0&&Ko(t).unusedInput.push(s),t._a[3]<=12&&!0===Ko(t).bigHour&&t._a[3]>0&&(Ko(t).bigHour=void 0),Ko(t).parsedDateParts=t._a.slice(0),Ko(t).meridiem=t._meridiem,t._a[3]=function(t,e,n){var i;if(null==n)return e;return null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0),e):e}(t._locale,t._a[3],t._meridiem),null!==(o=Ko(t).era)&&(t._a[0]=t._locale.erasConvertYear(o,t._a[0])),ac(t),Hl(t)}else ic(t);else ec(t)}function sc(t){var e=t._i,n=t._f;return t._locale=t._locale||Yl(t._l),null===e||void 0===n&&""===e?ts({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),as(e)?new rs(Hl(e)):(Go(e)?t._d=e:Vo(n)?function(t){var e,n,i,r,a,o,s=!1;if(0===t._f.length)return Ko(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)a=0,o=!1,e=is({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],oc(e),Qo(e)&&(o=!0),a+=Ko(e).charsLeftOver,a+=10*Ko(e).unusedTokens.length,Ko(e).score=a,s?a<i&&(i=a,n=e):(null==i||a<i||o)&&(i=a,n=e,o&&(s=!0));Zo(t,n||e)}(t):n?oc(t):function(t){var e=t._i;Ho(e)?t._d=new Date(Bo.now()):Go(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=Kl.exec(t._i);null===e?(ec(t),!1===t._isValid&&(delete t._isValid,ic(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:Bo.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):Vo(e)?(t._a=Xo(e.slice(0),(function(t){return parseInt(t,10)})),ac(t)):qo(e)?function(t){if(!t._d){var e=Ss(t._i),n=void 0===e.day?e.date:e.day;t._a=Xo([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),ac(t)}}(t):Uo(e)?t._d=new Date(e):Bo.createFromInputFallback(t)}(t),Qo(t)||(t._d=null),t))}function lc(t,e,n,i,r){var a,o={};return!0!==e&&!1!==e||(i=e,e=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(qo(t)&&Yo(t)||Vo(t)&&0===t.length)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=t,o._f=e,o._strict=i,(a=new rs(Hl(sc(o))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function cc(t,e,n,i){return lc(t,e,n,i,!1)}Bo.createFromInputFallback=ss("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),Bo.ISO_8601=function(){},Bo.RFC_2822=function(){};var hc=ss("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=cc.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:ts()})),uc=ss("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=cc.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:ts()}));function dc(t,e){var n,i;if(1===e.length&&Vo(e[0])&&(e=e[0]),!e.length)return cc();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}var fc=["year","quarter","month","week","day","hour","minute","second","millisecond"];function pc(t){var e=Ss(t),n=e.year||0,i=e.quarter||0,r=e.month||0,a=e.week||e.isoWeek||0,o=e.day||0,s=e.hour||0,l=e.minute||0,c=e.second||0,h=e.millisecond||0;this._isValid=function(t){var e,n,i=!1;for(e in t)if($o(t,e)&&(-1===rl.call(fc,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<fc.length;++n)if(t[fc[n]]){if(i)return!1;parseFloat(t[fc[n]])!==Ps(t[fc[n]])&&(i=!0)}return!0}(e),this._milliseconds=+h+1e3*c+6e4*l+1e3*s*60*60,this._days=+o+7*a,this._months=+r+3*i+12*n,this._data={},this._locale=Yl(),this._bubble()}function mc(t){return t instanceof pc}function gc(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function vc(t,e){bs(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+ps(~~(t/60),2)+e+ps(~~t%60,2)}))}vc("Z",":"),vc("ZZ",""),Js("Z",Xs),Js("ZZ",Xs),el(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=bc(Xs,t)}));var yc=/([\+\-]|\d\d)/gi;function bc(t,e){var n,i,r=(e||"").match(t);return null===r?null:0===(i=60*(n=((r[r.length-1]||[])+"").match(yc)||["-",0,0])[1]+Ps(n[2]))?0:"+"===n[0]?i:-i}function _c(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(as(t)||Go(t)?t.valueOf():cc(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),Bo.updateOffset(n,!1),n):cc(t).local()}function xc(t){return-Math.round(t._d.getTimezoneOffset())}function wc(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}Bo.updateOffset=function(){};var kc=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Cc=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Sc(t,e){var n,i,r,a=t,o=null;return mc(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:Uo(t)||!isNaN(+t)?(a={},e?a[e]=+t:a.milliseconds=+t):(o=kc.exec(t))?(n="-"===o[1]?-1:1,a={y:0,d:Ps(o[2])*n,h:Ps(o[3])*n,m:Ps(o[4])*n,s:Ps(o[5])*n,ms:Ps(gc(1e3*o[6]))*n}):(o=Cc.exec(t))?(n="-"===o[1]?-1:1,a={y:Ac(o[2],n),M:Ac(o[3],n),w:Ac(o[4],n),d:Ac(o[5],n),h:Ac(o[6],n),m:Ac(o[7],n),s:Ac(o[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(r=function(t,e){var n;if(!t.isValid()||!e.isValid())return{milliseconds:0,months:0};e=_c(e,t),t.isBefore(e)?n=Mc(t,e):((n=Mc(e,t)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(cc(a.from),cc(a.to)),(a={}).ms=r.milliseconds,a.M=r.months),i=new pc(a),mc(t)&&$o(t,"_locale")&&(i._locale=t._locale),mc(t)&&$o(t,"_isValid")&&(i._isValid=t._isValid),i}function Ac(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Mc(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Tc(t,e){return function(n,i){var r;return null===i||isNaN(+i)||(hs(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),Dc(this,Sc(n,i),t),this}}function Dc(t,e,n,i){var r=e._milliseconds,a=gc(e._days),o=gc(e._months);t.isValid()&&(i=null==i||i,o&&dl(t,Is(t,"Month")+o*n),a&&Ns(t,"Date",Is(t,"Date")+a*n),r&&t._d.setTime(t._d.valueOf()+r*n),i&&Bo.updateOffset(t,a||o))}Sc.fn=pc.prototype,Sc.invalid=function(){return Sc(NaN)};var Pc=Tc(1,"add"),Oc=Tc(-1,"subtract");function Ic(t){return"string"==typeof t||t instanceof String}function Nc(t){return as(t)||Go(t)||Ic(t)||Uo(t)||function(t){var e=Vo(t),n=!1;e&&(n=0===t.filter((function(e){return!Uo(e)&&Ic(t)})).length);return e&&n}(t)||function(t){var e,n,i=qo(t)&&!Yo(t),r=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(e=0;e<a.length;e+=1)n=a[e],r=r||$o(t,n);return i&&r}(t)||null==t}function Fc(t){var e,n=qo(t)&&!Yo(t),i=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<r.length;e+=1)i=i||$o(t,r[e]);return n&&i}function Ec(t,e){if(t.date()<e.date())return-Ec(e,t);var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months");return-(n+(e-i<0?(e-i)/(i-t.clone().add(n-1,"months")):(e-i)/(t.clone().add(n+1,"months")-i)))||0}function Rc(t){var e;return void 0===t?this._locale._abbr:(null!=(e=Yl(t))&&(this._locale=e),this)}Bo.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",Bo.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Lc=ss("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function zc(){return this._locale}function Wc(t,e){return(t%e+e)%e}function jc(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-126227808e5:new Date(t,e,n).valueOf()}function Bc(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-126227808e5:Date.UTC(t,e,n)}function Vc(t,e){return e.erasAbbrRegex(t)}function qc(){var t,e,n=[],i=[],r=[],a=[],o=this.eras();for(t=0,e=o.length;t<e;++t)i.push(Qs(o[t].name)),n.push(Qs(o[t].abbr)),r.push(Qs(o[t].narrow)),a.push(Qs(o[t].name)),a.push(Qs(o[t].abbr)),a.push(Qs(o[t].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function $c(t,e){bs(0,[t,t.length],0,e)}function Yc(t,e,n,i,r){var a;return null==t?xl(this,i,r).year:(e>(a=wl(t,i,r))&&(e=a),Hc.call(this,t,e,n,i,r))}function Hc(t,e,n,i,r){var a=_l(t,e,n,i,r),o=yl(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}bs("N",0,0,"eraAbbr"),bs("NN",0,0,"eraAbbr"),bs("NNN",0,0,"eraAbbr"),bs("NNNN",0,0,"eraName"),bs("NNNNN",0,0,"eraNarrow"),bs("y",["y",1],"yo","eraYear"),bs("y",["yy",2],0,"eraYear"),bs("y",["yyy",3],0,"eraYear"),bs("y",["yyyy",4],0,"eraYear"),Js("N",Vc),Js("NN",Vc),Js("NNN",Vc),Js("NNNN",(function(t,e){return e.erasNameRegex(t)})),Js("NNNNN",(function(t,e){return e.erasNarrowRegex(t)})),el(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,n,i){var r=n._locale.erasParse(t,i,n._strict);r?Ko(n).era=r:Ko(n).invalidEra=t})),Js("y",Hs),Js("yy",Hs),Js("yyy",Hs),Js("yyyy",Hs),Js("yo",(function(t,e){return e._eraYearOrdinalRegex||Hs})),el(["y","yy","yyy","yyyy"],0),el(["yo"],(function(t,e,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[0]=n._locale.eraYearOrdinalParse(t,r):e[0]=parseInt(t,10)})),bs(0,["gg",2],0,(function(){return this.weekYear()%100})),bs(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),$c("gggg","weekYear"),$c("ggggg","weekYear"),$c("GGGG","isoWeekYear"),$c("GGGGG","isoWeekYear"),ks("weekYear","gg"),ks("isoWeekYear","GG"),Ms("weekYear",1),Ms("isoWeekYear",1),Js("G",Us),Js("g",Us),Js("GG",js,Rs),Js("gg",js,Rs),Js("GGGG",$s,zs),Js("gggg",$s,zs),Js("GGGGG",Ys,Ws),Js("ggggg",Ys,Ws),nl(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,i){e[i.substr(0,2)]=Ps(t)})),nl(["gg","GG"],(function(t,e,n,i){e[i]=Bo.parseTwoDigitYear(t)})),bs("Q",0,"Qo","quarter"),ks("quarter","Q"),Ms("quarter",7),Js("Q",Es),el("Q",(function(t,e){e[1]=3*(Ps(t)-1)})),bs("D",["DD",2],"Do","date"),ks("date","D"),Ms("date",9),Js("D",js),Js("DD",js,Rs),Js("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),el(["D","DD"],2),el("Do",(function(t,e){e[2]=Ps(t.match(js)[0])}));var Uc=Os("Date",!0);bs("DDD",["DDDD",3],"DDDo","dayOfYear"),ks("dayOfYear","DDD"),Ms("dayOfYear",4),Js("DDD",qs),Js("DDDD",Ls),el(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=Ps(t)})),bs("m",["mm",2],0,"minute"),ks("minute","m"),Ms("minute",14),Js("m",js),Js("mm",js,Rs),el(["m","mm"],4);var Gc=Os("Minutes",!1);bs("s",["ss",2],0,"second"),ks("second","s"),Ms("second",15),Js("s",js),Js("ss",js,Rs),el(["s","ss"],5);var Xc,Zc,Jc=Os("Seconds",!1);for(bs("S",0,0,(function(){return~~(this.millisecond()/100)})),bs(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),bs(0,["SSS",3],0,"millisecond"),bs(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),bs(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),bs(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),bs(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),bs(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),bs(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ks("millisecond","ms"),Ms("millisecond",16),Js("S",qs,Es),Js("SS",qs,Rs),Js("SSS",qs,Ls),Xc="SSSS";Xc.length<=9;Xc+="S")Js(Xc,Hs);function Kc(t,e){e[6]=Ps(1e3*("0."+t))}for(Xc="S";Xc.length<=9;Xc+="S")el(Xc,Kc);Zc=Os("Milliseconds",!1),bs("z",0,0,"zoneAbbr"),bs("zz",0,0,"zoneName");var Qc=rs.prototype;function th(t){return t}Qc.add=Pc,Qc.calendar=function(t,e){1===arguments.length&&(Nc(arguments[0])?(t=arguments[0],e=void 0):Fc(arguments[0])&&(e=arguments[0],t=void 0));var n=t||cc(),i=_c(n,this).startOf("day"),r=Bo.calendarFormat(this,i)||"sameElse",a=e&&(us(e[r])?e[r].call(this,n):e[r]);return this.format(a||this.localeData().calendar(r,this,cc(n)))},Qc.clone=function(){return new rs(this)},Qc.diff=function(t,e,n){var i,r,a;if(!this.isValid())return NaN;if(!(i=_c(t,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),e=Cs(e)){case"year":a=Ec(this,i)/12;break;case"month":a=Ec(this,i);break;case"quarter":a=Ec(this,i)/3;break;case"second":a=(this-i)/1e3;break;case"minute":a=(this-i)/6e4;break;case"hour":a=(this-i)/36e5;break;case"day":a=(this-i-r)/864e5;break;case"week":a=(this-i-r)/6048e5;break;default:a=this-i}return n?a:Ds(a)},Qc.endOf=function(t){var e,n;if(void 0===(t=Cs(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?Bc:jc,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-Wc(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-Wc(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-Wc(e,1e3)-1}return this._d.setTime(e),Bo.updateOffset(this,!0),this},Qc.format=function(t){t||(t=this.isUtc()?Bo.defaultFormatUtc:Bo.defaultFormat);var e=_s(this,t);return this.localeData().postformat(e)},Qc.from=function(t,e){return this.isValid()&&(as(t)&&t.isValid()||cc(t).isValid())?Sc({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Qc.fromNow=function(t){return this.from(cc(),t)},Qc.to=function(t,e){return this.isValid()&&(as(t)&&t.isValid()||cc(t).isValid())?Sc({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Qc.toNow=function(t){return this.to(cc(),t)},Qc.get=function(t){return us(this[t=Cs(t)])?this[t]():this},Qc.invalidAt=function(){return Ko(this).overflow},Qc.isAfter=function(t,e){var n=as(t)?t:cc(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=Cs(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},Qc.isBefore=function(t,e){var n=as(t)?t:cc(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=Cs(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},Qc.isBetween=function(t,e,n,i){var r=as(t)?t:cc(t),a=as(e)?e:cc(e);return!!(this.isValid()&&r.isValid()&&a.isValid())&&(("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(a,n):!this.isAfter(a,n)))},Qc.isSame=function(t,e){var n,i=as(t)?t:cc(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=Cs(e)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},Qc.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},Qc.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},Qc.isValid=function(){return Qo(this)},Qc.lang=Lc,Qc.locale=Rc,Qc.localeData=zc,Qc.max=uc,Qc.min=hc,Qc.parsingFlags=function(){return Zo({},Ko(this))},Qc.set=function(t,e){if("object"==typeof t){var n,i=function(t){var e,n=[];for(e in t)$o(t,e)&&n.push({unit:e,priority:As[e]});return n.sort((function(t,e){return t.priority-e.priority})),n}(t=Ss(t));for(n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit])}else if(us(this[t=Cs(t)]))return this[t](e);return this},Qc.startOf=function(t){var e,n;if(void 0===(t=Cs(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?Bc:jc,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Wc(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=Wc(e,6e4);break;case"second":e=this._d.valueOf(),e-=Wc(e,1e3)}return this._d.setTime(e),Bo.updateOffset(this,!0),this},Qc.subtract=Oc,Qc.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},Qc.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},Qc.toDate=function(){return new Date(this.valueOf())},Qc.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?_s(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):us(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",_s(n,"Z")):_s(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Qc.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,n,i="moment",r="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),t="["+i+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY","-MM-DD[T]HH:mm:ss.SSS",n=r+'[")]',this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(Qc[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Qc.toJSON=function(){return this.isValid()?this.toISOString():null},Qc.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Qc.unix=function(){return Math.floor(this.valueOf()/1e3)},Qc.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Qc.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Qc.eraName=function(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){if(n=this.startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until)return i[t].name;if(i[t].until<=n&&n<=i[t].since)return i[t].name}return""},Qc.eraNarrow=function(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){if(n=this.startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until)return i[t].narrow;if(i[t].until<=n&&n<=i[t].since)return i[t].narrow}return""},Qc.eraAbbr=function(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){if(n=this.startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until)return i[t].abbr;if(i[t].until<=n&&n<=i[t].since)return i[t].abbr}return""},Qc.eraYear=function(){var t,e,n,i,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=r[t].since<=r[t].until?1:-1,i=this.startOf("day").valueOf(),r[t].since<=i&&i<=r[t].until||r[t].until<=i&&i<=r[t].since)return(this.year()-Bo(r[t].since).year())*n+r[t].offset;return this.year()},Qc.year=gl,Qc.isLeapYear=function(){return Ts(this.year())},Qc.weekYear=function(t){return Yc.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Qc.isoWeekYear=function(t){return Yc.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},Qc.quarter=Qc.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},Qc.month=fl,Qc.daysInMonth=function(){return al(this.year(),this.month())},Qc.week=Qc.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},Qc.isoWeek=Qc.isoWeeks=function(t){var e=xl(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},Qc.weeksInYear=function(){var t=this.localeData()._week;return wl(this.year(),t.dow,t.doy)},Qc.weeksInWeekYear=function(){var t=this.localeData()._week;return wl(this.weekYear(),t.dow,t.doy)},Qc.isoWeeksInYear=function(){return wl(this.year(),1,4)},Qc.isoWeeksInISOWeekYear=function(){return wl(this.isoWeekYear(),1,4)},Qc.date=Uc,Qc.day=Qc.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},Qc.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},Qc.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},Qc.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},Qc.hour=Qc.hours=El,Qc.minute=Qc.minutes=Gc,Qc.second=Qc.seconds=Jc,Qc.millisecond=Qc.milliseconds=Zc,Qc.utcOffset=function(t,e,n){var i,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=bc(Xs,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(i=xc(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?Dc(this,Sc(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Bo.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:xc(this)},Qc.utc=function(t){return this.utcOffset(0,t)},Qc.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(xc(this),"m")),this},Qc.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=bc(Gs,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},Qc.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?cc(t).utcOffset():0,(this.utcOffset()-t)%60==0)},Qc.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Qc.isLocal=function(){return!!this.isValid()&&!this._isUTC},Qc.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Qc.isUtc=wc,Qc.isUTC=wc,Qc.zoneAbbr=function(){return this._isUTC?"UTC":""},Qc.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Qc.dates=ss("dates accessor is deprecated. Use date instead.",Uc),Qc.months=ss("months accessor is deprecated. Use month instead",fl),Qc.years=ss("years accessor is deprecated. Use year instead",gl),Qc.zone=ss("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),Qc.isDSTShifted=ss("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!Ho(this._isDSTShifted))return this._isDSTShifted;var t,e={};return is(e,this),(e=sc(e))._a?(t=e._isUTC?Jo(e._a):cc(e._a),this._isDSTShifted=this.isValid()&&function(t,e,n){var i,r=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),o=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&Ps(t[i])!==Ps(e[i]))&&o++;return o+a}(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var eh=fs.prototype;function nh(t,e,n,i){var r=Yl(),a=Jo().set(i,e);return r[n](a,t)}function ih(t,e,n){if(Uo(t)&&(e=t,t=void 0),t=t||"",null!=e)return nh(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=nh(t,i,n,"month");return r}function rh(t,e,n,i){"boolean"==typeof t?(Uo(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,Uo(e)&&(n=e,e=void 0),e=e||"");var r,a=Yl(),o=t?a._week.dow:0,s=[];if(null!=n)return nh(e,(n+o)%7,i,"day");for(r=0;r<7;r++)s[r]=nh(e,(r+o)%7,i,"day");return s}eh.calendar=function(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return us(i)?i.call(e,n):i},eh.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(ms).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])},eh.invalidDate=function(){return this._invalidDate},eh.ordinal=function(t){return this._ordinal.replace("%d",t)},eh.preparse=th,eh.postformat=th,eh.relativeTime=function(t,e,n,i){var r=this._relativeTime[n];return us(r)?r(t,e,n,i):r.replace(/%d/i,t)},eh.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return us(n)?n(e):n.replace(/%s/i,e)},eh.set=function(t){var e,n;for(n in t)$o(t,n)&&(us(e=t[n])?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},eh.eras=function(t,e){var n,i,r,a=this._eras||Yl("en")._eras;for(n=0,i=a.length;n<i;++n){switch(typeof a[n].since){case"string":r=Bo(a[n].since).startOf("day"),a[n].since=r.valueOf()}switch(typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":r=Bo(a[n].until).startOf("day").valueOf(),a[n].until=r.valueOf()}}return a},eh.erasParse=function(t,e,n){var i,r,a,o,s,l=this.eras();for(t=t.toUpperCase(),i=0,r=l.length;i<r;++i)if(a=l[i].name.toUpperCase(),o=l[i].abbr.toUpperCase(),s=l[i].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(o===t)return l[i];break;case"NNNN":if(a===t)return l[i];break;case"NNNNN":if(s===t)return l[i]}else if([a,o,s].indexOf(t)>=0)return l[i]},eh.erasConvertYear=function(t,e){var n=t.since<=t.until?1:-1;return void 0===e?Bo(t.since).year():Bo(t.since).year()+(e-t.offset)*n},eh.erasAbbrRegex=function(t){return $o(this,"_erasAbbrRegex")||qc.call(this),t?this._erasAbbrRegex:this._erasRegex},eh.erasNameRegex=function(t){return $o(this,"_erasNameRegex")||qc.call(this),t?this._erasNameRegex:this._erasRegex},eh.erasNarrowRegex=function(t){return $o(this,"_erasNarrowRegex")||qc.call(this),t?this._erasNarrowRegex:this._erasRegex},eh.months=function(t,e){return t?Vo(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ll).test(e)?"format":"standalone"][t.month()]:Vo(this._months)?this._months:this._months.standalone},eh.monthsShort=function(t,e){return t?Vo(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ll.test(e)?"format":"standalone"][t.month()]:Vo(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},eh.monthsParse=function(t,e,n){var i,r,a;if(this._monthsParseExact)return ul.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=Jo([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(a="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},eh.monthsRegex=function(t){return this._monthsParseExact?($o(this,"_monthsRegex")||pl.call(this),t?this._monthsStrictRegex:this._monthsRegex):($o(this,"_monthsRegex")||(this._monthsRegex=hl),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},eh.monthsShortRegex=function(t){return this._monthsParseExact?($o(this,"_monthsRegex")||pl.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):($o(this,"_monthsShortRegex")||(this._monthsShortRegex=cl),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},eh.week=function(t){return xl(t,this._week.dow,this._week.doy).week},eh.firstDayOfYear=function(){return this._week.doy},eh.firstDayOfWeek=function(){return this._week.dow},eh.weekdays=function(t,e){var n=Vo(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?kl(n,this._week.dow):t?n[t.day()]:n},eh.weekdaysMin=function(t){return!0===t?kl(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},eh.weekdaysShort=function(t){return!0===t?kl(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},eh.weekdaysParse=function(t,e,n){var i,r,a;if(this._weekdaysParseExact)return Pl.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=Jo([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(a="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},eh.weekdaysRegex=function(t){return this._weekdaysParseExact?($o(this,"_weekdaysRegex")||Ol.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):($o(this,"_weekdaysRegex")||(this._weekdaysRegex=Ml),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},eh.weekdaysShortRegex=function(t){return this._weekdaysParseExact?($o(this,"_weekdaysRegex")||Ol.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):($o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Tl),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},eh.weekdaysMinRegex=function(t){return this._weekdaysParseExact?($o(this,"_weekdaysRegex")||Ol.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):($o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Dl),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},eh.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},eh.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},ql("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===Ps(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),Bo.lang=ss("moment.lang is deprecated. Use moment.locale instead.",ql),Bo.langData=ss("moment.langData is deprecated. Use moment.localeData instead.",Yl);var ah=Math.abs;function oh(t,e,n,i){var r=Sc(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function sh(t){return t<0?Math.floor(t):Math.ceil(t)}function lh(t){return 4800*t/146097}function ch(t){return 146097*t/4800}function hh(t){return function(){return this.as(t)}}var uh=hh("ms"),dh=hh("s"),fh=hh("m"),ph=hh("h"),mh=hh("d"),gh=hh("w"),vh=hh("M"),yh=hh("Q"),bh=hh("y");function _h(t){return function(){return this.isValid()?this._data[t]:NaN}}var xh=_h("milliseconds"),wh=_h("seconds"),kh=_h("minutes"),Ch=_h("hours"),Sh=_h("days"),Ah=_h("months"),Mh=_h("years");var Th=Math.round,Dh={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Ph(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}var Oh=Math.abs;function Ih(t){return(t>0)-(t<0)||+t}function Nh(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,i,r,a,o,s,l=Oh(this._milliseconds)/1e3,c=Oh(this._days),h=Oh(this._months),u=this.asSeconds();return u?(t=Ds(l/60),e=Ds(t/60),l%=60,t%=60,n=Ds(h/12),h%=12,i=l?l.toFixed(3).replace(/\.?0+$/,""):"",r=u<0?"-":"",a=Ih(this._months)!==Ih(u)?"-":"",o=Ih(this._days)!==Ih(u)?"-":"",s=Ih(this._milliseconds)!==Ih(u)?"-":"",r+"P"+(n?a+n+"Y":"")+(h?a+h+"M":"")+(c?o+c+"D":"")+(e||t||l?"T":"")+(e?s+e+"H":"")+(t?s+t+"M":"")+(l?s+i+"S":"")):"P0D"}var Fh=pc.prototype;Fh.isValid=function(){return this._isValid},Fh.abs=function(){var t=this._data;return this._milliseconds=ah(this._milliseconds),this._days=ah(this._days),this._months=ah(this._months),t.milliseconds=ah(t.milliseconds),t.seconds=ah(t.seconds),t.minutes=ah(t.minutes),t.hours=ah(t.hours),t.months=ah(t.months),t.years=ah(t.years),this},Fh.add=function(t,e){return oh(this,t,e,1)},Fh.subtract=function(t,e){return oh(this,t,e,-1)},Fh.as=function(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=Cs(t))||"quarter"===t||"year"===t)switch(e=this._days+i/864e5,n=this._months+lh(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(ch(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},Fh.asMilliseconds=uh,Fh.asSeconds=dh,Fh.asMinutes=fh,Fh.asHours=ph,Fh.asDays=mh,Fh.asWeeks=gh,Fh.asMonths=vh,Fh.asQuarters=yh,Fh.asYears=bh,Fh.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Ps(this._months/12):NaN},Fh._bubble=function(){var t,e,n,i,r,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*sh(ch(s)+o),o=0,s=0),l.milliseconds=a%1e3,t=Ds(a/1e3),l.seconds=t%60,e=Ds(t/60),l.minutes=e%60,n=Ds(e/60),l.hours=n%24,o+=Ds(n/24),s+=r=Ds(lh(o)),o-=sh(ch(r)),i=Ds(s/12),s%=12,l.days=o,l.months=s,l.years=i,this},Fh.clone=function(){return Sc(this)},Fh.get=function(t){return t=Cs(t),this.isValid()?this[t+"s"]():NaN},Fh.milliseconds=xh,Fh.seconds=wh,Fh.minutes=kh,Fh.hours=Ch,Fh.days=Sh,Fh.weeks=function(){return Ds(this.days()/7)},Fh.months=Ah,Fh.years=Mh,Fh.humanize=function(t,e){if(!this.isValid())return this.localeData().invalidDate();var n,i,r=!1,a=Dh;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(r=t),"object"==typeof e&&(a=Object.assign({},Dh,e),null!=e.s&&null==e.ss&&(a.ss=e.s-1)),i=function(t,e,n,i){var r=Sc(t).abs(),a=Th(r.as("s")),o=Th(r.as("m")),s=Th(r.as("h")),l=Th(r.as("d")),c=Th(r.as("M")),h=Th(r.as("w")),u=Th(r.as("y")),d=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(d=d||h<=1&&["w"]||h<n.w&&["ww",h]),(d=d||c<=1&&["M"]||c<n.M&&["MM",c]||u<=1&&["y"]||["yy",u])[2]=e,d[3]=+t>0,d[4]=i,Ph.apply(null,d)}(this,!r,a,n=this.localeData()),r&&(i=n.pastFuture(+this,i)),n.postformat(i)},Fh.toISOString=Nh,Fh.toString=Nh,Fh.toJSON=Nh,Fh.locale=Rc,Fh.localeData=zc,Fh.toIsoString=ss("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Nh),Fh.lang=Lc,bs("X",0,0,"unix"),bs("x",0,0,"valueOf"),Js("x",Us),Js("X",/[+-]?\d+(\.\d{1,3})?/),el("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t))})),el("x",(function(t,e,n){n._d=new Date(Ps(t))})),
//! moment.js
Bo.version="2.27.0",zo=cc,Bo.fn=Qc,Bo.min=function(){var t=[].slice.call(arguments,0);return dc("isBefore",t)},Bo.max=function(){var t=[].slice.call(arguments,0);return dc("isAfter",t)},Bo.now=function(){return Date.now?Date.now():+new Date},Bo.utc=Jo,Bo.unix=function(t){return cc(1e3*t)},Bo.months=function(t,e){return ih(t,e,"months")},Bo.isDate=Go,Bo.locale=ql,Bo.invalid=ts,Bo.duration=Sc,Bo.isMoment=as,Bo.weekdays=function(t,e,n){return rh(t,e,n,"weekdays")},Bo.parseZone=function(){return cc.apply(null,arguments).parseZone()},Bo.localeData=Yl,Bo.isDuration=mc,Bo.monthsShort=function(t,e){return ih(t,e,"monthsShort")},Bo.weekdaysMin=function(t,e,n){return rh(t,e,n,"weekdaysMin")},Bo.defineLocale=$l,Bo.updateLocale=function(t,e){if(null!=e){var n,i,r=Ll;null!=zl[t]&&null!=zl[t].parentLocale?zl[t].set(ds(zl[t]._config,e)):(null!=(i=Vl(t))&&(r=i._config),e=ds(r,e),null==i&&(e.abbr=t),(n=new fs(e)).parentLocale=zl[t],zl[t]=n),ql(t)}else null!=zl[t]&&(null!=zl[t].parentLocale?(zl[t]=zl[t].parentLocale,t===ql()&&ql(t)):null!=zl[t]&&delete zl[t]);return zl[t]},Bo.locales=function(){return ls(zl)},Bo.weekdaysShort=function(t,e,n){return rh(t,e,n,"weekdaysShort")},Bo.normalizeUnits=Cs,Bo.relativeTimeRounding=function(t){return void 0===t?Th:"function"==typeof t&&(Th=t,!0)},Bo.relativeTimeThreshold=function(t,e){return void 0!==Dh[t]&&(void 0===e?Dh[t]:(Dh[t]=e,"s"===t&&(Dh.ss=e-1),!0))},Bo.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},Bo.prototype=Qc,Bo.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var Eh=ea((function(t,e){
/*!
   * Chart.js v2.8.0
   * https://www.chartjs.org
   * (c) 2019 Chart.js Contributors
   * Released under the MIT License
   */
t.exports=function(t){t=t&&t.hasOwnProperty("default")?t.default:t;var e={rgb2hsl:n,rgb2hsv:i,rgb2hwb:a,rgb2cmyk:o,rgb2keyword:s,rgb2xyz:l,rgb2lab:c,rgb2lch:function(t){return y(c(t))},hsl2rgb:h,hsl2hsv:function(t){var e=t[0],n=t[1]/100,i=t[2]/100;return 0===i?[0,0,0]:[e,2*(n*=(i*=2)<=1?i:2-i)/(i+n)*100,(i+n)/2*100]},hsl2hwb:function(t){return a(h(t))},hsl2cmyk:function(t){return o(h(t))},hsl2keyword:function(t){return s(h(t))},hsv2rgb:u,hsv2hsl:function(t){var e,n,i=t[0],r=t[1]/100,a=t[2]/100;return e=r*a,[i,100*(e=(e/=(n=(2-r)*a)<=1?n:2-n)||0),100*(n/=2)]},hsv2hwb:function(t){return a(u(t))},hsv2cmyk:function(t){return o(u(t))},hsv2keyword:function(t){return s(u(t))},hwb2rgb:d,hwb2hsl:function(t){return n(d(t))},hwb2hsv:function(t){return i(d(t))},hwb2cmyk:function(t){return o(d(t))},hwb2keyword:function(t){return s(d(t))},cmyk2rgb:f,cmyk2hsl:function(t){return n(f(t))},cmyk2hsv:function(t){return i(f(t))},cmyk2hwb:function(t){return a(f(t))},cmyk2keyword:function(t){return s(f(t))},keyword2rgb:w,keyword2hsl:function(t){return n(w(t))},keyword2hsv:function(t){return i(w(t))},keyword2hwb:function(t){return a(w(t))},keyword2cmyk:function(t){return o(w(t))},keyword2lab:function(t){return c(w(t))},keyword2xyz:function(t){return l(w(t))},xyz2rgb:p,xyz2lab:m,xyz2lch:function(t){return y(m(t))},lab2xyz:v,lab2rgb:_,lab2lch:y,lch2lab:x,lch2xyz:function(t){return v(x(t))},lch2rgb:function(t){return _(x(t))}};function n(t){var e,n,i=t[0]/255,r=t[1]/255,a=t[2]/255,o=Math.min(i,r,a),s=Math.max(i,r,a),l=s-o;return s==o?e=0:i==s?e=(r-a)/l:r==s?e=2+(a-i)/l:a==s&&(e=4+(i-r)/l),(e=Math.min(60*e,360))<0&&(e+=360),n=(o+s)/2,[e,100*(s==o?0:n<=.5?l/(s+o):l/(2-s-o)),100*n]}function i(t){var e,n,i=t[0],r=t[1],a=t[2],o=Math.min(i,r,a),s=Math.max(i,r,a),l=s-o;return n=0==s?0:l/s*1e3/10,s==o?e=0:i==s?e=(r-a)/l:r==s?e=2+(a-i)/l:a==s&&(e=4+(i-r)/l),(e=Math.min(60*e,360))<0&&(e+=360),[e,n,s/255*1e3/10]}function a(t){var e=t[0],i=t[1],r=t[2];return[n(t)[0],1/255*Math.min(e,Math.min(i,r))*100,100*(r=1-1/255*Math.max(e,Math.max(i,r)))]}function o(t){var e,n=t[0]/255,i=t[1]/255,r=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-i,1-r)))/(1-e)||0),100*((1-i-e)/(1-e)||0),100*((1-r-e)/(1-e)||0),100*e]}function s(t){return C[JSON.stringify(t)]}function l(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*e+.7152*n+.0722*i),100*(.0193*e+.1192*n+.9505*i)]}function c(t){var e=l(t),n=e[0],i=e[1],r=e[2];return i/=100,r/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]}function h(t){var e,n,i,r,a,o=t[0]/360,s=t[1]/100,l=t[2]/100;if(0==s)return[a=255*l,a,a];e=2*l-(n=l<.5?l*(1+s):l+s-l*s),r=[0,0,0];for(var c=0;c<3;c++)(i=o+1/3*-(c-1))<0&&i++,i>1&&i--,a=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,r[c]=255*a;return r}function u(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,r=Math.floor(e)%6,a=e-Math.floor(e),o=255*i*(1-n),s=255*i*(1-n*a),l=255*i*(1-n*(1-a));switch(i*=255,r){case 0:return[i,l,o];case 1:return[s,i,o];case 2:return[o,i,l];case 3:return[o,s,i];case 4:return[l,o,i];case 5:return[i,o,s]}}function d(t){var e,n,i,a,o=t[0]/360,s=t[1]/100,l=t[2]/100,c=s+l;switch(c>1&&(s/=c,l/=c),i=6*o-(e=Math.floor(6*o)),0!=(1&e)&&(i=1-i),a=s+i*((n=1-l)-s),e){default:case 6:case 0:r=n,g=a,b=s;break;case 1:r=a,g=n,b=s;break;case 2:r=s,g=n,b=a;break;case 3:r=s,g=a,b=n;break;case 4:r=a,g=s,b=n;break;case 5:r=n,g=s,b=a}return[255*r,255*g,255*b]}function f(t){var e=t[0]/100,n=t[1]/100,i=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,i*(1-r)+r))]}function p(t){var e,n,i,r=t[0]/100,a=t[1]/100,o=t[2]/100;return n=-.9689*r+1.8758*a+.0415*o,i=.0557*r+-.204*a+1.057*o,e=(e=3.2406*r+-1.5372*a+-.4986*o)>.0031308?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]}function m(t){var e=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]}function v(t){var e,n,i,r,a=t[0],o=t[1],s=t[2];return a<=8?r=(n=100*a/903.3)/100*7.787+16/116:(n=100*Math.pow((a+16)/116,3),r=Math.pow(n/100,1/3)),[e=e/95.047<=.008856?e=95.047*(o/500+r-16/116)/7.787:95.047*Math.pow(o/500+r,3),n,i=i/108.883<=.008859?i=108.883*(r-s/200-16/116)/7.787:108.883*Math.pow(r-s/200,3)]}function y(t){var e,n=t[0],i=t[1],r=t[2];return(e=360*Math.atan2(r,i)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(i*i+r*r),e]}function _(t){return p(v(t))}function x(t){var e,n=t[0],i=t[1];return e=t[2]/360*2*Math.PI,[n,i*Math.cos(e),i*Math.sin(e)]}function w(t){return k[t]}var k={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},C={};for(var S in k)C[JSON.stringify(k[S])]=S;var A=function(){return new O};for(var M in e){A[M+"Raw"]=function(t){return function(n){return"number"==typeof n&&(n=Array.prototype.slice.call(arguments)),e[t](n)}}(M);var T=/(\w+)2(\w+)/.exec(M),D=T[1],P=T[2];(A[D]=A[D]||{})[P]=A[M]=function(t){return function(n){"number"==typeof n&&(n=Array.prototype.slice.call(arguments));var i=e[t](n);if("string"==typeof i||void 0===i)return i;for(var r=0;r<i.length;r++)i[r]=Math.round(i[r]);return i}}(M)}var O=function(){this.convs={}};O.prototype.routeSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n))},O.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},O.prototype.getValues=function(t){var e=this.convs[t];if(!e){var n=this.space,i=this.convs[n];e=A[n][t](i),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach((function(t){O.prototype[t]=function(e){return this.routeSpace(t,arguments)}}));var I=A,N={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},F={getRgba:E,getHsla:R,getRgb:function(t){var e=E(t);return e&&e.slice(0,3)},getHsl:function(t){var e=R(t);return e&&e.slice(0,3)},getHwb:L,getAlpha:function(t){var e=E(t);return e||(e=R(t))||(e=L(t))?e[3]:void 0},hexString:function(t,e){return e=void 0!==e&&3===t.length?e:t[3],"#"+V(t[0])+V(t[1])+V(t[2])+(e>=0&&e<1?V(Math.round(255*e)):"")},rgbString:function(t,e){return e<1||t[3]&&t[3]<1?z(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"},rgbaString:z,percentString:function(t,e){if(e<1||t[3]&&t[3]<1)return W(t,e);var n=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return"rgb("+n+"%, "+i+"%, "+r+"%)"},percentaString:W,hslString:function(t,e){return e<1||t[3]&&t[3]<1?j(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"},hslaString:j,hwbString:function(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"},keyword:function(t){return q[t.slice(0,3)]}};function E(t){if(t){var e=[0,0,0],n=1,i=t.match(/^#([a-fA-F0-9]{3,4})$/i),r="";if(i){r=(i=i[1])[3];for(var a=0;a<e.length;a++)e[a]=parseInt(i[a]+i[a],16);r&&(n=Math.round(parseInt(r+r,16)/255*100)/100)}else if(i=t.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(r=i[2],i=i[1],a=0;a<e.length;a++)e[a]=parseInt(i.slice(2*a,2*a+2),16);r&&(n=Math.round(parseInt(r,16)/255*100)/100)}else if(i=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(a=0;a<e.length;a++)e[a]=parseInt(i[a+1]);n=parseFloat(i[4])}else if(i=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(a=0;a<e.length;a++)e[a]=Math.round(2.55*parseFloat(i[a+1]));n=parseFloat(i[4])}else if(i=t.match(/(\w+)/)){if("transparent"==i[1])return[0,0,0,0];if(!(e=N[i[1]]))return}for(a=0;a<e.length;a++)e[a]=B(e[a],0,255);return n=n||0==n?B(n,0,1):1,e[3]=n,e}}function R(t){if(t){var e=t.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var n=parseFloat(e[4]);return[B(parseInt(e[1]),0,360),B(parseFloat(e[2]),0,100),B(parseFloat(e[3]),0,100),B(isNaN(n)?1:n,0,1)]}}}function L(t){if(t){var e=t.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var n=parseFloat(e[4]);return[B(parseInt(e[1]),0,360),B(parseFloat(e[2]),0,100),B(parseFloat(e[3]),0,100),B(isNaN(n)?1:n,0,1)]}}}function z(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function W(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function j(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function B(t,e,n){return Math.min(Math.max(e,t),n)}function V(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var q={};for(var $ in N)q[N[$]]=$;var Y=function(t){return t instanceof Y?t:this instanceof Y?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof t?(e=F.getRgba(t))?this.setValues("rgb",e):(e=F.getHsla(t))?this.setValues("hsl",e):(e=F.getHwb(t))&&this.setValues("hwb",e):"object"==typeof t&&(void 0!==(e=t).r||void 0!==e.red?this.setValues("rgb",e):void 0!==e.l||void 0!==e.lightness?this.setValues("hsl",e):void 0!==e.v||void 0!==e.value?this.setValues("hsv",e):void 0!==e.w||void 0!==e.whiteness?this.setValues("hwb",e):void 0===e.c&&void 0===e.cyan||this.setValues("cmyk",e)))):new Y(t);var e};Y.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t=(t%=360)<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return F.hexString(this.values.rgb)},rgbString:function(){return F.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return F.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return F.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return F.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return F.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return F.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return F.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var i=t[n]/255;e[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,n=(e[0]+t)%360;return e[0]=n<0?360+n:n,this.setValues("hsl",e),this},mix:function(t,e){var n=t,i=void 0===e?.5:e,r=2*i-1,a=this.alpha()-n.alpha(),o=((r*a==-1?r:(r+a)/(1+r*a))+1)/2,s=1-o;return this.rgb(o*this.red()+s*n.red(),o*this.green()+s*n.green(),o*this.blue()+s*n.blue()).alpha(this.alpha()*i+n.alpha()*(1-i))},toJSON:function(){return this.rgb()},clone:function(){var t,e,n=new Y,i=this.values,r=n.values;for(var a in i)i.hasOwnProperty(a)&&(t=i[a],"[object Array]"===(e={}.toString.call(t))?r[a]=t.slice(0):"[object Number]"===e?r[a]=t:console.error("unexpected color value:",t));return n}},Y.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},Y.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},Y.prototype.getValues=function(t){for(var e=this.values,n={},i=0;i<t.length;i++)n[t.charAt(i)]=e[t][i];return 1!==e.alpha&&(n.a=e.alpha),n},Y.prototype.setValues=function(t,e){var n,i,r=this.values,a=this.spaces,o=this.maxes,s=1;if(this.valid=!0,"alpha"===t)s=e;else if(e.length)r[t]=e.slice(0,t.length),s=e[t.length];else if(void 0!==e[t.charAt(0)]){for(n=0;n<t.length;n++)r[t][n]=e[t.charAt(n)];s=e.a}else if(void 0!==e[a[t][0]]){var l=a[t];for(n=0;n<t.length;n++)r[t][n]=e[l[n]];s=e.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===s?r.alpha:s)),"alpha"===t)return!1;for(n=0;n<t.length;n++)i=Math.max(0,Math.min(o[t][n],r[t][n])),r[t][n]=Math.round(i);for(var c in a)c!==t&&(r[c]=I[t][c](r[t]));return!0},Y.prototype.setSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},Y.prototype.setChannel=function(t,e,n){var i=this.values[t];return void 0===n?i[e]:(n===i[e]||(i[e]=n,this.setValues(t,i)),this)},"undefined"!=typeof window&&(window.Color=Y);var H,U=Y,G={noop:function(){},uid:(H=0,function(){return H++}),isNullOrUndef:function(t){return null==t},isArray:function(t){if(Array.isArray&&Array.isArray(t))return!0;var e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)},isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},isFinite:function(t){return("number"==typeof t||t instanceof Number)&&isFinite(t)},valueOrDefault:function(t,e){return void 0===t?e:t},valueAtIndexOrDefault:function(t,e,n){return G.valueOrDefault(G.isArray(t)?t[e]:t,n)},callback:function(t,e,n){if(t&&"function"==typeof t.call)return t.apply(n,e)},each:function(t,e,n,i){var r,a,o;if(G.isArray(t))if(a=t.length,i)for(r=a-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<a;r++)e.call(n,t[r],r);else if(G.isObject(t))for(a=(o=Object.keys(t)).length,r=0;r<a;r++)e.call(n,t[o[r]],o[r])},arrayEquals:function(t,e){var n,i,r,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],a=e[n],r instanceof Array&&a instanceof Array){if(!G.arrayEquals(r,a))return!1}else if(r!==a)return!1;return!0},clone:function(t){if(G.isArray(t))return t.map(G.clone);if(G.isObject(t)){for(var e={},n=Object.keys(t),i=n.length,r=0;r<i;++r)e[n[r]]=G.clone(t[n[r]]);return e}return t},_merger:function(t,e,n,i){var r=e[t],a=n[t];G.isObject(r)&&G.isObject(a)?G.merge(r,a,i):e[t]=G.clone(a)},_mergerIf:function(t,e,n){var i=e[t],r=n[t];G.isObject(i)&&G.isObject(r)?G.mergeIf(i,r):e.hasOwnProperty(t)||(e[t]=G.clone(r))},merge:function(t,e,n){var i,r,a,o,s,l=G.isArray(e)?e:[e],c=l.length;if(!G.isObject(t))return t;for(i=(n=n||{}).merger||G._merger,r=0;r<c;++r)if(e=l[r],G.isObject(e))for(s=0,o=(a=Object.keys(e)).length;s<o;++s)i(a[s],t,e,n);return t},mergeIf:function(t,e){return G.merge(t,e,{merger:G._mergerIf})},extend:function(t){for(var e=function(e,n){t[n]=e},n=1,i=arguments.length;n<i;++n)G.each(arguments[n],e);return t},inherits:function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=e.prototype,n.prototype=new i,n.extend=G.inherits,t&&G.extend(n.prototype,t),n.__super__=e.prototype,n}},X=G;G.callCallback=G.callback,G.indexOf=function(t,e,n){return Array.prototype.indexOf.call(t,e,n)},G.getValueOrDefault=G.valueOrDefault,G.getValueAtIndexOrDefault=G.valueAtIndexOrDefault;var Z={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e,n=0;return 0===t?0:1===t?1:(n||(n=.3),e=n/(2*Math.PI)*Math.asin(1),-1*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n))},easeOutElastic:function(t){var e,n=0;return 0===t?0:1===t?1:(n||(n=.3),e=n/(2*Math.PI)*Math.asin(1),1*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e,n=0;return 0===t?0:2==(t/=.5)?1:(n||(n=.45),e=n/(2*Math.PI)*Math.asin(1),t<1?1*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*-.5:1*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-Z.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*Z.easeInBounce(2*t):.5*Z.easeOutBounce(2*t-1)+.5}},J={effects:Z};X.easingEffects=Z;var K=Math.PI,Q=K/180,tt=2*K,et=K/2,nt=K/4,it=2*K/3,rt={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,n,i,r,a){if(a){var o=Math.min(a,r/2,i/2),s=e+o,l=n+o,c=e+i-o,h=n+r-o;t.moveTo(e,l),s<c&&l<h?(t.arc(s,l,o,-K,-et),t.arc(c,l,o,-et,0),t.arc(c,h,o,0,et),t.arc(s,h,o,et,K)):s<c?(t.moveTo(s,n),t.arc(c,l,o,-et,et),t.arc(s,l,o,et,K+et)):l<h?(t.arc(s,l,o,-K,0),t.arc(s,h,o,0,K)):t.arc(s,l,o,-K,K),t.closePath(),t.moveTo(e,n)}else t.rect(e,n,i,r)},drawPoint:function(t,e,n,i,r,a){var o,s,l,c,h,u=(a||0)*Q;if(!e||"object"!=typeof e||"[object HTMLImageElement]"!==(o=e.toString())&&"[object HTMLCanvasElement]"!==o){if(!(isNaN(n)||n<=0)){switch(t.beginPath(),e){default:t.arc(i,r,n,0,tt),t.closePath();break;case"triangle":t.moveTo(i+Math.sin(u)*n,r-Math.cos(u)*n),u+=it,t.lineTo(i+Math.sin(u)*n,r-Math.cos(u)*n),u+=it,t.lineTo(i+Math.sin(u)*n,r-Math.cos(u)*n),t.closePath();break;case"rectRounded":c=n-(h=.516*n),s=Math.cos(u+nt)*c,l=Math.sin(u+nt)*c,t.arc(i-s,r-l,h,u-K,u-et),t.arc(i+l,r-s,h,u-et,u),t.arc(i+s,r+l,h,u,u+et),t.arc(i-l,r+s,h,u+et,u+K),t.closePath();break;case"rect":if(!a){c=Math.SQRT1_2*n,t.rect(i-c,r-c,2*c,2*c);break}u+=nt;case"rectRot":s=Math.cos(u)*n,l=Math.sin(u)*n,t.moveTo(i-s,r-l),t.lineTo(i+l,r-s),t.lineTo(i+s,r+l),t.lineTo(i-l,r+s),t.closePath();break;case"crossRot":u+=nt;case"cross":s=Math.cos(u)*n,l=Math.sin(u)*n,t.moveTo(i-s,r-l),t.lineTo(i+s,r+l),t.moveTo(i+l,r-s),t.lineTo(i-l,r+s);break;case"star":s=Math.cos(u)*n,l=Math.sin(u)*n,t.moveTo(i-s,r-l),t.lineTo(i+s,r+l),t.moveTo(i+l,r-s),t.lineTo(i-l,r+s),u+=nt,s=Math.cos(u)*n,l=Math.sin(u)*n,t.moveTo(i-s,r-l),t.lineTo(i+s,r+l),t.moveTo(i+l,r-s),t.lineTo(i-l,r+s);break;case"line":s=Math.cos(u)*n,l=Math.sin(u)*n,t.moveTo(i-s,r-l),t.lineTo(i+s,r+l);break;case"dash":t.moveTo(i,r),t.lineTo(i+Math.cos(u)*n,r+Math.sin(u)*n)}t.fill(),t.stroke()}}else t.drawImage(e,i-e.width/2,r-e.height/2,e.width,e.height)},_isPointInArea:function(t,e){return t.x>e.left-1e-6&&t.x<e.right+1e-6&&t.y>e.top-1e-6&&t.y<e.bottom+1e-6},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,n,i){var r=n.steppedLine;if(r){if("middle"===r){var a=(e.x+n.x)/2;t.lineTo(a,i?n.y:e.y),t.lineTo(a,i?e.y:n.y)}else"after"===r&&!i||"after"!==r&&i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}else n.tension?t.bezierCurveTo(i?e.controlPointPreviousX:e.controlPointNextX,i?e.controlPointPreviousY:e.controlPointNextY,i?n.controlPointNextX:n.controlPointPreviousX,i?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):t.lineTo(n.x,n.y)}},at=rt;X.clear=rt.clear,X.drawRoundedRectangle=function(t){t.beginPath(),rt.roundedRect.apply(rt,arguments)};var ot={_set:function(t,e){return X.merge(this[t]||(this[t]={}),e)}};ot._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var st=ot,lt=X.valueOrDefault,ct={toLineHeight:function(t,e){var n=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t},toPadding:function(t){var e,n,i,r;return X.isObject(t)?(e=+t.top||0,n=+t.right||0,i=+t.bottom||0,r=+t.left||0):e=n=i=r=+t||0,{top:e,right:n,bottom:i,left:r,height:e+i,width:r+n}},_parseFont:function(t){var e=st.global,n=lt(t.fontSize,e.defaultFontSize),i={family:lt(t.fontFamily,e.defaultFontFamily),lineHeight:X.options.toLineHeight(lt(t.lineHeight,e.defaultLineHeight),n),size:n,style:lt(t.fontStyle,e.defaultFontStyle),weight:null,string:""};return i.string=function(t){return!t||X.isNullOrUndef(t.size)||X.isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(i),i},resolve:function(t,e,n){var i,r,a;for(i=0,r=t.length;i<r;++i)if(void 0!==(a=t[i])&&(void 0!==e&&"function"==typeof a&&(a=a(e)),void 0!==n&&X.isArray(a)&&(a=a[n]),void 0!==a))return a}},ht=X,ut=J,dt=at,ft=ct;ht.easing=ut,ht.canvas=dt,ht.options=ft;var pt=function(t){ht.extend(this,t),this.initialize.apply(this,arguments)};ht.extend(pt.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=ht.clone(t._model)),t._start={},t},transition:function(t){var e=this,n=e._model,i=e._start,r=e._view;return n&&1!==t?(r||(r=e._view={}),i||(i=e._start={}),function(t,e,n,i){var r,a,o,s,l,c,h,u,d,f=Object.keys(n);for(r=0,a=f.length;r<a;++r)if(c=n[o=f[r]],e.hasOwnProperty(o)||(e[o]=c),(s=e[o])!==c&&"_"!==o[0]){if(t.hasOwnProperty(o)||(t[o]=s),(h=typeof c)==typeof(l=t[o]))if("string"===h){if((u=U(l)).valid&&(d=U(c)).valid){e[o]=d.mix(u,i).rgbString();continue}}else if(ht.isFinite(l)&&ht.isFinite(c)){e[o]=l+(c-l)*i;continue}e[o]=c}}(i,r,n,t),e):(e._view=n,e._start=null,e)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return ht.isNumber(this._model.x)&&ht.isNumber(this._model.y)}}),pt.extend=ht.inherits;var mt=pt,gt=mt.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),vt=gt;Object.defineProperty(gt.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(gt.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}}),st._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:ht.noop,onComplete:ht.noop}});var yt={animations:[],request:null,addAnimation:function(t,e,n,i){var r,a,o=this.animations;for(e.chart=t,e.startTime=Date.now(),e.duration=n,i||(t.animating=!0),r=0,a=o.length;r<a;++r)if(o[r].chart===t)return void(o[r]=e);o.push(e),1===o.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var e=ht.findIndex(this.animations,(function(e){return e.chart===t}));-1!==e&&(this.animations.splice(e,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=ht.requestAnimFrame.call(window,(function(){t.request=null,t.startDigest()})))},startDigest:function(){this.advance(),this.animations.length>0&&this.requestAnimationFrame()},advance:function(){for(var t,e,n,i,r=this.animations,a=0;a<r.length;)e=(t=r[a]).chart,n=t.numSteps,i=Math.floor((Date.now()-t.startTime)/t.duration*n)+1,t.currentStep=Math.min(i,n),ht.callback(t.render,[e,t],e),ht.callback(t.onAnimationProgress,[t],e),t.currentStep>=n?(ht.callback(t.onAnimationComplete,[t],e),e.animating=!1,r.splice(a,1)):++a}},bt=ht.options.resolve,_t=["push","pop","shift","splice","unshift"];function xt(t,e){var n=t._chartjs;if(n){var i=n.listeners,r=i.indexOf(e);-1!==r&&i.splice(r,1),i.length>0||(_t.forEach((function(e){delete t[e]})),delete t._chartjs)}}var wt=function(t,e){this.initialize(t,e)};ht.extend(wt.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),n=t.getDataset();null!==e.xAxisID&&e.xAxisID in t.chart.scales||(e.xAxisID=n.xAxisID||t.chart.options.scales.xAxes[0].id),null!==e.yAxisID&&e.yAxisID in t.chart.scales||(e.yAxisID=n.yAxisID||t.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this.update(!0)},destroy:function(){this._data&&xt(this._data,this)},createMetaDataset:function(){var t=this.datasetElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(t){var e=this.dataElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index,_index:t})},addElements:function(){var t,e,n=this.getMeta(),i=this.getDataset().data||[],r=n.data;for(t=0,e=i.length;t<e;++t)r[t]=r[t]||this.createMetaData(t);n.dataset=n.dataset||this.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t,e,n=this,i=n.getDataset(),r=i.data||(i.data=[]);n._data!==r&&(n._data&&xt(n._data,n),r&&Object.isExtensible(r)&&(e=n,(t=r)._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),_t.forEach((function(e){var n="onData"+e.charAt(0).toUpperCase()+e.slice(1),i=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),r=i.apply(this,e);return ht.each(t._chartjs.listeners,(function(t){"function"==typeof t[n]&&t[n].apply(t,e)})),r}})})))),n._data=r),n.resyncElements()},update:ht.noop,transition:function(t){for(var e=this.getMeta(),n=e.data||[],i=n.length,r=0;r<i;++r)n[r].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],n=e.length,i=0;for(t.dataset&&t.dataset.draw();i<n;++i)e[i].draw()},removeHoverStyle:function(t){ht.merge(t._model,t.$previousStyle||{}),delete t.$previousStyle},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},r=t._model,a=ht.getHoverColor;t.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth},r.backgroundColor=bt([i.hoverBackgroundColor,e.hoverBackgroundColor,a(r.backgroundColor)],void 0,n),r.borderColor=bt([i.hoverBorderColor,e.hoverBorderColor,a(r.borderColor)],void 0,n),r.borderWidth=bt([i.hoverBorderWidth,e.hoverBorderWidth,r.borderWidth],void 0,n)},resyncElements:function(){var t=this.getMeta(),e=this.getDataset().data,n=t.data.length,i=e.length;i<n?t.data.splice(i,n-i):i>n&&this.insertElements(n,i-n)},insertElements:function(t,e){for(var n=0;n<e;++n)this.addElementAndReset(t+n)},onDataPush:function(){var t=arguments.length;this.insertElements(this.getDataset().data.length-t,t)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),wt.extend=ht.inherits;var kt=wt;st._set("global",{elements:{arc:{backgroundColor:st.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var Ct=mt.extend({inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var n=this._view;if(n){for(var i=ht.getAngleFromPoint(n,{x:t,y:e}),r=i.angle,a=i.distance,o=n.startAngle,s=n.endAngle;s<o;)s+=2*Math.PI;for(;r>s;)r-=2*Math.PI;for(;r<o;)r+=2*Math.PI;var l=r>=o&&r<=s,c=a>=n.innerRadius&&a<=n.outerRadius;return l&&c}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,n=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,n=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},draw:function(){var t,e=this._chart.ctx,n=this._view,i=n.startAngle,r=n.endAngle,a="inner"===n.borderAlign?.33:0;e.save(),e.beginPath(),e.arc(n.x,n.y,Math.max(n.outerRadius-a,0),i,r),e.arc(n.x,n.y,n.innerRadius,r,i,!0),e.closePath(),e.fillStyle=n.backgroundColor,e.fill(),n.borderWidth&&("inner"===n.borderAlign?(e.beginPath(),t=a/n.outerRadius,e.arc(n.x,n.y,n.outerRadius,i-t,r+t),n.innerRadius>a?(t=a/n.innerRadius,e.arc(n.x,n.y,n.innerRadius-a,r+t,i-t,!0)):e.arc(n.x,n.y,a,r+Math.PI/2,i-Math.PI/2),e.closePath(),e.clip(),e.beginPath(),e.arc(n.x,n.y,n.outerRadius,i,r),e.arc(n.x,n.y,n.innerRadius,r,i,!0),e.closePath(),e.lineWidth=2*n.borderWidth,e.lineJoin="round"):(e.lineWidth=n.borderWidth,e.lineJoin="bevel"),e.strokeStyle=n.borderColor,e.stroke()),e.restore()}}),St=ht.valueOrDefault,At=st.global.defaultColor;st._set("global",{elements:{line:{tension:.4,backgroundColor:At,borderWidth:3,borderColor:At,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var Mt=mt.extend({draw:function(){var t,e,n,i,r=this._view,a=this._chart.ctx,o=r.spanGaps,s=this._children.slice(),l=st.global,c=l.elements.line,h=-1;for(this._loop&&s.length&&s.push(s[0]),a.save(),a.lineCap=r.borderCapStyle||c.borderCapStyle,a.setLineDash&&a.setLineDash(r.borderDash||c.borderDash),a.lineDashOffset=St(r.borderDashOffset,c.borderDashOffset),a.lineJoin=r.borderJoinStyle||c.borderJoinStyle,a.lineWidth=St(r.borderWidth,c.borderWidth),a.strokeStyle=r.borderColor||l.defaultColor,a.beginPath(),h=-1,t=0;t<s.length;++t)e=s[t],n=ht.previousItem(s,t),i=e._view,0===t?i.skip||(a.moveTo(i.x,i.y),h=t):(n=-1===h?n:s[h],i.skip||(h!==t-1&&!o||-1===h?a.moveTo(i.x,i.y):ht.canvas.lineTo(a,n._view,e._view),h=t));a.stroke(),a.restore()}}),Tt=ht.valueOrDefault,Dt=st.global.defaultColor;function Pt(t){var e=this._view;return!!e&&Math.abs(t-e.x)<e.radius+e.hitRadius}st._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Dt,borderColor:Dt,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var Ot=mt.extend({inRange:function(t,e){var n=this._view;return!!n&&Math.pow(t-n.x,2)+Math.pow(e-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:Pt,inXRange:Pt,inYRange:function(t){var e=this._view;return!!e&&Math.abs(t-e.y)<e.radius+e.hitRadius},getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,n=this._chart.ctx,i=e.pointStyle,r=e.rotation,a=e.radius,o=e.x,s=e.y,l=st.global,c=l.defaultColor;e.skip||(void 0===t||ht.canvas._isPointInArea(e,t))&&(n.strokeStyle=e.borderColor||c,n.lineWidth=Tt(e.borderWidth,l.elements.point.borderWidth),n.fillStyle=e.backgroundColor||c,ht.canvas.drawPoint(n,i,a,o,s,r))}}),It=st.global.defaultColor;function Nt(t){return t&&void 0!==t.width}function Ft(t){var e,n,i,r,a;return Nt(t)?(a=t.width/2,e=t.x-a,n=t.x+a,i=Math.min(t.y,t.base),r=Math.max(t.y,t.base)):(a=t.height/2,e=Math.min(t.x,t.base),n=Math.max(t.x,t.base),i=t.y-a,r=t.y+a),{left:e,top:i,right:n,bottom:r}}function Et(t,e,n){return t===e?n:t===n?e:t}function Rt(t,e,n){var i,r,a,o,s=t.borderWidth,l=function(t){var e=t.borderSkipped,n={};return e?(t.horizontal?t.base>t.x&&(e=Et(e,"left","right")):t.base<t.y&&(e=Et(e,"bottom","top")),n[e]=!0,n):n}(t);return ht.isObject(s)?(i=+s.top||0,r=+s.right||0,a=+s.bottom||0,o=+s.left||0):i=r=a=o=+s||0,{t:l.top||i<0?0:i>n?n:i,r:l.right||r<0?0:r>e?e:r,b:l.bottom||a<0?0:a>n?n:a,l:l.left||o<0?0:o>e?e:o}}function Lt(t,e,n){var i=null===e,r=null===n,a=!(!t||i&&r)&&Ft(t);return a&&(i||e>=a.left&&e<=a.right)&&(r||n>=a.top&&n<=a.bottom)}st._set("global",{elements:{rectangle:{backgroundColor:It,borderColor:It,borderSkipped:"bottom",borderWidth:0}}});var zt=mt.extend({draw:function(){var t=this._chart.ctx,e=this._view,n=function(t){var e=Ft(t),n=e.right-e.left,i=e.bottom-e.top,r=Rt(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b}}}(e),i=n.outer,r=n.inner;t.fillStyle=e.backgroundColor,t.fillRect(i.x,i.y,i.w,i.h),i.w===r.w&&i.h===r.h||(t.save(),t.beginPath(),t.rect(i.x,i.y,i.w,i.h),t.clip(),t.fillStyle=e.borderColor,t.rect(r.x,r.y,r.w,r.h),t.fill("evenodd"),t.restore())},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){return Lt(this._view,t,e)},inLabelRange:function(t,e){var n=this._view;return Nt(n)?Lt(n,t,null):Lt(n,null,e)},inXRange:function(t){return Lt(this._view,t,null)},inYRange:function(t){return Lt(this._view,null,t)},getCenterPoint:function(){var t,e,n=this._view;return Nt(n)?(t=n.x,e=(n.y+n.base)/2):(t=(n.x+n.base)/2,e=n.y),{x:t,y:e}},getArea:function(){var t=this._view;return Nt(t)?t.width*Math.abs(t.y-t.base):t.height*Math.abs(t.x-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}}),Wt={},jt=Ct,Bt=Mt,Vt=Ot,qt=zt;Wt.Arc=jt,Wt.Line=Bt,Wt.Point=Vt,Wt.Rectangle=qt;var $t=ht.options.resolve;st._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}});var Yt=kt.extend({dataElementType:Wt.Rectangle,initialize:function(){var t,e=this;kt.prototype.initialize.apply(e,arguments),(t=e.getMeta()).stack=e.getDataset().stack,t.bar=!0},update:function(t){var e,n,i=this.getMeta().data;for(this._ruler=this.getRuler(),e=0,n=i.length;e<n;++e)this.updateElement(i[e],e,t)},updateElement:function(t,e,n){var i=this,r=i.getMeta(),a=i.getDataset(),o=i._resolveElementOptions(t,e);t._xScale=i.getScaleForId(r.xAxisID),t._yScale=i.getScaleForId(r.yAxisID),t._datasetIndex=i.index,t._index=e,t._model={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderSkipped:o.borderSkipped,borderWidth:o.borderWidth,datasetLabel:a.label,label:i.chart.data.labels[e]},i._updateElementGeometry(t,e,n),t.pivot()},_updateElementGeometry:function(t,e,n){var i=this,r=t._model,a=i._getValueScale(),o=a.getBasePixel(),s=a.isHorizontal(),l=i._ruler||i.getRuler(),c=i.calculateBarValuePixels(i.index,e),h=i.calculateBarIndexPixels(i.index,e,l);r.horizontal=s,r.base=n?o:c.base,r.x=s?n?o:c.head:h.center,r.y=s?h.center:n?o:c.head,r.height=s?h.size:void 0,r.width=s?void 0:h.size},_getStacks:function(t){var e,n,i=this.chart,r=this._getIndexScale().options.stacked,a=void 0===t?i.data.datasets.length:t+1,o=[];for(e=0;e<a;++e)(n=i.getDatasetMeta(e)).bar&&i.isDatasetVisible(e)&&(!1===r||!0===r&&-1===o.indexOf(n.stack)||void 0===r&&(void 0===n.stack||-1===o.indexOf(n.stack)))&&o.push(n.stack);return o},getStackCount:function(){return this._getStacks().length},getStackIndex:function(t,e){var n=this._getStacks(t),i=void 0!==e?n.indexOf(e):-1;return-1===i?n.length-1:i},getRuler:function(){var t,e,n=this._getIndexScale(),i=this.getStackCount(),r=this.index,a=n.isHorizontal(),o=a?n.left:n.top,s=o+(a?n.width:n.height),l=[];for(t=0,e=this.getMeta().data.length;t<e;++t)l.push(n.getPixelForValue(null,t,r));return{min:ht.isNullOrUndef(n.options.barThickness)?function(t,e){var n,i,r,a,o=t.isHorizontal()?t.width:t.height,s=t.getTicks();for(r=1,a=e.length;r<a;++r)o=Math.min(o,Math.abs(e[r]-e[r-1]));for(r=0,a=s.length;r<a;++r)i=t.getPixelForTick(r),o=r>0?Math.min(o,i-n):o,n=i;return o}(n,l):-1,pixels:l,start:o,end:s,stackCount:i,scale:n}},calculateBarValuePixels:function(t,e){var n,i,r,a,o,s,l=this.chart,c=this.getMeta(),h=this._getValueScale(),u=h.isHorizontal(),d=l.data.datasets,f=+h.getRightValue(d[t].data[e]),p=h.options.minBarLength,m=h.options.stacked,g=c.stack,v=0;if(m||void 0===m&&void 0!==g)for(n=0;n<t;++n)(i=l.getDatasetMeta(n)).bar&&i.stack===g&&i.controller._getValueScaleId()===h.id&&l.isDatasetVisible(n)&&(r=+h.getRightValue(d[n].data[e]),(f<0&&r<0||f>=0&&r>0)&&(v+=r));return a=h.getPixelForValue(v),s=(o=h.getPixelForValue(v+f))-a,void 0!==p&&Math.abs(s)<p&&(s=p,o=f>=0&&!u||f<0&&u?a-p:a+p),{size:s,base:a,head:o,center:o+s/2}},calculateBarIndexPixels:function(t,e,n){var i=n.scale.options,r="flex"===i.barThickness?function(t,e,n){var i,r=e.pixels,a=r[t],o=t>0?r[t-1]:null,s=t<r.length-1?r[t+1]:null,l=n.categoryPercentage;return null===o&&(o=a-(null===s?e.end-e.start:s-a)),null===s&&(s=a+a-o),i=a-(a-Math.min(o,s))/2*l,{chunk:Math.abs(s-o)/2*l/e.stackCount,ratio:n.barPercentage,start:i}}(e,n,i):function(t,e,n){var i,r,a=n.barThickness,o=e.stackCount,s=e.pixels[t];return ht.isNullOrUndef(a)?(i=e.min*n.categoryPercentage,r=n.barPercentage):(i=a*o,r=1),{chunk:i/o,ratio:r,start:s-i/2}}(e,n,i),a=this.getStackIndex(t,this.getMeta().stack),o=r.start+r.chunk*a+r.chunk/2,s=Math.min(ht.valueOrDefault(i.maxBarThickness,1/0),r.chunk*r.ratio);return{base:o-s/2,head:o+s/2,center:o,size:s}},draw:function(){var t=this.chart,e=this._getValueScale(),n=this.getMeta().data,i=this.getDataset(),r=n.length,a=0;for(ht.canvas.clipArea(t.ctx,t.chartArea);a<r;++a)isNaN(e.getRightValue(i.data[a]))||n[a].draw();ht.canvas.unclipArea(t.ctx)},_resolveElementOptions:function(t,e){var n,i,r,a=this.chart,o=a.data.datasets[this.index],s=t.custom||{},l=a.options.elements.rectangle,c={},h={chart:a,dataIndex:e,dataset:o,datasetIndex:this.index},u=["backgroundColor","borderColor","borderSkipped","borderWidth"];for(n=0,i=u.length;n<i;++n)c[r=u[n]]=$t([s[r],o[r],l[r]],h,e);return c}}),Ht=ht.valueOrDefault,Ut=ht.options.resolve;st._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.datasets[t.datasetIndex].label||"",i=e.datasets[t.datasetIndex].data[t.index];return n+": ("+t.xLabel+", "+t.yLabel+", "+i.r+")"}}}});var Gt=kt.extend({dataElementType:Wt.Point,update:function(t){var e=this,n=e.getMeta().data;ht.each(n,(function(n,i){e.updateElement(n,i,t)}))},updateElement:function(t,e,n){var i=this,r=i.getMeta(),a=t.custom||{},o=i.getScaleForId(r.xAxisID),s=i.getScaleForId(r.yAxisID),l=i._resolveElementOptions(t,e),c=i.getDataset().data[e],h=i.index,u=n?o.getPixelForDecimal(.5):o.getPixelForValue("object"==typeof c?c:NaN,e,h),d=n?s.getBasePixel():s.getPixelForValue(c,e,h);t._xScale=o,t._yScale=s,t._options=l,t._datasetIndex=h,t._index=e,t._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:n?0:l.radius,skip:a.skip||isNaN(u)||isNaN(d),x:u,y:d},t.pivot()},setHoverStyle:function(t){var e=t._model,n=t._options,i=ht.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Ht(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=Ht(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=Ht(n.hoverBorderWidth,n.borderWidth),e.radius=n.radius+n.hoverRadius},_resolveElementOptions:function(t,e){var n,i,r,a=this.chart,o=a.data.datasets[this.index],s=t.custom||{},l=a.options.elements.point,c=o.data[e],h={},u={chart:a,dataIndex:e,dataset:o,datasetIndex:this.index},d=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"];for(n=0,i=d.length;n<i;++n)h[r=d[n]]=Ut([s[r],o[r],l[r]],u,e);return h.radius=Ut([s.radius,c?c.r:void 0,o.radius,l.radius],u,e),h}}),Xt=ht.options.resolve,Zt=ht.valueOrDefault;st._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,i=n.datasets,r=n.labels;if(i.length)for(var a=0;a<i[0].data.length;++a)e.push('<li><span style="background-color:'+i[0].backgroundColor[a]+'"></span>'),r[a]&&e.push(r[a]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map((function(n,i){var r=t.getDatasetMeta(0),a=e.datasets[0],o=r.data[i],s=o&&o.custom||{},l=t.options.elements.arc;return{text:n,fillStyle:Xt([s.backgroundColor,a.backgroundColor,l.backgroundColor],void 0,i),strokeStyle:Xt([s.borderColor,a.borderColor,l.borderColor],void 0,i),lineWidth:Xt([s.borderWidth,a.borderWidth,l.borderWidth],void 0,i),hidden:isNaN(a.data[i])||r.data[i].hidden,index:i}})):[]}},onClick:function(t,e){var n,i,r,a=e.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;n<i;++n)(r=o.getDatasetMeta(n)).data[a]&&(r.data[a].hidden=!r.data[a].hidden);o.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.labels[t.index],i=": "+e.datasets[t.datasetIndex].data[t.index];return ht.isArray(n)?(n=n.slice())[0]+=i:n+=i,n}}}});var Jt=kt.extend({dataElementType:Wt.Arc,linkScales:ht.noop,getRingIndex:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&++e;return e},update:function(t){var e,n,i=this,r=i.chart,a=r.chartArea,o=r.options,s=a.right-a.left,l=a.bottom-a.top,c=Math.min(s,l),h={x:0,y:0},u=i.getMeta(),d=u.data,f=o.cutoutPercentage,p=o.circumference,m=i._getRingWeight(i.index);if(p<2*Math.PI){var g=o.rotation%(2*Math.PI),v=(g+=2*Math.PI*(g>=Math.PI?-1:g<-Math.PI?1:0))+p,y={x:Math.cos(g),y:Math.sin(g)},b={x:Math.cos(v),y:Math.sin(v)},_=g<=0&&v>=0||g<=2*Math.PI&&2*Math.PI<=v,x=g<=.5*Math.PI&&.5*Math.PI<=v||g<=2.5*Math.PI&&2.5*Math.PI<=v,w=g<=-Math.PI&&-Math.PI<=v||g<=Math.PI&&Math.PI<=v,k=g<=.5*-Math.PI&&.5*-Math.PI<=v||g<=1.5*Math.PI&&1.5*Math.PI<=v,C=f/100,S={x:w?-1:Math.min(y.x*(y.x<0?1:C),b.x*(b.x<0?1:C)),y:k?-1:Math.min(y.y*(y.y<0?1:C),b.y*(b.y<0?1:C))},A={x:_?1:Math.max(y.x*(y.x>0?1:C),b.x*(b.x>0?1:C)),y:x?1:Math.max(y.y*(y.y>0?1:C),b.y*(b.y>0?1:C))},M={width:.5*(A.x-S.x),height:.5*(A.y-S.y)};c=Math.min(s/M.width,l/M.height),h={x:-.5*(A.x+S.x),y:-.5*(A.y+S.y)}}for(e=0,n=d.length;e<n;++e)d[e]._options=i._resolveElementOptions(d[e],e);for(r.borderWidth=i.getMaxBorderWidth(),r.outerRadius=Math.max((c-r.borderWidth)/2,0),r.innerRadius=Math.max(f?r.outerRadius/100*f:0,0),r.radiusLength=(r.outerRadius-r.innerRadius)/(i._getVisibleDatasetWeightTotal()||1),r.offsetX=h.x*r.outerRadius,r.offsetY=h.y*r.outerRadius,u.total=i.calculateTotal(),i.outerRadius=r.outerRadius-r.radiusLength*i._getRingWeightOffset(i.index),i.innerRadius=Math.max(i.outerRadius-r.radiusLength*m,0),e=0,n=d.length;e<n;++e)i.updateElement(d[e],e,t)},updateElement:function(t,e,n){var i=this,r=i.chart,a=r.chartArea,o=r.options,s=o.animation,l=(a.left+a.right)/2,c=(a.top+a.bottom)/2,h=o.rotation,u=o.rotation,d=i.getDataset(),f=n&&s.animateRotate||t.hidden?0:i.calculateCircumference(d.data[e])*(o.circumference/(2*Math.PI)),p=n&&s.animateScale?0:i.innerRadius,m=n&&s.animateScale?0:i.outerRadius,g=t._options||{};ht.extend(t,{_datasetIndex:i.index,_index:e,_model:{backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderWidth:g.borderWidth,borderAlign:g.borderAlign,x:l+r.offsetX,y:c+r.offsetY,startAngle:h,endAngle:u,circumference:f,outerRadius:m,innerRadius:p,label:ht.valueAtIndexOrDefault(d.label,e,r.data.labels[e])}});var v=t._model;n&&s.animateRotate||(v.startAngle=0===e?o.rotation:i.getMeta().data[e-1]._model.endAngle,v.endAngle=v.startAngle+v.circumference),t.pivot()},calculateTotal:function(){var t,e=this.getDataset(),n=this.getMeta(),i=0;return ht.each(n.data,(function(n,r){t=e.data[r],isNaN(t)||n.hidden||(i+=Math.abs(t))})),i},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?2*Math.PI*(Math.abs(t)/e):0},getMaxBorderWidth:function(t){var e,n,i,r,a,o,s,l,c=0,h=this.chart;if(!t)for(e=0,n=h.data.datasets.length;e<n;++e)if(h.isDatasetVisible(e)){t=(i=h.getDatasetMeta(e)).data,e!==this.index&&(a=i.controller);break}if(!t)return 0;for(e=0,n=t.length;e<n;++e)r=t[e],"inner"!==(o=a?a._resolveElementOptions(r,e):r._options).borderAlign&&(s=o.borderWidth,c=(l=o.hoverBorderWidth)>(c=s>c?s:c)?l:c);return c},setHoverStyle:function(t){var e=t._model,n=t._options,i=ht.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=Zt(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=Zt(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=Zt(n.hoverBorderWidth,n.borderWidth)},_resolveElementOptions:function(t,e){var n,i,r,a=this.chart,o=this.getDataset(),s=t.custom||{},l=a.options.elements.arc,c={},h={chart:a,dataIndex:e,dataset:o,datasetIndex:this.index},u=["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"];for(n=0,i=u.length;n<i;++n)c[r=u[n]]=Xt([s[r],o[r],l[r]],h,e);return c},_getRingWeightOffset:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e},_getRingWeight:function(t){return Math.max(Zt(this.chart.data.datasets[t].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});st._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}});var Kt=Yt.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),Qt=ht.valueOrDefault,te=ht.options.resolve,ee=ht.canvas._isPointInArea;function ne(t,e){return Qt(t.showLine,e.showLines)}st._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var ie=kt.extend({datasetElementType:Wt.Line,dataElementType:Wt.Point,update:function(t){var e,n,i=this,r=i.getMeta(),a=r.dataset,o=r.data||[],s=i.getScaleForId(r.yAxisID),l=i.getDataset(),c=ne(l,i.chart.options);for(c&&(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),a._scale=s,a._datasetIndex=i.index,a._children=o,a._model=i._resolveLineOptions(a),a.pivot()),e=0,n=o.length;e<n;++e)i.updateElement(o[e],e,t);for(c&&0!==a._model.tension&&i.updateBezierControlPoints(),e=0,n=o.length;e<n;++e)o[e].pivot()},updateElement:function(t,e,n){var i,r,a=this,o=a.getMeta(),s=t.custom||{},l=a.getDataset(),c=a.index,h=l.data[e],u=a.getScaleForId(o.yAxisID),d=a.getScaleForId(o.xAxisID),f=o.dataset._model,p=a._resolvePointOptions(t,e);i=d.getPixelForValue("object"==typeof h?h:NaN,e,c),r=n?u.getBasePixel():a.calculatePointY(h,e,c),t._xScale=d,t._yScale=u,t._options=p,t._datasetIndex=c,t._index=e,t._model={x:i,y:r,skip:s.skip||isNaN(i)||isNaN(r),radius:p.radius,pointStyle:p.pointStyle,rotation:p.rotation,backgroundColor:p.backgroundColor,borderColor:p.borderColor,borderWidth:p.borderWidth,tension:Qt(s.tension,f?f.tension:0),steppedLine:!!f&&f.steppedLine,hitRadius:p.hitRadius}},_resolvePointOptions:function(t,e){var n,i,r,a=this.chart,o=a.data.datasets[this.index],s=t.custom||{},l=a.options.elements.point,c={},h={chart:a,dataIndex:e,dataset:o,datasetIndex:this.index},u={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},d=Object.keys(u);for(n=0,i=d.length;n<i;++n)c[r=d[n]]=te([s[r],o[u[r]],o[r],l[r]],h,e);return c},_resolveLineOptions:function(t){var e,n,i,r=this.chart,a=r.data.datasets[this.index],o=t.custom||{},s=r.options,l=s.elements.line,c={},h=["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill","cubicInterpolationMode"];for(e=0,n=h.length;e<n;++e)c[i=h[e]]=te([o[i],a[i],l[i]]);return c.spanGaps=Qt(a.spanGaps,s.spanGaps),c.tension=Qt(a.lineTension,l.tension),c.steppedLine=te([o.steppedLine,a.steppedLine,l.stepped]),c},calculatePointY:function(t,e,n){var i,r,a,o=this.chart,s=this.getMeta(),l=this.getScaleForId(s.yAxisID),c=0,h=0;if(l.options.stacked){for(i=0;i<n;i++)if(r=o.data.datasets[i],"line"===(a=o.getDatasetMeta(i)).type&&a.yAxisID===l.id&&o.isDatasetVisible(i)){var u=Number(l.getRightValue(r.data[e]));u<0?h+=u||0:c+=u||0}var d=Number(l.getRightValue(t));return d<0?l.getPixelForValue(h+d):l.getPixelForValue(c+d)}return l.getPixelForValue(t)},updateBezierControlPoints:function(){var t,e,n,i,r=this.chart,a=this.getMeta(),o=a.dataset._model,s=r.chartArea,l=a.data||[];function c(t,e,n){return Math.max(Math.min(t,n),e)}if(o.spanGaps&&(l=l.filter((function(t){return!t._model.skip}))),"monotone"===o.cubicInterpolationMode)ht.splineCurveMonotone(l);else for(t=0,e=l.length;t<e;++t)n=l[t]._model,i=ht.splineCurve(ht.previousItem(l,t)._model,n,ht.nextItem(l,t)._model,o.tension),n.controlPointPreviousX=i.previous.x,n.controlPointPreviousY=i.previous.y,n.controlPointNextX=i.next.x,n.controlPointNextY=i.next.y;if(r.options.elements.line.capBezierPoints)for(t=0,e=l.length;t<e;++t)n=l[t]._model,ee(n,s)&&(t>0&&ee(l[t-1]._model,s)&&(n.controlPointPreviousX=c(n.controlPointPreviousX,s.left,s.right),n.controlPointPreviousY=c(n.controlPointPreviousY,s.top,s.bottom)),t<l.length-1&&ee(l[t+1]._model,s)&&(n.controlPointNextX=c(n.controlPointNextX,s.left,s.right),n.controlPointNextY=c(n.controlPointNextY,s.top,s.bottom)))},draw:function(){var t,e=this.chart,n=this.getMeta(),i=n.data||[],r=e.chartArea,a=i.length,o=0;for(ne(this.getDataset(),e.options)&&(t=(n.dataset._model.borderWidth||0)/2,ht.canvas.clipArea(e.ctx,{left:r.left,right:r.right,top:r.top-t,bottom:r.bottom+t}),n.dataset.draw(),ht.canvas.unclipArea(e.ctx));o<a;++o)i[o].draw(r)},setHoverStyle:function(t){var e=t._model,n=t._options,i=ht.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Qt(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=Qt(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=Qt(n.hoverBorderWidth,n.borderWidth),e.radius=Qt(n.hoverRadius,n.radius)}}),re=ht.options.resolve;st._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,i=n.datasets,r=n.labels;if(i.length)for(var a=0;a<i[0].data.length;++a)e.push('<li><span style="background-color:'+i[0].backgroundColor[a]+'"></span>'),r[a]&&e.push(r[a]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map((function(n,i){var r=t.getDatasetMeta(0),a=e.datasets[0],o=r.data[i].custom||{},s=t.options.elements.arc;return{text:n,fillStyle:re([o.backgroundColor,a.backgroundColor,s.backgroundColor],void 0,i),strokeStyle:re([o.borderColor,a.borderColor,s.borderColor],void 0,i),lineWidth:re([o.borderWidth,a.borderWidth,s.borderWidth],void 0,i),hidden:isNaN(a.data[i])||r.data[i].hidden,index:i}})):[]}},onClick:function(t,e){var n,i,r,a=e.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;n<i;++n)(r=o.getDatasetMeta(n)).data[a].hidden=!r.data[a].hidden;o.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}});var ae=kt.extend({dataElementType:Wt.Arc,linkScales:ht.noop,update:function(t){var e,n,i,r=this,a=r.getDataset(),o=r.getMeta(),s=r.chart.options.startAngle||0,l=r._starts=[],c=r._angles=[],h=o.data;for(r._updateRadius(),o.count=r.countVisibleElements(),e=0,n=a.data.length;e<n;e++)l[e]=s,i=r._computeAngle(e),c[e]=i,s+=i;for(e=0,n=h.length;e<n;++e)h[e]._options=r._resolveElementOptions(h[e],e),r.updateElement(h[e],e,t)},_updateRadius:function(){var t=this,e=t.chart,n=e.chartArea,i=e.options,r=Math.min(n.right-n.left,n.bottom-n.top);e.outerRadius=Math.max(r/2,0),e.innerRadius=Math.max(i.cutoutPercentage?e.outerRadius/100*i.cutoutPercentage:1,0),e.radiusLength=(e.outerRadius-e.innerRadius)/e.getVisibleDatasetCount(),t.outerRadius=e.outerRadius-e.radiusLength*t.index,t.innerRadius=t.outerRadius-e.radiusLength},updateElement:function(t,e,n){var i=this,r=i.chart,a=i.getDataset(),o=r.options,s=o.animation,l=r.scale,c=r.data.labels,h=l.xCenter,u=l.yCenter,d=o.startAngle,f=t.hidden?0:l.getDistanceFromCenterForValue(a.data[e]),p=i._starts[e],m=p+(t.hidden?0:i._angles[e]),g=s.animateScale?0:l.getDistanceFromCenterForValue(a.data[e]),v=t._options||{};ht.extend(t,{_datasetIndex:i.index,_index:e,_scale:l,_model:{backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,borderAlign:v.borderAlign,x:h,y:u,innerRadius:0,outerRadius:n?g:f,startAngle:n&&s.animateRotate?d:p,endAngle:n&&s.animateRotate?d:m,label:ht.valueAtIndexOrDefault(c,e,c[e])}}),t.pivot()},countVisibleElements:function(){var t=this.getDataset(),e=this.getMeta(),n=0;return ht.each(e.data,(function(e,i){isNaN(t.data[i])||e.hidden||n++})),n},setHoverStyle:function(t){var e=t._model,n=t._options,i=ht.getHoverColor,r=ht.valueOrDefault;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=r(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=r(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=r(n.hoverBorderWidth,n.borderWidth)},_resolveElementOptions:function(t,e){var n,i,r,a=this.chart,o=this.getDataset(),s=t.custom||{},l=a.options.elements.arc,c={},h={chart:a,dataIndex:e,dataset:o,datasetIndex:this.index},u=["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"];for(n=0,i=u.length;n<i;++n)c[r=u[n]]=re([s[r],o[r],l[r]],h,e);return c},_computeAngle:function(t){var e=this,n=this.getMeta().count,i=e.getDataset(),r=e.getMeta();if(isNaN(i.data[t])||r.data[t].hidden)return 0;var a={chart:e.chart,dataIndex:t,dataset:i,datasetIndex:e.index};return re([e.chart.options.elements.arc.angle,2*Math.PI/n],a,t)}});st._set("pie",ht.clone(st.doughnut)),st._set("pie",{cutoutPercentage:0});var oe=Jt,se=ht.valueOrDefault,le=ht.options.resolve;st._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}});var ce=kt.extend({datasetElementType:Wt.Line,dataElementType:Wt.Point,linkScales:ht.noop,update:function(t){var e,n,i=this,r=i.getMeta(),a=r.dataset,o=r.data||[],s=i.chart.scale,l=i.getDataset();for(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),a._scale=s,a._datasetIndex=i.index,a._children=o,a._loop=!0,a._model=i._resolveLineOptions(a),a.pivot(),e=0,n=o.length;e<n;++e)i.updateElement(o[e],e,t);for(i.updateBezierControlPoints(),e=0,n=o.length;e<n;++e)o[e].pivot()},updateElement:function(t,e,n){var i=this,r=t.custom||{},a=i.getDataset(),o=i.chart.scale,s=o.getPointPositionForValue(e,a.data[e]),l=i._resolvePointOptions(t,e),c=i.getMeta().dataset._model,h=n?o.xCenter:s.x,u=n?o.yCenter:s.y;t._scale=o,t._options=l,t._datasetIndex=i.index,t._index=e,t._model={x:h,y:u,skip:r.skip||isNaN(h)||isNaN(u),radius:l.radius,pointStyle:l.pointStyle,rotation:l.rotation,backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,tension:se(r.tension,c?c.tension:0),hitRadius:l.hitRadius}},_resolvePointOptions:function(t,e){var n,i,r,a=this.chart,o=a.data.datasets[this.index],s=t.custom||{},l=a.options.elements.point,c={},h={chart:a,dataIndex:e,dataset:o,datasetIndex:this.index},u={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},d=Object.keys(u);for(n=0,i=d.length;n<i;++n)c[r=d[n]]=le([s[r],o[u[r]],o[r],l[r]],h,e);return c},_resolveLineOptions:function(t){var e,n,i,r=this.chart,a=r.data.datasets[this.index],o=t.custom||{},s=r.options.elements.line,l={},c=["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"];for(e=0,n=c.length;e<n;++e)l[i=c[e]]=le([o[i],a[i],s[i]]);return l.tension=se(a.lineTension,s.tension),l},updateBezierControlPoints:function(){var t,e,n,i,r=this.getMeta(),a=this.chart.chartArea,o=r.data||[];function s(t,e,n){return Math.max(Math.min(t,n),e)}for(t=0,e=o.length;t<e;++t)n=o[t]._model,i=ht.splineCurve(ht.previousItem(o,t,!0)._model,n,ht.nextItem(o,t,!0)._model,n.tension),n.controlPointPreviousX=s(i.previous.x,a.left,a.right),n.controlPointPreviousY=s(i.previous.y,a.top,a.bottom),n.controlPointNextX=s(i.next.x,a.left,a.right),n.controlPointNextY=s(i.next.y,a.top,a.bottom)},setHoverStyle:function(t){var e=t._model,n=t._options,i=ht.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=se(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=se(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=se(n.hoverBorderWidth,n.borderWidth),e.radius=se(n.hoverRadius,n.radius)}});st._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}});var he={bar:Yt,bubble:Gt,doughnut:Jt,horizontalBar:Kt,line:ie,polarArea:ae,pie:oe,radar:ce,scatter:ie};function ue(t,e){return t.native?{x:t.x,y:t.y}:ht.getRelativePosition(t,e)}function de(t,e){var n,i,r,a,o;for(i=0,a=t.data.datasets.length;i<a;++i)if(t.isDatasetVisible(i))for(r=0,o=(n=t.getDatasetMeta(i)).data.length;r<o;++r){var s=n.data[r];s._view.skip||e(s)}}function fe(t,e){var n=[];return de(t,(function(t){t.inRange(e.x,e.y)&&n.push(t)})),n}function pe(t,e,n,i){var r=Number.POSITIVE_INFINITY,a=[];return de(t,(function(t){if(!n||t.inRange(e.x,e.y)){var o=t.getCenterPoint(),s=i(e,o);s<r?(a=[t],r=s):s===r&&a.push(t)}})),a}function me(t){var e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,i){var r=e?Math.abs(t.x-i.x):0,a=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function ge(t,e,n){var i=ue(e,t);n.axis=n.axis||"x";var r=me(n.axis),a=n.intersect?fe(t,i):pe(t,i,!1,r),o=[];return a.length?(t.data.datasets.forEach((function(e,n){if(t.isDatasetVisible(n)){var i=t.getDatasetMeta(n).data[a[0]._index];i&&!i._view.skip&&o.push(i)}})),o):[]}var ve={modes:{single:function(t,e){var n=ue(e,t),i=[];return de(t,(function(t){if(t.inRange(n.x,n.y))return i.push(t),i})),i.slice(0,1)},label:ge,index:ge,dataset:function(t,e,n){var i=ue(e,t);n.axis=n.axis||"xy";var r=me(n.axis),a=n.intersect?fe(t,i):pe(t,i,!1,r);return a.length>0&&(a=t.getDatasetMeta(a[0]._datasetIndex).data),a},"x-axis":function(t,e){return ge(t,e,{intersect:!1})},point:function(t,e){return fe(t,ue(e,t))},nearest:function(t,e,n){var i=ue(e,t);n.axis=n.axis||"xy";var r=me(n.axis);return pe(t,i,n.intersect,r)},x:function(t,e,n){var i=ue(e,t),r=[],a=!1;return de(t,(function(t){t.inXRange(i.x)&&r.push(t),t.inRange(i.x,i.y)&&(a=!0)})),n.intersect&&!a&&(r=[]),r},y:function(t,e,n){var i=ue(e,t),r=[],a=!1;return de(t,(function(t){t.inYRange(i.y)&&r.push(t),t.inRange(i.x,i.y)&&(a=!0)})),n.intersect&&!a&&(r=[]),r}}};function ye(t,e){return ht.where(t,(function(t){return t.position===e}))}function be(t,e){t.forEach((function(t,e){return t._tmpIndex_=e,t})),t.sort((function(t,n){var i=e?n:t,r=e?t:n;return i.weight===r.weight?i._tmpIndex_-r._tmpIndex_:i.weight-r.weight})),t.forEach((function(t){delete t._tmpIndex_}))}function _e(t,e){ht.each(t,(function(t){e[t.position]+=t.isHorizontal()?t.height:t.width}))}st._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var xe,we={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,t.boxes.push(e)},removeBox:function(t,e){var n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure:function(t,e,n){for(var i,r=["fullWidth","position","weight"],a=r.length,o=0;o<a;++o)i=r[o],n.hasOwnProperty(i)&&(e[i]=n[i])},update:function(t,e,n){if(t){var i=t.options.layout||{},r=ht.options.toPadding(i.padding),a=r.left,o=r.right,s=r.top,l=r.bottom,c=ye(t.boxes,"left"),h=ye(t.boxes,"right"),u=ye(t.boxes,"top"),d=ye(t.boxes,"bottom"),f=ye(t.boxes,"chartArea");be(c,!0),be(h,!1),be(u,!0),be(d,!1);var p,m=c.concat(h),g=u.concat(d),v=m.concat(g),y=e-a-o,b=n-s-l,_=(e-y/2)/m.length,x=y,w=b,k={top:s,left:a,bottom:l,right:o},C=[];ht.each(v,(function(t){var e,n=t.isHorizontal();n?(e=t.update(t.fullWidth?y:x,b/2),w-=e.height):(e=t.update(_,w),x-=e.width),C.push({horizontal:n,width:e.width,box:t})})),p=function(t){var e=0,n=0,i=0,r=0;return ht.each(t,(function(t){if(t.getPadding){var a=t.getPadding();e=Math.max(e,a.top),n=Math.max(n,a.left),i=Math.max(i,a.bottom),r=Math.max(r,a.right)}})),{top:e,left:n,bottom:i,right:r}}(v),ht.each(m,O),_e(m,k),ht.each(g,O),_e(g,k),ht.each(m,(function(t){var e=ht.findNextWhere(C,(function(e){return e.box===t})),n={left:0,right:0,top:k.top,bottom:k.bottom};e&&t.update(e.width,w,n)})),_e(v,k={top:s,left:a,bottom:l,right:o});var S=Math.max(p.left-k.left,0);k.left+=S,k.right+=Math.max(p.right-k.right,0);var A=Math.max(p.top-k.top,0);k.top+=A,k.bottom+=Math.max(p.bottom-k.bottom,0);var M=n-k.top-k.bottom,T=e-k.left-k.right;T===x&&M===w||(ht.each(m,(function(t){t.height=M})),ht.each(g,(function(t){t.fullWidth||(t.width=T)})),w=M,x=T);var D=a+S,P=s+A;ht.each(c.concat(u),I),D+=x,P+=w,ht.each(h,I),ht.each(d,I),t.chartArea={left:k.left,top:k.top,right:k.left+x,bottom:k.top+w},ht.each(f,(function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(x,w)}))}function O(t){var e=ht.findNextWhere(C,(function(e){return e.box===t}));if(e)if(e.horizontal){var n={left:Math.max(k.left,p.left),right:Math.max(k.right,p.right),top:0,bottom:0};t.update(t.fullWidth?y:x,b/2,n)}else t.update(e.width,w)}function I(t){t.isHorizontal()?(t.left=t.fullWidth?a:k.left,t.right=t.fullWidth?e-o:k.left+x,t.top=P,t.bottom=P+t.height,P=t.bottom):(t.left=D,t.right=D+t.width,t.top=k.top,t.bottom=k.top+w,D=t.right)}}},ke=(xe=Object.freeze({default:"/*\n * DOM element rendering detection\n * https://davidwalsh.name/detect-node-insertion\n */\n@keyframes chartjs-render-animation {\n\tfrom { opacity: 0.99; }\n\tto { opacity: 1; }\n}\n\n.chartjs-render-monitor {\n\tanimation: chartjs-render-animation 0.001s;\n}\n\n/*\n * DOM element resizing detection\n * https://github.com/marcj/css-element-queries\n */\n.chartjs-size-monitor,\n.chartjs-size-monitor-expand,\n.chartjs-size-monitor-shrink {\n\tposition: absolute;\n\tdirection: ltr;\n\tleft: 0;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\toverflow: hidden;\n\tpointer-events: none;\n\tvisibility: hidden;\n\tz-index: -1;\n}\n\n.chartjs-size-monitor-expand > div {\n\tposition: absolute;\n\twidth: 1000000px;\n\theight: 1000000px;\n\tleft: 0;\n\ttop: 0;\n}\n\n.chartjs-size-monitor-shrink > div {\n\tposition: absolute;\n\twidth: 200%;\n\theight: 200%;\n\tleft: 0;\n\ttop: 0;\n}\n"}))&&xe.default||xe,Ce=["animationstart","webkitAnimationStart"],Se={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function Ae(t,e){var n=ht.getStyle(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):void 0}var Me=!!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(t){}return t}()&&{passive:!0};function Te(t,e,n){t.addEventListener(e,n,Me)}function De(t,e,n){t.removeEventListener(e,n,Me)}function Pe(t,e,n,i,r){return{type:t,chart:e,native:r||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function Oe(t){var e=document.createElement("div");return e.className=t||"",e}function Ie(t,e,n){var i,r,a,o,s=t.$chartjs||(t.$chartjs={}),l=s.resizer=function(t){var e=Oe("chartjs-size-monitor"),n=Oe("chartjs-size-monitor-expand"),i=Oe("chartjs-size-monitor-shrink");n.appendChild(Oe()),i.appendChild(Oe()),e.appendChild(n),e.appendChild(i),e._reset=function(){n.scrollLeft=1e6,n.scrollTop=1e6,i.scrollLeft=1e6,i.scrollTop=1e6};var r=function(){e._reset(),t()};return Te(n,"scroll",r.bind(n,"expand")),Te(i,"scroll",r.bind(i,"shrink")),e}((i=function(){if(s.resizer){var i=n.options.maintainAspectRatio&&t.parentNode,r=i?i.clientWidth:0;e(Pe("resize",n)),i&&i.clientWidth<r&&n.canvas&&e(Pe("resize",n))}},a=!1,o=[],function(){o=Array.prototype.slice.call(arguments),r=r||this,a||(a=!0,ht.requestAnimFrame.call(window,(function(){a=!1,i.apply(r,o)})))}));!function(t,e){var n=t.$chartjs||(t.$chartjs={}),i=n.renderProxy=function(t){"chartjs-render-animation"===t.animationName&&e()};ht.each(Ce,(function(e){Te(t,e,i)})),n.reflow=!!t.offsetParent,t.classList.add("chartjs-render-monitor")}(t,(function(){if(s.resizer){var e=t.parentNode;e&&e!==l.parentNode&&e.insertBefore(l,e.firstChild),l._reset()}}))}function Ne(t){var e=t.$chartjs||{},n=e.resizer;delete e.resizer,function(t){var e=t.$chartjs||{},n=e.renderProxy;n&&(ht.each(Ce,(function(e){De(t,e,n)})),delete e.renderProxy),t.classList.remove("chartjs-render-monitor")}(t),n&&n.parentNode&&n.parentNode.removeChild(n)}var Fe={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(){var t,e,n;this._loaded||(this._loaded=!0,this.disableCSSInjection||(e=ke,n=(t=this)._style||document.createElement("style"),t._style||(t._style=n,e="/* Chart.js */\n"+e,n.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(n)),n.appendChild(document.createTextNode(e))))},acquireContext:function(t,e){"string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var n=t&&t.getContext&&t.getContext("2d");return this._ensureLoaded(),n&&n.canvas===t?(function(t,e){var n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t.$chartjs={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===r||""===r){var a=Ae(t,"width");void 0!==a&&(t.width=a)}if(null===i||""===i)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var o=Ae(t,"height");void 0!==a&&(t.height=o)}}(t,e),n):null},releaseContext:function(t){var e=t.canvas;if(e.$chartjs){var n=e.$chartjs.initial;["height","width"].forEach((function(t){var i=n[t];ht.isNullOrUndef(i)?e.removeAttribute(t):e.setAttribute(t,i)})),ht.each(n.style||{},(function(t,n){e.style[n]=t})),e.width=e.width,delete e.$chartjs}},addEventListener:function(t,e,n){var i=t.canvas;if("resize"!==e){var r=n.$chartjs||(n.$chartjs={});Te(i,e,(r.proxies||(r.proxies={}))[t.id+"_"+e]=function(e){n(function(t,e){var n=Se[t.type]||t.type,i=ht.getRelativePosition(t,e);return Pe(n,e,i.x,i.y,t)}(e,t))})}else Ie(i,n,t)},removeEventListener:function(t,e,n){var i=t.canvas;if("resize"!==e){var r=((n.$chartjs||{}).proxies||{})[t.id+"_"+e];r&&De(i,e,r)}else Ne(i)}};ht.addEvent=Te,ht.removeEvent=De;var Ee=Fe._enabled?Fe:{acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext("2d")||null}},Re=ht.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Ee);st._set("global",{plugins:{}});var Le={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach((function(t){-1===e.indexOf(t)&&e.push(t)})),this._cacheId++},unregister:function(t){var e=this._plugins;[].concat(t).forEach((function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)})),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,n){var i,r,a,o,s,l=this.descriptors(t),c=l.length;for(i=0;i<c;++i)if("function"==typeof(s=(a=(r=l[i]).plugin)[e])&&((o=[t].concat(n||[])).push(r.options),!1===s.apply(a,o)))return!1;return!0},descriptors:function(t){var e=t.$plugins||(t.$plugins={});if(e.id===this._cacheId)return e.descriptors;var n=[],i=[],r=t&&t.config||{},a=r.options&&r.options.plugins||{};return this._plugins.concat(r.plugins||[]).forEach((function(t){if(-1===n.indexOf(t)){var e=t.id,r=a[e];!1!==r&&(!0===r&&(r=ht.clone(st.global.plugins[e])),n.push(t),i.push({plugin:t,options:r||{}}))}})),e.descriptors=i,e.id=this._cacheId,i},_invalidate:function(t){delete t.$plugins}},ze={constructors:{},defaults:{},registerScaleType:function(t,e,n){this.constructors[t]=e,this.defaults[t]=ht.clone(n)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?ht.merge({},[st.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){this.defaults.hasOwnProperty(t)&&(this.defaults[t]=ht.extend(this.defaults[t],e))},addScalesToLayout:function(t){ht.each(t.scales,(function(e){e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,we.addBox(t,e)}))}},We=ht.valueOrDefault;st._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:ht.noop,title:function(t,e){var n="",i=e.labels,r=i?i.length:0;if(t.length>0){var a=t[0];a.label?n=a.label:a.xLabel?n=a.xLabel:r>0&&a.index<r&&(n=i[a.index])}return n},afterTitle:ht.noop,beforeBody:ht.noop,beforeLabel:ht.noop,label:function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n&&(n+=": "),ht.isNullOrUndef(t.value)?n+=t.yLabel:n+=t.value,n},labelColor:function(t,e){var n=e.getDatasetMeta(t.datasetIndex).data[t.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:ht.noop,afterBody:ht.noop,beforeFooter:ht.noop,footer:ht.noop,afterFooter:ht.noop}}});var je={average:function(t){if(!t.length)return!1;var e,n,i=0,r=0,a=0;for(e=0,n=t.length;e<n;++e){var o=t[e];if(o&&o.hasValue()){var s=o.tooltipPosition();i+=s.x,r+=s.y,++a}}return{x:i/a,y:r/a}},nearest:function(t,e){var n,i,r,a=e.x,o=e.y,s=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){var l=t[n];if(l&&l.hasValue()){var c=l.getCenterPoint(),h=ht.distanceBetweenPoints(e,c);h<s&&(s=h,r=l)}}if(r){var u=r.tooltipPosition();a=u.x,o=u.y}return{x:a,y:o}}};function Be(t,e){return e&&(ht.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ve(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function qe(t){var e=st.global;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,bodyFontColor:t.bodyFontColor,_bodyFontFamily:We(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:We(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:We(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:We(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:We(t.titleFontStyle,e.defaultFontStyle),titleFontSize:We(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:We(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:We(t.footerFontStyle,e.defaultFontStyle),footerFontSize:We(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function $e(t,e){return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-t.xPadding:t.x+t.xPadding}function Ye(t){return Be([],Ve(t))}var He=mt.extend({initialize:function(){this._model=qe(this._options),this._lastActive=[]},getTitle:function(){var t=this,e=t._options,n=e.callbacks,i=n.beforeTitle.apply(t,arguments),r=n.title.apply(t,arguments),a=n.afterTitle.apply(t,arguments),o=[];return o=Be(o,Ve(i)),o=Be(o,Ve(r)),o=Be(o,Ve(a))},getBeforeBody:function(){return Ye(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(t,e){var n=this,i=n._options.callbacks,r=[];return ht.each(t,(function(t){var a={before:[],lines:[],after:[]};Be(a.before,Ve(i.beforeLabel.call(n,t,e))),Be(a.lines,i.label.call(n,t,e)),Be(a.after,Ve(i.afterLabel.call(n,t,e))),r.push(a)})),r},getAfterBody:function(){return Ye(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var t=this,e=t._options.callbacks,n=e.beforeFooter.apply(t,arguments),i=e.footer.apply(t,arguments),r=e.afterFooter.apply(t,arguments),a=[];return a=Be(a,Ve(n)),a=Be(a,Ve(i)),a=Be(a,Ve(r))},update:function(t){var e,n,i,r,a,o,s,l,c,h,u=this,d=u._options,f=u._model,p=u._model=qe(d),m=u._active,g=u._data,v={xAlign:f.xAlign,yAlign:f.yAlign},y={x:f.x,y:f.y},b={width:f.width,height:f.height},_={x:f.caretX,y:f.caretY};if(m.length){p.opacity=1;var x=[],w=[];_=je[d.position].call(u,m,u._eventPosition);var k=[];for(e=0,n=m.length;e<n;++e)k.push((i=m[e],r=void 0,a=void 0,o=void 0,s=void 0,l=void 0,c=void 0,h=void 0,r=i._xScale,a=i._yScale||i._scale,o=i._index,s=i._datasetIndex,l=i._chart.getDatasetMeta(s).controller,c=l._getIndexScale(),h=l._getValueScale(),{xLabel:r?r.getLabelForIndex(o,s):"",yLabel:a?a.getLabelForIndex(o,s):"",label:c?""+c.getLabelForIndex(o,s):"",value:h?""+h.getLabelForIndex(o,s):"",index:o,datasetIndex:s,x:i._model.x,y:i._model.y}));d.filter&&(k=k.filter((function(t){return d.filter(t,g)}))),d.itemSort&&(k=k.sort((function(t,e){return d.itemSort(t,e,g)}))),ht.each(k,(function(t){x.push(d.callbacks.labelColor.call(u,t,u._chart)),w.push(d.callbacks.labelTextColor.call(u,t,u._chart))})),p.title=u.getTitle(k,g),p.beforeBody=u.getBeforeBody(k,g),p.body=u.getBody(k,g),p.afterBody=u.getAfterBody(k,g),p.footer=u.getFooter(k,g),p.x=_.x,p.y=_.y,p.caretPadding=d.caretPadding,p.labelColors=x,p.labelTextColors=w,p.dataPoints=k,b=function(t,e){var n=t._chart.ctx,i=2*e.yPadding,r=0,a=e.body,o=a.reduce((function(t,e){return t+e.before.length+e.lines.length+e.after.length}),0);o+=e.beforeBody.length+e.afterBody.length;var s=e.title.length,l=e.footer.length,c=e.titleFontSize,h=e.bodyFontSize,u=e.footerFontSize;i+=s*c,i+=s?(s-1)*e.titleSpacing:0,i+=s?e.titleMarginBottom:0,i+=o*h,i+=o?(o-1)*e.bodySpacing:0,i+=l?e.footerMarginTop:0,i+=l*u,i+=l?(l-1)*e.footerSpacing:0;var d=0,f=function(t){r=Math.max(r,n.measureText(t).width+d)};return n.font=ht.fontString(c,e._titleFontStyle,e._titleFontFamily),ht.each(e.title,f),n.font=ht.fontString(h,e._bodyFontStyle,e._bodyFontFamily),ht.each(e.beforeBody.concat(e.afterBody),f),d=e.displayColors?h+2:0,ht.each(a,(function(t){ht.each(t.before,f),ht.each(t.lines,f),ht.each(t.after,f)})),d=0,n.font=ht.fontString(u,e._footerFontStyle,e._footerFontFamily),ht.each(e.footer,f),{width:r+=2*e.xPadding,height:i}}(this,p),y=function(t,e,n,i){var r=t.x,a=t.y,o=t.caretSize,s=t.caretPadding,l=t.cornerRadius,c=n.xAlign,h=n.yAlign,u=o+s,d=l+s;return"right"===c?r-=e.width:"center"===c&&((r-=e.width/2)+e.width>i.width&&(r=i.width-e.width),r<0&&(r=0)),"top"===h?a+=u:a-="bottom"===h?e.height+u:e.height/2,"center"===h?"left"===c?r+=u:"right"===c&&(r-=u):"left"===c?r-=d:"right"===c&&(r+=d),{x:r,y:a}}(p,b,v=function(t,e){var n,i,r,a,o,s=t._model,l=t._chart,c=t._chart.chartArea,h="center",u="center";s.y<e.height?u="top":s.y>l.height-e.height&&(u="bottom");var d=(c.left+c.right)/2,f=(c.top+c.bottom)/2;"center"===u?(n=function(t){return t<=d},i=function(t){return t>d}):(n=function(t){return t<=e.width/2},i=function(t){return t>=l.width-e.width/2}),r=function(t){return t+e.width+s.caretSize+s.caretPadding>l.width},a=function(t){return t-e.width-s.caretSize-s.caretPadding<0},o=function(t){return t<=f?"top":"bottom"},n(s.x)?(h="left",r(s.x)&&(h="center",u=o(s.y))):i(s.x)&&(h="right",a(s.x)&&(h="center",u=o(s.y)));var p=t._options;return{xAlign:p.xAlign?p.xAlign:h,yAlign:p.yAlign?p.yAlign:u}}(this,b),u._chart)}else p.opacity=0;return p.xAlign=v.xAlign,p.yAlign=v.yAlign,p.x=y.x,p.y=y.y,p.width=b.width,p.height=b.height,p.caretX=_.x,p.caretY=_.y,u._model=p,t&&d.custom&&d.custom.call(u,p),u},drawCaret:function(t,e){var n=this._chart.ctx,i=this._view,r=this.getCaretPosition(t,e,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)},getCaretPosition:function(t,e,n){var i,r,a,o,s,l,c=n.caretSize,h=n.cornerRadius,u=n.xAlign,d=n.yAlign,f=t.x,p=t.y,m=e.width,g=e.height;if("center"===d)s=p+g/2,"left"===u?(r=(i=f)-c,a=i,o=s+c,l=s-c):(r=(i=f+m)+c,a=i,o=s-c,l=s+c);else if("left"===u?(i=(r=f+h+c)-c,a=r+c):"right"===u?(i=(r=f+m-h-c)-c,a=r+c):(i=(r=n.caretX)-c,a=r+c),"top"===d)s=(o=p)-c,l=o;else{s=(o=p+g)+c,l=o;var v=a;a=i,i=v}return{x1:i,x2:r,x3:a,y1:o,y2:s,y3:l}},drawTitle:function(t,e,n){var i=e.title;if(i.length){t.x=$e(e,e._titleAlign),n.textAlign=e._titleAlign,n.textBaseline="top";var r,a,o=e.titleFontSize,s=e.titleSpacing;for(n.fillStyle=e.titleFontColor,n.font=ht.fontString(o,e._titleFontStyle,e._titleFontFamily),r=0,a=i.length;r<a;++r)n.fillText(i[r],t.x,t.y),t.y+=o+s,r+1===i.length&&(t.y+=e.titleMarginBottom-s)}},drawBody:function(t,e,n){var i,r=e.bodyFontSize,a=e.bodySpacing,o=e._bodyAlign,s=e.body,l=e.displayColors,c=e.labelColors,h=0,u=l?$e(e,"left"):0;n.textAlign=o,n.textBaseline="top",n.font=ht.fontString(r,e._bodyFontStyle,e._bodyFontFamily),t.x=$e(e,o);var d=function(e){n.fillText(e,t.x+h,t.y),t.y+=r+a};n.fillStyle=e.bodyFontColor,ht.each(e.beforeBody,d),h=l&&"right"!==o?"center"===o?r/2+1:r+2:0,ht.each(s,(function(a,o){i=e.labelTextColors[o],n.fillStyle=i,ht.each(a.before,d),ht.each(a.lines,(function(a){l&&(n.fillStyle=e.legendColorBackground,n.fillRect(u,t.y,r,r),n.lineWidth=1,n.strokeStyle=c[o].borderColor,n.strokeRect(u,t.y,r,r),n.fillStyle=c[o].backgroundColor,n.fillRect(u+1,t.y+1,r-2,r-2),n.fillStyle=i),d(a)})),ht.each(a.after,d)})),h=0,ht.each(e.afterBody,d),t.y-=a},drawFooter:function(t,e,n){var i=e.footer;i.length&&(t.x=$e(e,e._footerAlign),t.y+=e.footerMarginTop,n.textAlign=e._footerAlign,n.textBaseline="top",n.fillStyle=e.footerFontColor,n.font=ht.fontString(e.footerFontSize,e._footerFontStyle,e._footerFontFamily),ht.each(i,(function(i){n.fillText(i,t.x,t.y),t.y+=e.footerFontSize+e.footerSpacing})))},drawBackground:function(t,e,n,i){n.fillStyle=e.backgroundColor,n.strokeStyle=e.borderColor,n.lineWidth=e.borderWidth;var r=e.xAlign,a=e.yAlign,o=t.x,s=t.y,l=i.width,c=i.height,h=e.cornerRadius;n.beginPath(),n.moveTo(o+h,s),"top"===a&&this.drawCaret(t,i),n.lineTo(o+l-h,s),n.quadraticCurveTo(o+l,s,o+l,s+h),"center"===a&&"right"===r&&this.drawCaret(t,i),n.lineTo(o+l,s+c-h),n.quadraticCurveTo(o+l,s+c,o+l-h,s+c),"bottom"===a&&this.drawCaret(t,i),n.lineTo(o+h,s+c),n.quadraticCurveTo(o,s+c,o,s+c-h),"center"===a&&"left"===r&&this.drawCaret(t,i),n.lineTo(o,s+h),n.quadraticCurveTo(o,s,o+h,s),n.closePath(),n.fill(),e.borderWidth>0&&n.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var n={width:e.width,height:e.height},i={x:e.x,y:e.y},r=Math.abs(e.opacity<.001)?0:e.opacity,a=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;this._options.enabled&&a&&(t.save(),t.globalAlpha=r,this.drawBackground(i,e,t,n),i.y+=e.yPadding,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),t.restore())}},handleEvent:function(t){var e,n=this,i=n._options;return n._lastActive=n._lastActive||[],"mouseout"===t.type?n._active=[]:n._active=n._chart.getElementsAtEventForMode(t,i.mode,i),(e=!ht.arrayEquals(n._active,n._lastActive))&&(n._lastActive=n._active,(i.enabled||i.custom)&&(n._eventPosition={x:t.x,y:t.y},n.update(!0),n.pivot())),e}}),Ue=je,Ge=He;Ge.positioners=Ue;var Xe=ht.valueOrDefault;function Ze(){return ht.merge({},[].slice.call(arguments),{merger:function(t,e,n,i){if("xAxes"===t||"yAxes"===t){var r,a,o,s=n[t].length;for(e[t]||(e[t]=[]),r=0;r<s;++r)o=n[t][r],a=Xe(o.type,"xAxes"===t?"category":"linear"),r>=e[t].length&&e[t].push({}),!e[t][r].type||o.type&&o.type!==e[t][r].type?ht.merge(e[t][r],[ze.getScaleDefaults(a),o]):ht.merge(e[t][r],o)}else ht._merger(t,e,n,i)}})}function Je(){return ht.merge({},[].slice.call(arguments),{merger:function(t,e,n,i){var r=e[t]||{},a=n[t];"scales"===t?e[t]=Ze(r,a):"scale"===t?e[t]=ht.merge(r,[ze.getScaleDefaults(a.type),a]):ht._merger(t,e,n,i)}})}function Ke(t){var e=t.options;ht.each(t.scales,(function(e){we.removeBox(t,e)})),e=Je(st.global,st[t.config.type],e),t.options=t.config.options=e,t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.tooltip._options=e.tooltips,t.tooltip.initialize()}function Qe(t){return"top"===t||"bottom"===t}st._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var tn=function(t,e){return this.construct(t,e),this};ht.extend(tn.prototype,{construct:function(t,e){var n=this;e=function(t){var e=(t=t||{}).data=t.data||{};return e.datasets=e.datasets||[],e.labels=e.labels||[],t.options=Je(st.global,st[t.type],t.options||{}),t}(e);var i=Re.acquireContext(t,e),r=i&&i.canvas,a=r&&r.height,o=r&&r.width;n.id=ht.uid(),n.ctx=i,n.canvas=r,n.config=e,n.width=o,n.height=a,n.aspectRatio=a?o/a:null,n.options=e.options,n._bufferedRender=!1,n.chart=n,n.controller=n,tn.instances[n.id]=n,Object.defineProperty(n,"data",{get:function(){return n.config.data},set:function(t){n.config.data=t}}),i&&r?(n.initialize(),n.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var t=this;return Le.notify(t,"beforeInit"),ht.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.initToolTip(),Le.notify(t,"afterInit"),t},clear:function(){return ht.canvas.clear(this),this},stop:function(){return yt.cancelAnimation(this),this},resize:function(t){var e=this,n=e.options,i=e.canvas,r=n.maintainAspectRatio&&e.aspectRatio||null,a=Math.max(0,Math.floor(ht.getMaximumWidth(i))),o=Math.max(0,Math.floor(r?a/r:ht.getMaximumHeight(i)));if((e.width!==a||e.height!==o)&&(i.width=e.width=a,i.height=e.height=o,i.style.width=a+"px",i.style.height=o+"px",ht.retinaScale(e,n.devicePixelRatio),!t)){var s={width:a,height:o};Le.notify(e,"resize",[s]),n.onResize&&n.onResize(e,s),e.stop(),e.update({duration:n.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},n=t.scale;ht.each(e.xAxes,(function(t,e){t.id=t.id||"x-axis-"+e})),ht.each(e.yAxes,(function(t,e){t.id=t.id||"y-axis-"+e})),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var t=this,e=t.options,n=t.scales||{},i=[],r=Object.keys(n).reduce((function(t,e){return t[e]=!1,t}),{});e.scales&&(i=i.concat((e.scales.xAxes||[]).map((function(t){return{options:t,dtype:"category",dposition:"bottom"}})),(e.scales.yAxes||[]).map((function(t){return{options:t,dtype:"linear",dposition:"left"}})))),e.scale&&i.push({options:e.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),ht.each(i,(function(e){var i=e.options,a=i.id,o=Xe(i.type,e.dtype);Qe(i.position)!==Qe(e.dposition)&&(i.position=e.dposition),r[a]=!0;var s=null;if(a in n&&n[a].type===o)(s=n[a]).options=i,s.ctx=t.ctx,s.chart=t;else{var l=ze.getScaleConstructor(o);if(!l)return;s=new l({id:a,type:o,options:i,ctx:t.ctx,chart:t}),n[s.id]=s}s.mergeTicksOptions(),e.isDefault&&(t.scale=s)})),ht.each(r,(function(t,e){t||delete n[e]})),t.scales=n,ze.addScalesToLayout(this)},buildOrUpdateControllers:function(){var t=this,e=[];return ht.each(t.data.datasets,(function(n,i){var r=t.getDatasetMeta(i),a=n.type||t.config.type;if(r.type&&r.type!==a&&(t.destroyDatasetMeta(i),r=t.getDatasetMeta(i)),r.type=a,r.controller)r.controller.updateIndex(i),r.controller.linkScales();else{var o=he[r.type];if(void 0===o)throw new Error('"'+r.type+'" is not a chart type.');r.controller=new o(t,i),e.push(r.controller)}}),t),e},resetElements:function(){var t=this;ht.each(t.data.datasets,(function(e,n){t.getDatasetMeta(n).controller.reset()}),t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var e=this;if(t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]}),Ke(e),Le._invalidate(e),!1!==Le.notify(e,"beforeUpdate")){e.tooltip._data=e.data;var n=e.buildOrUpdateControllers();ht.each(e.data.datasets,(function(t,n){e.getDatasetMeta(n).controller.buildOrUpdateElements()}),e),e.updateLayout(),e.options.animation&&e.options.animation.duration&&ht.each(n,(function(t){t.reset()})),e.updateDatasets(),e.tooltip.initialize(),e.lastActive=[],Le.notify(e,"afterUpdate"),e._bufferedRender?e._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:e.render(t)}},updateLayout:function(){!1!==Le.notify(this,"beforeLayout")&&(we.update(this,this.width,this.height),Le.notify(this,"afterScaleUpdate"),Le.notify(this,"afterLayout"))},updateDatasets:function(){if(!1!==Le.notify(this,"beforeDatasetsUpdate")){for(var t=0,e=this.data.datasets.length;t<e;++t)this.updateDataset(t);Le.notify(this,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this.getDatasetMeta(t),n={meta:e,index:t};!1!==Le.notify(this,"beforeDatasetUpdate",[n])&&(e.controller.update(),Le.notify(this,"afterDatasetUpdate",[n]))},render:function(t){var e=this;t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]});var n=e.options.animation,i=Xe(t.duration,n&&n.duration),r=t.lazy;if(!1!==Le.notify(e,"beforeRender")){var a=function(t){Le.notify(e,"afterRender"),ht.callback(n&&n.onComplete,[t],e)};if(n&&i){var o=new vt({numSteps:i/16.66,easing:t.easing||n.easing,render:function(t,e){var n=ht.easing.effects[e.easing],i=e.currentStep,r=i/e.numSteps;t.draw(n(r),r,i)},onAnimationProgress:n.onProgress,onAnimationComplete:a});yt.addAnimation(e,o,i,r)}else e.draw(),a(new vt({numSteps:0,chart:e}));return e}},draw:function(t){var e=this;e.clear(),ht.isNullOrUndef(t)&&(t=1),e.transition(t),e.width<=0||e.height<=0||!1!==Le.notify(e,"beforeDraw",[t])&&(ht.each(e.boxes,(function(t){t.draw(e.chartArea)}),e),e.drawDatasets(t),e._drawTooltip(t),Le.notify(e,"afterDraw",[t]))},transition:function(t){for(var e=0,n=(this.data.datasets||[]).length;e<n;++e)this.isDatasetVisible(e)&&this.getDatasetMeta(e).controller.transition(t);this.tooltip.transition(t)},drawDatasets:function(t){var e=this;if(!1!==Le.notify(e,"beforeDatasetsDraw",[t])){for(var n=(e.data.datasets||[]).length-1;n>=0;--n)e.isDatasetVisible(n)&&e.drawDataset(n,t);Le.notify(e,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var n=this.getDatasetMeta(t),i={meta:n,index:t,easingValue:e};!1!==Le.notify(this,"beforeDatasetDraw",[i])&&(n.controller.draw(e),Le.notify(this,"afterDatasetDraw",[i]))},_drawTooltip:function(t){var e=this.tooltip,n={tooltip:e,easingValue:t};!1!==Le.notify(this,"beforeTooltipDraw",[n])&&(e.draw(),Le.notify(this,"afterTooltipDraw",[n]))},getElementAtEvent:function(t){return ve.modes.single(this,t)},getElementsAtEvent:function(t){return ve.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return ve.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,n){var i=ve.modes[e];return"function"==typeof i?i(this,t,n):[]},getDatasetAtEvent:function(t){return ve.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this.data.datasets[t];e._meta||(e._meta={});var n=e._meta[this.id];return n||(n=e._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),n},getVisibleDatasetCount:function(){for(var t=0,e=0,n=this.data.datasets.length;e<n;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,n=this.data.datasets[t],i=n._meta&&n._meta[e];i&&(i.controller.destroy(),delete n._meta[e])},destroy:function(){var t,e,n=this,i=n.canvas;for(n.stop(),t=0,e=n.data.datasets.length;t<e;++t)n.destroyDatasetMeta(t);i&&(n.unbindEvents(),ht.canvas.clear(n),Re.releaseContext(n.ctx),n.canvas=null,n.ctx=null),Le.notify(n,"destroy"),delete tn.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new Ge({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var t=this,e=t._listeners={},n=function(){t.eventHandler.apply(t,arguments)};ht.each(t.options.events,(function(i){Re.addEventListener(t,i,n),e[i]=n})),t.options.responsive&&(n=function(){t.resize()},Re.addEventListener(t,"resize",n),e.resize=n)},unbindEvents:function(){var t=this,e=t._listeners;e&&(delete t._listeners,ht.each(e,(function(e,n){Re.removeEventListener(t,n,e)})))},updateHoverStyle:function(t,e,n){var i,r,a,o=n?"setHoverStyle":"removeHoverStyle";for(r=0,a=t.length;r<a;++r)(i=t[r])&&this.getDatasetMeta(i._datasetIndex).controller[o](i)},eventHandler:function(t){var e=this,n=e.tooltip;if(!1!==Le.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var i=e.handleEvent(t);n&&(i=n._start?n.handleEvent(t):i|n.handleEvent(t)),Le.notify(e,"afterEvent",[t]);var r=e._bufferedRequest;return r?e.render(r):i&&!e.animating&&(e.stop(),e.render({duration:e.options.hover.animationDuration,lazy:!0})),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e,n=this,i=n.options||{},r=i.hover;return n.lastActive=n.lastActive||[],"mouseout"===t.type?n.active=[]:n.active=n.getElementsAtEventForMode(t,r.mode,r),ht.callback(i.onHover||i.hover.onHover,[t.native,n.active],n),"mouseup"!==t.type&&"click"!==t.type||i.onClick&&i.onClick.call(n,t.native,n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,r.mode,!1),n.active.length&&r.mode&&n.updateHoverStyle(n.active,r.mode,!0),e=!ht.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,e}}),tn.instances={};var en=tn;function nn(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function rn(t){this.options=t||{}}tn.Controller=tn,tn.types={},ht.configMerge=Je,ht.scaleMerge=Ze,ht.extend(rn.prototype,{formats:nn,parse:nn,format:nn,add:nn,diff:nn,startOf:nn,endOf:nn,_create:function(t){return t}}),rn.override=function(t){ht.extend(rn.prototype,t)};var an={_date:rn},on={formatters:{values:function(t){return ht.isArray(t)?t:""+t},linear:function(t,e,n){var i=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(i)>1&&t!==Math.floor(t)&&(i=t-Math.floor(t));var r=ht.log10(Math.abs(i)),a="";if(0!==t)if(Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4){var o=ht.log10(Math.abs(t));a=t.toExponential(Math.floor(o)-Math.floor(r))}else{var s=-1*Math.floor(r);s=Math.max(Math.min(s,20),0),a=t.toFixed(s)}else a="0";return a},logarithmic:function(t,e,n){var i=t/Math.pow(10,Math.floor(ht.log10(t)));return 0===t?"0":1===i||2===i||5===i||0===e||e===n.length-1?t.toExponential():""}}},sn=ht.valueOrDefault,ln=ht.valueAtIndexOrDefault;function cn(t){var e,n,i=[];for(e=0,n=t.length;e<n;++e)i.push(t[e].label);return i}function hn(t,e,n){return ht.isArray(e)?ht.longestText(t,n,e):t.measureText(e).width}st._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:on.formatters.values,minor:{},major:{}}});var un=mt.extend({getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var t=this.options.ticks;for(var e in!1===t.minor&&(t.minor={display:!1}),!1===t.major&&(t.major={display:!1}),t)"major"!==e&&"minor"!==e&&(void 0===t.minor[e]&&(t.minor[e]=t[e]),void 0===t.major[e]&&(t.major[e]=t[e]))},beforeUpdate:function(){ht.callback(this.options.beforeUpdate,[this])},update:function(t,e,n){var i,r,a,o,s,l,c=this;for(c.beforeUpdate(),c.maxWidth=t,c.maxHeight=e,c.margins=ht.extend({left:0,right:0,top:0,bottom:0},n),c._maxLabelLines=0,c.longestLabelWidth=0,c.longestTextCache=c.longestTextCache||{},c.beforeSetDimensions(),c.setDimensions(),c.afterSetDimensions(),c.beforeDataLimits(),c.determineDataLimits(),c.afterDataLimits(),c.beforeBuildTicks(),s=c.buildTicks()||[],s=c.afterBuildTicks(s)||s,c.beforeTickToLabelConversion(),a=c.convertTicksToLabels(s)||c.ticks,c.afterTickToLabelConversion(),c.ticks=a,i=0,r=a.length;i<r;++i)o=a[i],(l=s[i])?l.label=o:s.push(l={label:o,major:!1});return c._ticks=s,c.beforeCalculateTickRotation(),c.calculateTickRotation(),c.afterCalculateTickRotation(),c.beforeFit(),c.fit(),c.afterFit(),c.afterUpdate(),c.minSize},afterUpdate:function(){ht.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){ht.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){ht.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){ht.callback(this.options.beforeDataLimits,[this])},determineDataLimits:ht.noop,afterDataLimits:function(){ht.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){ht.callback(this.options.beforeBuildTicks,[this])},buildTicks:ht.noop,afterBuildTicks:function(t){var e=this;return ht.isArray(t)&&t.length?ht.callback(e.options.afterBuildTicks,[e,t]):(e.ticks=ht.callback(e.options.afterBuildTicks,[e,e.ticks])||e.ticks,t)},beforeTickToLabelConversion:function(){ht.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this.options.ticks;this.ticks=this.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){ht.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){ht.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t=this,e=t.ctx,n=t.options.ticks,i=cn(t._ticks),r=ht.options._parseFont(n);e.font=r.string;var a=n.minRotation||0;if(i.length&&t.options.display&&t.isHorizontal())for(var o,s=ht.longestText(e,r.string,i,t.longestTextCache),l=s,c=t.getPixelForTick(1)-t.getPixelForTick(0)-6;l>c&&a<n.maxRotation;){var h=ht.toRadians(a);if(o=Math.cos(h),Math.sin(h)*s>t.maxHeight){a--;break}a++,l=o*s}t.labelRotation=a},afterCalculateTickRotation:function(){ht.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){ht.callback(this.options.beforeFit,[this])},fit:function(){var t=this,e=t.minSize={width:0,height:0},n=cn(t._ticks),i=t.options,r=i.ticks,a=i.scaleLabel,o=i.gridLines,s=t._isVisible(),l=i.position,c=t.isHorizontal(),h=ht.options._parseFont,u=h(r),d=i.gridLines.tickMarkLength;if(e.width=c?t.isFullWidth()?t.maxWidth-t.margins.left-t.margins.right:t.maxWidth:s&&o.drawTicks?d:0,e.height=c?s&&o.drawTicks?d:0:t.maxHeight,a.display&&s){var f=h(a),p=ht.options.toPadding(a.padding),m=f.lineHeight+p.height;c?e.height+=m:e.width+=m}if(r.display&&s){var g=ht.longestText(t.ctx,u.string,n,t.longestTextCache),v=ht.numberOfLabelLines(n),y=.5*u.size,b=t.options.ticks.padding;if(t._maxLabelLines=v,t.longestLabelWidth=g,c){var _=ht.toRadians(t.labelRotation),x=Math.cos(_),w=Math.sin(_)*g+u.lineHeight*v+y;e.height=Math.min(t.maxHeight,e.height+w+b),t.ctx.font=u.string;var k,C,S=hn(t.ctx,n[0],u.string),A=hn(t.ctx,n[n.length-1],u.string),M=t.getPixelForTick(0)-t.left,T=t.right-t.getPixelForTick(n.length-1);0!==t.labelRotation?(k="bottom"===l?x*S:x*y,C="bottom"===l?x*y:x*A):(k=S/2,C=A/2),t.paddingLeft=Math.max(k-M,0)+3,t.paddingRight=Math.max(C-T,0)+3}else r.mirror?g=0:g+=b+y,e.width=Math.min(t.maxWidth,e.width+g),t.paddingTop=u.size/2,t.paddingBottom=u.size/2}t.handleMargins(),t.width=e.width,t.height=e.height},handleMargins:function(){var t=this;t.margins&&(t.paddingLeft=Math.max(t.paddingLeft-t.margins.left,0),t.paddingTop=Math.max(t.paddingTop-t.margins.top,0),t.paddingRight=Math.max(t.paddingRight-t.margins.right,0),t.paddingBottom=Math.max(t.paddingBottom-t.margins.bottom,0))},afterFit:function(){ht.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(ht.isNullOrUndef(t))return NaN;if(("number"==typeof t||t instanceof Number)&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},getLabelForIndex:ht.noop,getPixelForValue:ht.noop,getValueForPixel:ht.noop,getPixelForTick:function(t){var e=this,n=e.options.offset;if(e.isHorizontal()){var i=(e.width-(e.paddingLeft+e.paddingRight))/Math.max(e._ticks.length-(n?0:1),1),r=i*t+e.paddingLeft;n&&(r+=i/2);var a=e.left+r;return a+=e.isFullWidth()?e.margins.left:0}var o=e.height-(e.paddingTop+e.paddingBottom);return e.top+t*(o/(e._ticks.length-1))},getPixelForDecimal:function(t){var e=this;if(e.isHorizontal()){var n=(e.width-(e.paddingLeft+e.paddingRight))*t+e.paddingLeft,i=e.left+n;return i+=e.isFullWidth()?e.margins.left:0}return e.top+t*e.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this.min,e=this.max;return this.beginAtZero?0:t<0&&e<0?e:t>0&&e>0?t:0},_autoSkip:function(t){var e,n,i=this,r=i.isHorizontal(),a=i.options.ticks.minor,o=t.length,s=!1,l=a.maxTicksLimit,c=i._tickSize()*(o-1),h=r?i.width-(i.paddingLeft+i.paddingRight):i.height-(i.paddingTop+i.PaddingBottom),u=[];for(c>h&&(s=1+Math.floor(c/h)),o>l&&(s=Math.max(s,1+Math.floor(o/l))),e=0;e<o;e++)n=t[e],s>1&&e%s>0&&delete n.label,u.push(n);return u},_tickSize:function(){var t=this,e=t.isHorizontal(),n=t.options.ticks.minor,i=ht.toRadians(t.labelRotation),r=Math.abs(Math.cos(i)),a=Math.abs(Math.sin(i)),o=n.autoSkipPadding||0,s=t.longestLabelWidth+o||0,l=ht.options._parseFont(n),c=t._maxLabelLines*l.lineHeight+o||0;return e?c*r>s*a?s/r:c/a:c*a<s*r?c/r:s/a},_isVisible:function(){var t,e,n,i=this.chart,r=this.options.display;if("auto"!==r)return!!r;for(t=0,e=i.data.datasets.length;t<e;++t)if(i.isDatasetVisible(t)&&((n=i.getDatasetMeta(t)).xAxisID===this.id||n.yAxisID===this.id))return!0;return!1},draw:function(t){var e=this,n=e.options;if(e._isVisible()){var i,r,a,o=e.chart,s=e.ctx,l=st.global.defaultFontColor,c=n.ticks.minor,h=n.ticks.major||c,u=n.gridLines,d=n.scaleLabel,f=n.position,p=0!==e.labelRotation,m=c.mirror,g=e.isHorizontal(),v=ht.options._parseFont,y=c.display&&c.autoSkip?e._autoSkip(e.getTicks()):e.getTicks(),b=sn(c.fontColor,l),_=v(c),x=_.lineHeight,w=sn(h.fontColor,l),k=v(h),C=c.padding,S=c.labelOffset,A=u.drawTicks?u.tickMarkLength:0,M=sn(d.fontColor,l),T=v(d),D=ht.options.toPadding(d.padding),P=ht.toRadians(e.labelRotation),O=[],I=u.drawBorder?ln(u.lineWidth,0,0):0,N=ht._alignPixel;if("top"===f?(i=N(o,e.bottom,I),r=e.bottom-A,a=i-I/2):"bottom"===f?(i=N(o,e.top,I),r=i+I/2,a=e.top+A):"left"===f?(i=N(o,e.right,I),r=e.right-A,a=i-I/2):(i=N(o,e.left,I),r=i+I/2,a=e.left+A),ht.each(y,(function(i,s){if(!ht.isNullOrUndef(i.label)){var l,c,h,d,v,y,b,_,w,k,M,T,D,F,E,R,L=i.label;s===e.zeroLineIndex&&n.offset===u.offsetGridLines?(l=u.zeroLineWidth,c=u.zeroLineColor,h=u.zeroLineBorderDash||[],d=u.zeroLineBorderDashOffset||0):(l=ln(u.lineWidth,s),c=ln(u.color,s),h=u.borderDash||[],d=u.borderDashOffset||0);var z=ht.isArray(L)?L.length:1,W=function(t,e,n){var i=t.getPixelForTick(e);return n&&(1===t.getTicks().length?i-=t.isHorizontal()?Math.max(i-t.left,t.right-i):Math.max(i-t.top,t.bottom-i):i-=0===e?(t.getPixelForTick(1)-i)/2:(i-t.getPixelForTick(e-1))/2),i}(e,s,u.offsetGridLines);if(g){var j=A+C;W<e.left-1e-7&&(c="rgba(0,0,0,0)"),v=b=w=M=N(o,W,l),y=r,_=a,D=e.getPixelForTick(s)+S,"top"===f?(k=N(o,t.top,I)+I/2,T=t.bottom,E=((p?1:.5)-z)*x,R=p?"left":"center",F=e.bottom-j):(k=t.top,T=N(o,t.bottom,I)-I/2,E=(p?0:.5)*x,R=p?"right":"center",F=e.top+j)}else{var B=(m?0:A)+C;W<e.top-1e-7&&(c="rgba(0,0,0,0)"),v=r,b=a,y=_=k=T=N(o,W,l),F=e.getPixelForTick(s)+S,E=(1-z)*x/2,"left"===f?(w=N(o,t.left,I)+I/2,M=t.right,R=m?"left":"right",D=e.right-B):(w=t.left,M=N(o,t.right,I)-I/2,R=m?"right":"left",D=e.left+B)}O.push({tx1:v,ty1:y,tx2:b,ty2:_,x1:w,y1:k,x2:M,y2:T,labelX:D,labelY:F,glWidth:l,glColor:c,glBorderDash:h,glBorderDashOffset:d,rotation:-1*P,label:L,major:i.major,textOffset:E,textAlign:R})}})),ht.each(O,(function(t){var e=t.glWidth,n=t.glColor;if(u.display&&e&&n&&(s.save(),s.lineWidth=e,s.strokeStyle=n,s.setLineDash&&(s.setLineDash(t.glBorderDash),s.lineDashOffset=t.glBorderDashOffset),s.beginPath(),u.drawTicks&&(s.moveTo(t.tx1,t.ty1),s.lineTo(t.tx2,t.ty2)),u.drawOnChartArea&&(s.moveTo(t.x1,t.y1),s.lineTo(t.x2,t.y2)),s.stroke(),s.restore()),c.display){s.save(),s.translate(t.labelX,t.labelY),s.rotate(t.rotation),s.font=t.major?k.string:_.string,s.fillStyle=t.major?w:b,s.textBaseline="middle",s.textAlign=t.textAlign;var i=t.label,r=t.textOffset;if(ht.isArray(i))for(var a=0;a<i.length;++a)s.fillText(""+i[a],0,r),r+=x;else s.fillText(i,0,r);s.restore()}})),d.display){var F,E,R=0,L=T.lineHeight/2;if(g)F=e.left+(e.right-e.left)/2,E="bottom"===f?e.bottom-L-D.bottom:e.top+L+D.top;else{var z="left"===f;F=z?e.left+L+D.top:e.right-L-D.top,E=e.top+(e.bottom-e.top)/2,R=z?-.5*Math.PI:.5*Math.PI}s.save(),s.translate(F,E),s.rotate(R),s.textAlign="center",s.textBaseline="middle",s.fillStyle=M,s.font=T.string,s.fillText(d.labelString,0,0),s.restore()}if(I){var W,j,B,V,q=I,$=ln(u.lineWidth,y.length-1,0);g?(W=N(o,e.left,q)-q/2,j=N(o,e.right,$)+$/2,B=V=i):(B=N(o,e.top,q)-q/2,V=N(o,e.bottom,$)+$/2,W=j=i),s.lineWidth=I,s.strokeStyle=ln(u.color,0),s.beginPath(),s.moveTo(W,B),s.lineTo(j,V),s.stroke()}}}}),dn=un.extend({getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels},determineDataLimits:function(){var t,e=this,n=e.getLabels();e.minIndex=0,e.maxIndex=n.length-1,void 0!==e.options.ticks.min&&(t=n.indexOf(e.options.ticks.min),e.minIndex=-1!==t?t:e.minIndex),void 0!==e.options.ticks.max&&(t=n.indexOf(e.options.ticks.max),e.maxIndex=-1!==t?t:e.maxIndex),e.min=n[e.minIndex],e.max=n[e.maxIndex]},buildTicks:function(){var t=this,e=t.getLabels();t.ticks=0===t.minIndex&&t.maxIndex===e.length-1?e:e.slice(t.minIndex,t.maxIndex+1)},getLabelForIndex:function(t,e){var n=this,i=n.chart;return i.getDatasetMeta(e).controller._getValueScaleId()===n.id?n.getRightValue(i.data.datasets[e].data[t]):n.ticks[t-n.minIndex]},getPixelForValue:function(t,e){var n,i=this,r=i.options.offset,a=Math.max(i.maxIndex+1-i.minIndex-(r?0:1),1);if(null!=t&&(n=i.isHorizontal()?t.x:t.y),void 0!==n||void 0!==t&&isNaN(e)){t=n||t;var o=i.getLabels().indexOf(t);e=-1!==o?o:e}if(i.isHorizontal()){var s=i.width/a,l=s*(e-i.minIndex);return r&&(l+=s/2),i.left+l}var c=i.height/a,h=c*(e-i.minIndex);return r&&(h+=c/2),i.top+h},getPixelForTick:function(t){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null)},getValueForPixel:function(t){var e=this,n=e.options.offset,i=Math.max(e._ticks.length-(n?0:1),1),r=e.isHorizontal(),a=(r?e.width:e.height)/i;return t-=r?e.left:e.top,n&&(t-=a/2),(t<=0?0:Math.round(t/a))+e.minIndex},getBasePixel:function(){return this.bottom}}),fn={position:"bottom"};dn._defaults=fn;var pn=ht.noop,mn=ht.isNullOrUndef,gn=un.extend({getRightValue:function(t){return"string"==typeof t?+t:un.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;if(e.beginAtZero){var n=ht.sign(t.min),i=ht.sign(t.max);n<0&&i<0?t.max=0:n>0&&i>0&&(t.min=0)}var r=void 0!==e.min||void 0!==e.suggestedMin,a=void 0!==e.max||void 0!==e.suggestedMax;void 0!==e.min?t.min=e.min:void 0!==e.suggestedMin&&(null===t.min?t.min=e.suggestedMin:t.min=Math.min(t.min,e.suggestedMin)),void 0!==e.max?t.max=e.max:void 0!==e.suggestedMax&&(null===t.max?t.max=e.suggestedMax:t.max=Math.max(t.max,e.suggestedMax)),r!==a&&t.min>=t.max&&(r?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)},getTickLimit:function(){var t,e=this.options.ticks,n=e.stepSize,i=e.maxTicksLimit;return n?t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1:(t=this._computeTickLimit(),i=i||11),i&&(t=Math.min(i,t)),t},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:pn,buildTicks:function(){var t=this,e=t.options.ticks,n=t.getTickLimit(),i={maxTicks:n=Math.max(2,n),min:e.min,max:e.max,precision:e.precision,stepSize:ht.valueOrDefault(e.fixedStepSize,e.stepSize)},r=t.ticks=function(t,e){var n,i,r,a,o=[],s=t.stepSize,l=s||1,c=t.maxTicks-1,h=t.min,u=t.max,d=t.precision,f=e.min,p=e.max,m=ht.niceNum((p-f)/c/l)*l;if(m<1e-14&&mn(h)&&mn(u))return[f,p];(a=Math.ceil(p/m)-Math.floor(f/m))>c&&(m=ht.niceNum(a*m/c/l)*l),s||mn(d)?n=Math.pow(10,ht._decimalPlaces(m)):(n=Math.pow(10,d),m=Math.ceil(m*n)/n),i=Math.floor(f/m)*m,r=Math.ceil(p/m)*m,s&&(!mn(h)&&ht.almostWhole(h/m,m/1e3)&&(i=h),!mn(u)&&ht.almostWhole(u/m,m/1e3)&&(r=u)),a=(r-i)/m,a=ht.almostEquals(a,Math.round(a),m/1e3)?Math.round(a):Math.ceil(a),i=Math.round(i*n)/n,r=Math.round(r*n)/n,o.push(mn(h)?i:h);for(var g=1;g<a;++g)o.push(Math.round((i+g*m)*n)/n);return o.push(mn(u)?r:u),o}(i,t);t.handleDirectionalChanges(),t.max=ht.max(r),t.min=ht.min(r),e.reverse?(r.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),un.prototype.convertTicksToLabels.call(t)}}),vn={position:"left",ticks:{callback:on.formatters.linear}},yn=gn.extend({determineDataLimits:function(){var t=this,e=t.options,n=t.chart,i=n.data.datasets,r=t.isHorizontal();function a(e){return r?e.xAxisID===t.id:e.yAxisID===t.id}t.min=null,t.max=null;var o=e.stacked;if(void 0===o&&ht.each(i,(function(t,e){if(!o){var i=n.getDatasetMeta(e);n.isDatasetVisible(e)&&a(i)&&void 0!==i.stack&&(o=!0)}})),e.stacked||o){var s={};ht.each(i,(function(i,r){var o=n.getDatasetMeta(r),l=[o.type,void 0===e.stacked&&void 0===o.stack?r:"",o.stack].join(".");void 0===s[l]&&(s[l]={positiveValues:[],negativeValues:[]});var c=s[l].positiveValues,h=s[l].negativeValues;n.isDatasetVisible(r)&&a(o)&&ht.each(i.data,(function(n,i){var r=+t.getRightValue(n);isNaN(r)||o.data[i].hidden||(c[i]=c[i]||0,h[i]=h[i]||0,e.relativePoints?c[i]=100:r<0?h[i]+=r:c[i]+=r)}))})),ht.each(s,(function(e){var n=e.positiveValues.concat(e.negativeValues),i=ht.min(n),r=ht.max(n);t.min=null===t.min?i:Math.min(t.min,i),t.max=null===t.max?r:Math.max(t.max,r)}))}else ht.each(i,(function(e,i){var r=n.getDatasetMeta(i);n.isDatasetVisible(i)&&a(r)&&ht.each(e.data,(function(e,n){var i=+t.getRightValue(e);isNaN(i)||r.data[n].hidden||((null===t.min||i<t.min)&&(t.min=i),(null===t.max||i>t.max)&&(t.max=i))}))}));t.min=isFinite(t.min)&&!isNaN(t.min)?t.min:0,t.max=isFinite(t.max)&&!isNaN(t.max)?t.max:1,this.handleTickRangeOptions()},_computeTickLimit:function(){var t;return this.isHorizontal()?Math.ceil(this.width/40):(t=ht.options._parseFont(this.options.ticks),Math.ceil(this.height/t.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e=this,n=e.start,i=+e.getRightValue(t),r=e.end-n;return e.isHorizontal()?e.left+e.width/r*(i-n):e.bottom-e.height/r*(i-n)},getValueForPixel:function(t){var e=this,n=e.isHorizontal(),i=n?e.width:e.height,r=(n?t-e.left:e.bottom-t)/i;return e.start+(e.end-e.start)*r},getPixelForTick:function(t){return this.getPixelForValue(this.ticksAsNumbers[t])}}),bn=vn;yn._defaults=bn;var _n=ht.valueOrDefault,xn={position:"left",ticks:{callback:on.formatters.logarithmic}};function wn(t,e){return ht.isFinite(t)&&t>=0?t:e}var kn=un.extend({determineDataLimits:function(){var t=this,e=t.options,n=t.chart,i=n.data.datasets,r=t.isHorizontal();function a(e){return r?e.xAxisID===t.id:e.yAxisID===t.id}t.min=null,t.max=null,t.minNotZero=null;var o=e.stacked;if(void 0===o&&ht.each(i,(function(t,e){if(!o){var i=n.getDatasetMeta(e);n.isDatasetVisible(e)&&a(i)&&void 0!==i.stack&&(o=!0)}})),e.stacked||o){var s={};ht.each(i,(function(i,r){var o=n.getDatasetMeta(r),l=[o.type,void 0===e.stacked&&void 0===o.stack?r:"",o.stack].join(".");n.isDatasetVisible(r)&&a(o)&&(void 0===s[l]&&(s[l]=[]),ht.each(i.data,(function(e,n){var i=s[l],r=+t.getRightValue(e);isNaN(r)||o.data[n].hidden||r<0||(i[n]=i[n]||0,i[n]+=r)})))})),ht.each(s,(function(e){if(e.length>0){var n=ht.min(e),i=ht.max(e);t.min=null===t.min?n:Math.min(t.min,n),t.max=null===t.max?i:Math.max(t.max,i)}}))}else ht.each(i,(function(e,i){var r=n.getDatasetMeta(i);n.isDatasetVisible(i)&&a(r)&&ht.each(e.data,(function(e,n){var i=+t.getRightValue(e);isNaN(i)||r.data[n].hidden||i<0||((null===t.min||i<t.min)&&(t.min=i),(null===t.max||i>t.max)&&(t.max=i),0!==i&&(null===t.minNotZero||i<t.minNotZero)&&(t.minNotZero=i))}))}));this.handleTickRangeOptions()},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;t.min=wn(e.min,t.min),t.max=wn(e.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(ht.log10(t.min))-1),t.max=Math.pow(10,Math.floor(ht.log10(t.max))+1)):(t.min=1,t.max=10)),null===t.min&&(t.min=Math.pow(10,Math.floor(ht.log10(t.max))-1)),null===t.max&&(t.max=0!==t.min?Math.pow(10,Math.floor(ht.log10(t.min))+1):10),null===t.minNotZero&&(t.min>0?t.minNotZero=t.min:t.max<1?t.minNotZero=Math.pow(10,Math.floor(ht.log10(t.max))):t.minNotZero=1)},buildTicks:function(){var t=this,e=t.options.ticks,n=!t.isHorizontal(),i={min:wn(e.min),max:wn(e.max)},r=t.ticks=function(t,e){var n,i,r=[],a=_n(t.min,Math.pow(10,Math.floor(ht.log10(e.min)))),o=Math.floor(ht.log10(e.max)),s=Math.ceil(e.max/Math.pow(10,o));0===a?(n=Math.floor(ht.log10(e.minNotZero)),i=Math.floor(e.minNotZero/Math.pow(10,n)),r.push(a),a=i*Math.pow(10,n)):(n=Math.floor(ht.log10(a)),i=Math.floor(a/Math.pow(10,n)));var l=n<0?Math.pow(10,Math.abs(n)):1;do{r.push(a),10==++i&&(i=1,l=++n>=0?1:l),a=Math.round(i*Math.pow(10,n)*l)/l}while(n<o||n===o&&i<s);var c=_n(t.max,a);return r.push(c),r}(i,t);t.max=ht.max(r),t.min=ht.min(r),e.reverse?(n=!n,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),n&&r.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),un.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){return this.getPixelForValue(this.tickValues[t])},_getFirstTickValue:function(t){var e=Math.floor(ht.log10(t));return Math.floor(t/Math.pow(10,e))*Math.pow(10,e)},getPixelForValue:function(t){var e,n,i,r,a,o=this,s=o.options.ticks,l=s.reverse,c=ht.log10,h=o._getFirstTickValue(o.minNotZero),u=0;return t=+o.getRightValue(t),l?(i=o.end,r=o.start,a=-1):(i=o.start,r=o.end,a=1),o.isHorizontal()?(e=o.width,n=l?o.right:o.left):(e=o.height,a*=-1,n=l?o.top:o.bottom),t!==i&&(0===i&&(e-=u=_n(s.fontSize,st.global.defaultFontSize),i=h),0!==t&&(u+=e/(c(r)-c(i))*(c(t)-c(i))),n+=a*u),n},getValueForPixel:function(t){var e,n,i,r,a=this,o=a.options.ticks,s=o.reverse,l=ht.log10,c=a._getFirstTickValue(a.minNotZero);if(s?(n=a.end,i=a.start):(n=a.start,i=a.end),a.isHorizontal()?(e=a.width,r=s?a.right-t:t-a.left):(e=a.height,r=s?t-a.top:a.bottom-t),r!==n){if(0===n){var h=_n(o.fontSize,st.global.defaultFontSize);r-=h,e-=h,n=c}r*=l(i)-l(n),r/=e,r=Math.pow(10,l(n)+r)}return r}}),Cn=xn;kn._defaults=Cn;var Sn=ht.valueOrDefault,An=ht.valueAtIndexOrDefault,Mn=ht.options.resolve,Tn={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:on.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}};function Dn(t){var e=t.options;return e.angleLines.display||e.pointLabels.display?t.chart.data.labels.length:0}function Pn(t){var e=t.ticks;return e.display&&t.display?Sn(e.fontSize,st.global.defaultFontSize)+2*e.backdropPaddingY:0}function On(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function In(t){return 0===t||180===t?"center":t<180?"left":"right"}function Nn(t,e,n,i){var r,a,o=n.y+i/2;if(ht.isArray(e))for(r=0,a=e.length;r<a;++r)t.fillText(e[r],n.x,o),o+=i;else t.fillText(e,n.x,o)}function Fn(t,e,n){90===t||270===t?n.y-=e.h/2:(t>270||t<90)&&(n.y-=e.h)}function En(t){return ht.isNumber(t)?t:0}var Rn=gn.extend({setDimensions:function(){var t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=Pn(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2},determineDataLimits:function(){var t=this,e=t.chart,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;ht.each(e.data.datasets,(function(r,a){if(e.isDatasetVisible(a)){var o=e.getDatasetMeta(a);ht.each(r.data,(function(e,r){var a=+t.getRightValue(e);isNaN(a)||o.data[r].hidden||(n=Math.min(a,n),i=Math.max(a,i))}))}})),t.min=n===Number.POSITIVE_INFINITY?0:n,t.max=i===Number.NEGATIVE_INFINITY?0:i,t.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/Pn(this.options))},convertTicksToLabels:function(){var t=this;gn.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(t.options.pointLabels.callback,t)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t=this.options;t.display&&t.pointLabels.display?function(t){var e,n,i,r=ht.options._parseFont(t.options.pointLabels),a={l:0,r:t.width,t:0,b:t.height-t.paddingTop},o={};t.ctx.font=r.string,t._pointLabelSizes=[];var s,l,c,h=Dn(t);for(e=0;e<h;e++){i=t.getPointPosition(e,t.drawingArea+5),s=t.ctx,l=r.lineHeight,c=t.pointLabels[e]||"",n=ht.isArray(c)?{w:ht.longestText(s,s.font,c),h:c.length*l}:{w:s.measureText(c).width,h:l},t._pointLabelSizes[e]=n;var u=t.getIndexAngle(e),d=ht.toDegrees(u)%360,f=On(d,i.x,n.w,0,180),p=On(d,i.y,n.h,90,270);f.start<a.l&&(a.l=f.start,o.l=u),f.end>a.r&&(a.r=f.end,o.r=u),p.start<a.t&&(a.t=p.start,o.t=u),p.end>a.b&&(a.b=p.end,o.b=u)}t.setReductions(t.drawingArea,a,o)}(this):this.setCenterPoint(0,0,0,0)},setReductions:function(t,e,n){var i=this,r=e.l/Math.sin(n.l),a=Math.max(e.r-i.width,0)/Math.sin(n.r),o=-e.t/Math.cos(n.t),s=-Math.max(e.b-(i.height-i.paddingTop),0)/Math.cos(n.b);r=En(r),a=En(a),o=En(o),s=En(s),i.drawingArea=Math.min(Math.floor(t-(r+a)/2),Math.floor(t-(o+s)/2)),i.setCenterPoint(r,a,o,s)},setCenterPoint:function(t,e,n,i){var r=this,a=r.width-e-r.drawingArea,o=t+r.drawingArea,s=n+r.drawingArea,l=r.height-r.paddingTop-i-r.drawingArea;r.xCenter=Math.floor((o+a)/2+r.left),r.yCenter=Math.floor((s+l)/2+r.top+r.paddingTop)},getIndexAngle:function(t){return t*(2*Math.PI/Dn(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(null===t)return 0;var n=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*n:(t-e.min)*n},getPointPosition:function(t,e){var n=this.getIndexAngle(t)-Math.PI/2;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this.min,e=this.max;return this.getPointPositionForValue(0,this.beginAtZero?0:t<0&&e<0?e:t>0&&e>0?t:0)},draw:function(){var t=this,e=t.options,n=e.gridLines,i=e.ticks;if(e.display){var r=t.ctx,a=this.getIndexAngle(0),o=ht.options._parseFont(i);(e.angleLines.display||e.pointLabels.display)&&function(t){var e=t.ctx,n=t.options,i=n.angleLines,r=n.gridLines,a=n.pointLabels,o=Sn(i.lineWidth,r.lineWidth),s=Sn(i.color,r.color),l=Pn(n);e.save(),e.lineWidth=o,e.strokeStyle=s,e.setLineDash&&(e.setLineDash(Mn([i.borderDash,r.borderDash,[]])),e.lineDashOffset=Mn([i.borderDashOffset,r.borderDashOffset,0]));var c=t.getDistanceFromCenterForValue(n.ticks.reverse?t.min:t.max),h=ht.options._parseFont(a);e.font=h.string,e.textBaseline="middle";for(var u=Dn(t)-1;u>=0;u--){if(i.display&&o&&s){var d=t.getPointPosition(u,c);e.beginPath(),e.moveTo(t.xCenter,t.yCenter),e.lineTo(d.x,d.y),e.stroke()}if(a.display){var f=0===u?l/2:0,p=t.getPointPosition(u,c+f+5),m=An(a.fontColor,u,st.global.defaultFontColor);e.fillStyle=m;var g=t.getIndexAngle(u),v=ht.toDegrees(g);e.textAlign=In(v),Fn(v,t._pointLabelSizes[u],p),Nn(e,t.pointLabels[u]||"",p,h.lineHeight)}}e.restore()}(t),ht.each(t.ticks,(function(e,s){if(s>0||i.reverse){var l=t.getDistanceFromCenterForValue(t.ticksAsNumbers[s]);if(n.display&&0!==s&&function(t,e,n,i){var r,a=t.ctx,o=e.circular,s=Dn(t),l=An(e.color,i-1),c=An(e.lineWidth,i-1);if((o||s)&&l&&c){if(a.save(),a.strokeStyle=l,a.lineWidth=c,a.setLineDash&&(a.setLineDash(e.borderDash||[]),a.lineDashOffset=e.borderDashOffset||0),a.beginPath(),o)a.arc(t.xCenter,t.yCenter,n,0,2*Math.PI);else{r=t.getPointPosition(0,n),a.moveTo(r.x,r.y);for(var h=1;h<s;h++)r=t.getPointPosition(h,n),a.lineTo(r.x,r.y)}a.closePath(),a.stroke(),a.restore()}}(t,n,l,s),i.display){var c=Sn(i.fontColor,st.global.defaultFontColor);if(r.font=o.string,r.save(),r.translate(t.xCenter,t.yCenter),r.rotate(a),i.showLabelBackdrop){var h=r.measureText(e).width;r.fillStyle=i.backdropColor,r.fillRect(-h/2-i.backdropPaddingX,-l-o.size/2-i.backdropPaddingY,h+2*i.backdropPaddingX,o.size+2*i.backdropPaddingY)}r.textAlign="center",r.textBaseline="middle",r.fillStyle=c,r.fillText(e,0,-l),r.restore()}}}))}}}),Ln=Tn;Rn._defaults=Ln;var zn=ht.valueOrDefault,Wn=Number.MIN_SAFE_INTEGER||-9007199254740991,jn=Number.MAX_SAFE_INTEGER||9007199254740991,Bn={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,15,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,15,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},Vn=Object.keys(Bn);function qn(t,e){return t-e}function $n(t){var e,n,i,r={},a=[];for(e=0,n=t.length;e<n;++e)r[i=t[e]]||(r[i]=!0,a.push(i));return a}function Yn(t,e,n,i){var r=function(t,e,n){for(var i,r,a,o=0,s=t.length-1;o>=0&&o<=s;){if(r=t[(i=o+s>>1)-1]||null,a=t[i],!r)return{lo:null,hi:a};if(a[e]<n)o=i+1;else{if(!(r[e]>n))return{lo:r,hi:a};s=i-1}}return{lo:a,hi:null}}(t,e,n),a=r.lo?r.hi?r.lo:t[t.length-2]:t[0],o=r.lo?r.hi?r.hi:t[t.length-1]:t[1],s=o[e]-a[e],l=s?(n-a[e])/s:0,c=(o[i]-a[i])*l;return a[i]+c}function Hn(t,e){var n=t._adapter,i=t.options.time,r=i.parser,a=r||i.format,o=e;return"function"==typeof r&&(o=r(o)),ht.isFinite(o)||(o="string"==typeof a?n.parse(o,a):n.parse(o)),null!==o?+o:(r||"function"!=typeof a||(o=a(e),ht.isFinite(o)||(o=n.parse(o))),o)}function Un(t,e){if(ht.isNullOrUndef(e))return null;var n=t.options.time,i=Hn(t,t.getRightValue(e));return null===i||n.round&&(i=+t._adapter.startOf(i,n.round)),i}function Gn(t){for(var e=Vn.indexOf(t)+1,n=Vn.length;e<n;++e)if(Bn[Vn[e]].common)return Vn[e]}function Xn(t,e,n,i){var r,a=t._adapter,o=t.options,s=o.time,l=s.unit||function(t,e,n,i){var r,a,o,s=Vn.length;for(r=Vn.indexOf(t);r<s-1;++r)if(o=(a=Bn[Vn[r]]).steps?a.steps[a.steps.length-1]:jn,a.common&&Math.ceil((n-e)/(o*a.size))<=i)return Vn[r];return Vn[s-1]}(s.minUnit,e,n,i),c=Gn(l),h=zn(s.stepSize,s.unitStepSize),u="week"===l&&s.isoWeekday,d=o.ticks.major.enabled,f=Bn[l],p=e,m=n,g=[];for(h||(h=function(t,e,n,i){var r,a,o,s=e-t,l=Bn[n],c=l.size,h=l.steps;if(!h)return Math.ceil(s/(i*c));for(r=0,a=h.length;r<a&&(o=h[r],!(Math.ceil(s/(c*o))<=i));++r);return o}(e,n,l,i)),u&&(p=+a.startOf(p,"isoWeek",u),m=+a.startOf(m,"isoWeek",u)),p=+a.startOf(p,u?"day":l),(m=+a.startOf(m,u?"day":l))<n&&(m=+a.add(m,1,l)),r=p,d&&c&&!u&&!s.round&&(r=+a.startOf(r,c),r=+a.add(r,~~((p-r)/(f.size*h))*h,l));r<m;r=+a.add(r,h,l))g.push(+r);return g.push(+r),g}var Zn=un.extend({initialize:function(){this.mergeTicksOptions(),un.prototype.initialize.call(this)},update:function(){var t=this,e=t.options,n=e.time||(e.time={}),i=t._adapter=new an._date(e.adapters.date);return n.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),ht.mergeIf(n.displayFormats,i.formats()),un.prototype.update.apply(t,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),un.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var t,e,n,i,r,a,o=this,s=o.chart,l=o._adapter,c=o.options.time,h=c.unit||"day",u=jn,d=Wn,f=[],p=[],m=[],g=s.data.labels||[];for(t=0,n=g.length;t<n;++t)m.push(Un(o,g[t]));for(t=0,n=(s.data.datasets||[]).length;t<n;++t)if(s.isDatasetVisible(t))if(r=s.data.datasets[t].data,ht.isObject(r[0]))for(p[t]=[],e=0,i=r.length;e<i;++e)a=Un(o,r[e]),f.push(a),p[t][e]=a;else{for(e=0,i=m.length;e<i;++e)f.push(m[e]);p[t]=m.slice(0)}else p[t]=[];m.length&&(m=$n(m).sort(qn),u=Math.min(u,m[0]),d=Math.max(d,m[m.length-1])),f.length&&(f=$n(f).sort(qn),u=Math.min(u,f[0]),d=Math.max(d,f[f.length-1])),u=Un(o,c.min)||u,d=Un(o,c.max)||d,u=u===jn?+l.startOf(Date.now(),h):u,d=d===Wn?+l.endOf(Date.now(),h)+1:d,o.min=Math.min(u,d),o.max=Math.max(u+1,d),o._horizontal=o.isHorizontal(),o._table=[],o._timestamps={data:f,datasets:p,labels:m}},buildTicks:function(){var t,e,n,i=this,r=i.min,a=i.max,o=i.options,s=o.time,l=[],c=[];switch(o.ticks.source){case"data":l=i._timestamps.data;break;case"labels":l=i._timestamps.labels;break;case"auto":default:l=Xn(i,r,a,i.getLabelCapacity(r))}for("ticks"===o.bounds&&l.length&&(r=l[0],a=l[l.length-1]),r=Un(i,s.min)||r,a=Un(i,s.max)||a,t=0,e=l.length;t<e;++t)(n=l[t])>=r&&n<=a&&c.push(n);return i.min=r,i.max=a,i._unit=s.unit||function(t,e,n,i,r){var a,o;for(a=Vn.length-1;a>=Vn.indexOf(n);a--)if(o=Vn[a],Bn[o].common&&t._adapter.diff(r,i,o)>=e.length)return o;return Vn[n?Vn.indexOf(n):0]}(i,c,s.minUnit,i.min,i.max),i._majorUnit=Gn(i._unit),i._table=function(t,e,n,i){if("linear"===i||!t.length)return[{time:e,pos:0},{time:n,pos:1}];var r,a,o,s,l,c=[],h=[e];for(r=0,a=t.length;r<a;++r)(s=t[r])>e&&s<n&&h.push(s);for(h.push(n),r=0,a=h.length;r<a;++r)l=h[r+1],o=h[r-1],s=h[r],void 0!==o&&void 0!==l&&Math.round((l+o)/2)===s||c.push({time:s,pos:r/(a-1)});return c}(i._timestamps.data,r,a,o.distribution),i._offsets=function(t,e,n,i,r){var a,o,s=0,l=0;return r.offset&&e.length&&(r.time.min||(a=Yn(t,"time",e[0],"pos"),s=1===e.length?1-a:(Yn(t,"time",e[1],"pos")-a)/2),r.time.max||(o=Yn(t,"time",e[e.length-1],"pos"),l=1===e.length?o:(o-Yn(t,"time",e[e.length-2],"pos"))/2)),{start:s,end:l}}(i._table,c,0,0,o),o.ticks.reverse&&c.reverse(),function(t,e,n){var i,r,a,o,s=[];for(i=0,r=e.length;i<r;++i)a=e[i],o=!!n&&a===+t._adapter.startOf(a,n),s.push({value:a,major:o});return s}(i,c,i._majorUnit)},getLabelForIndex:function(t,e){var n=this,i=n._adapter,r=n.chart.data,a=n.options.time,o=r.labels&&t<r.labels.length?r.labels[t]:"",s=r.datasets[e].data[t];return ht.isObject(s)&&(o=n.getRightValue(s)),a.tooltipFormat?i.format(Hn(n,o),a.tooltipFormat):"string"==typeof o?o:i.format(Hn(n,o),a.displayFormats.datetime)},tickFormatFunction:function(t,e,n,i){var r=this._adapter,a=this.options,o=a.time.displayFormats,s=o[this._unit],l=this._majorUnit,c=o[l],h=+r.startOf(t,l),u=a.ticks.major,d=u.enabled&&l&&c&&t===h,f=r.format(t,i||(d?c:s)),p=d?u:a.ticks.minor,m=zn(p.callback,p.userCallback);return m?m(f,e,n):f},convertTicksToLabels:function(t){var e,n,i=[];for(e=0,n=t.length;e<n;++e)i.push(this.tickFormatFunction(t[e].value,e,t));return i},getPixelForOffset:function(t){var e=this,n=e.options.ticks.reverse,i=e._horizontal?e.width:e.height,r=e._horizontal?n?e.right:e.left:n?e.bottom:e.top,a=Yn(e._table,"time",t,"pos"),o=i*(e._offsets.start+a)/(e._offsets.start+1+e._offsets.end);return n?r-o:r+o},getPixelForValue:function(t,e,n){var i=null;if(void 0!==e&&void 0!==n&&(i=this._timestamps.datasets[n][e]),null===i&&(i=Un(this,t)),null!==i)return this.getPixelForOffset(i)},getPixelForTick:function(t){var e=this.getTicks();return t>=0&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this,n=e._horizontal?e.width:e.height,i=e._horizontal?e.left:e.top,r=(n?(t-i)/n:0)*(e._offsets.start+1+e._offsets.start)-e._offsets.end,a=Yn(e._table,"pos",r,"time");return e._adapter._create(a)},getLabelWidth:function(t){var e=this.options.ticks,n=this.ctx.measureText(t).width,i=ht.toRadians(e.maxRotation),r=Math.cos(i),a=Math.sin(i);return n*r+zn(e.fontSize,st.global.defaultFontSize)*a},getLabelCapacity:function(t){var e=this,n=e.options.time.displayFormats.millisecond,i=e.tickFormatFunction(t,0,[],n),r=e.getLabelWidth(i),a=e.isHorizontal()?e.width:e.height,o=Math.floor(a/r);return o>0?o:1}}),Jn={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};Zn._defaults=Jn;var Kn={category:dn,linear:yn,logarithmic:kn,radialLinear:Rn,time:Zn},Qn={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};an._date.override("function"==typeof t?{_id:"moment",formats:function(){return Qn},parse:function(e,n){return"string"==typeof e&&"string"==typeof n?e=t(e,n):e instanceof t||(e=t(e)),e.isValid()?e.valueOf():null},format:function(e,n){return t(e).format(n)},add:function(e,n,i){return t(e).add(n,i).valueOf()},diff:function(e,n,i){return t.duration(t(e).diff(t(n))).as(i)},startOf:function(e,n,i){return e=t(e),"isoWeek"===n?e.isoWeekday(i).valueOf():e.startOf(n).valueOf()},endOf:function(e,n){return t(e).endOf(n).valueOf()},_create:function(e){return t(e)}}:{}),st._set("global",{plugins:{filler:{propagate:!0}}});var ti={dataset:function(t){var e=t.fill,n=t.chart,i=n.getDatasetMeta(e),r=i&&n.isDatasetVisible(e)&&i.dataset._children||[],a=r.length||0;return a?function(t,e){return e<a&&r[e]._view||null}:null},boundary:function(t){var e=t.boundary,n=e?e.x:null,i=e?e.y:null;return function(t){return{x:null===n?t.x:n,y:null===i?t.y:i}}}};function ei(t,e,n){var i,r=t._model||{},a=r.fill;if(void 0===a&&(a=!!r.backgroundColor),!1===a||null===a)return!1;if(!0===a)return"origin";if(i=parseFloat(a,10),isFinite(i)&&Math.floor(i)===i)return"-"!==a[0]&&"+"!==a[0]||(i=e+i),!(i===e||i<0||i>=n)&&i;switch(a){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return a;default:return!1}}function ni(t){var e,n=t.el._model||{},i=t.el._scale||{},r=t.fill,a=null;if(isFinite(r))return null;if("start"===r?a=void 0===n.scaleBottom?i.bottom:n.scaleBottom:"end"===r?a=void 0===n.scaleTop?i.top:n.scaleTop:void 0!==n.scaleZero?a=n.scaleZero:i.getBasePosition?a=i.getBasePosition():i.getBasePixel&&(a=i.getBasePixel()),null!=a){if(void 0!==a.x&&void 0!==a.y)return a;if(ht.isFinite(a))return{x:(e=i.isHorizontal())?a:null,y:e?null:a}}return null}function ii(t,e,n){var i,r=t[e].fill,a=[e];if(!n)return r;for(;!1!==r&&-1===a.indexOf(r);){if(!isFinite(r))return r;if(!(i=t[r]))return!1;if(i.visible)return r;a.push(r),r=i.fill}return!1}function ri(t){var e=t.fill,n="dataset";return!1===e?null:(isFinite(e)||(n="boundary"),ti[n](t))}function ai(t){return t&&!t.skip}function oi(t,e,n,i,r){var a;if(i&&r){for(t.moveTo(e[0].x,e[0].y),a=1;a<i;++a)ht.canvas.lineTo(t,e[a-1],e[a]);for(t.lineTo(n[r-1].x,n[r-1].y),a=r-1;a>0;--a)ht.canvas.lineTo(t,n[a],n[a-1],!0)}}var si={id:"filler",afterDatasetsUpdate:function(t,e){var n,i,r,a,o=(t.data.datasets||[]).length,s=e.propagate,l=[];for(i=0;i<o;++i)a=null,(r=(n=t.getDatasetMeta(i)).dataset)&&r._model&&r instanceof Wt.Line&&(a={visible:t.isDatasetVisible(i),fill:ei(r,i,o),chart:t,el:r}),n.$filler=a,l.push(a);for(i=0;i<o;++i)(a=l[i])&&(a.fill=ii(l,i,s),a.boundary=ni(a),a.mapper=ri(a))},beforeDatasetDraw:function(t,e){var n=e.meta.$filler;if(n){var i=t.ctx,r=n.el,a=r._view,o=r._children||[],s=n.mapper,l=a.backgroundColor||st.global.defaultColor;s&&l&&o.length&&(ht.canvas.clipArea(i,t.chartArea),function(t,e,n,i,r,a){var o,s,l,c,h,u,d,f=e.length,p=i.spanGaps,m=[],g=[],v=0,y=0;for(t.beginPath(),o=0,s=f+!!a;o<s;++o)h=n(c=e[l=o%f]._view,l,i),u=ai(c),d=ai(h),u&&d?(v=m.push(c),y=g.push(h)):v&&y&&(p?(u&&m.push(c),d&&g.push(h)):(oi(t,m,g,v,y),v=y=0,m=[],g=[]));oi(t,m,g,v,y),t.closePath(),t.fillStyle=r,t.fill()}(i,o,s,a,l,r._loop),ht.canvas.unclipArea(i))}}},li=ht.noop,ci=ht.valueOrDefault;function hi(t,e){return t.usePointStyle&&t.boxWidth>e?e:t.boxWidth}st._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var n=e.datasetIndex,i=this.chart,r=i.getDatasetMeta(n);r.hidden=null===r.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var e=t.data;return ht.isArray(e.datasets)?e.datasets.map((function(e,n){return{text:e.label,fillStyle:ht.isArray(e.backgroundColor)?e.backgroundColor[0]:e.backgroundColor,hidden:!t.isDatasetVisible(n),lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:e.borderWidth,strokeStyle:e.borderColor,pointStyle:e.pointStyle,datasetIndex:n}}),this):[]}}},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var n=0;n<t.data.datasets.length;n++)e.push('<li><span style="background-color:'+t.data.datasets[n].backgroundColor+'"></span>'),t.data.datasets[n].label&&e.push(t.data.datasets[n].label),e.push("</li>");return e.push("</ul>"),e.join("")}});var ui=mt.extend({initialize:function(t){ht.extend(this,t),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:li,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:li,beforeSetDimensions:li,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:li,beforeBuildLabels:li,buildLabels:function(){var t=this,e=t.options.labels||{},n=ht.callback(e.generateLabels,[t.chart],t)||[];e.filter&&(n=n.filter((function(n){return e.filter(n,t.chart.data)}))),t.options.reverse&&n.reverse(),t.legendItems=n},afterBuildLabels:li,beforeFit:li,fit:function(){var t=this,e=t.options,n=e.labels,i=e.display,r=t.ctx,a=ht.options._parseFont(n),o=a.size,s=t.legendHitBoxes=[],l=t.minSize,c=t.isHorizontal();if(c?(l.width=t.maxWidth,l.height=i?10:0):(l.width=i?10:0,l.height=t.maxHeight),i)if(r.font=a.string,c){var h=t.lineWidths=[0],u=0;r.textAlign="left",r.textBaseline="top",ht.each(t.legendItems,(function(t,e){var i=hi(n,o)+o/2+r.measureText(t.text).width;(0===e||h[h.length-1]+i+n.padding>l.width)&&(u+=o+n.padding,h[h.length-(e>0?0:1)]=n.padding),s[e]={left:0,top:0,width:i,height:o},h[h.length-1]+=i+n.padding})),l.height+=u}else{var d=n.padding,f=t.columnWidths=[],p=n.padding,m=0,g=0,v=o+d;ht.each(t.legendItems,(function(t,e){var i=hi(n,o)+o/2+r.measureText(t.text).width;e>0&&g+v>l.height-d&&(p+=m+n.padding,f.push(m),m=0,g=0),m=Math.max(m,i),g+=v,s[e]={left:0,top:0,width:i,height:o}})),p+=m,f.push(m),l.width+=p}t.width=l.width,t.height=l.height},afterFit:li,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var t=this,e=t.options,n=e.labels,i=st.global,r=i.defaultColor,a=i.elements.line,o=t.width,s=t.lineWidths;if(e.display){var l,c=t.ctx,h=ci(n.fontColor,i.defaultFontColor),u=ht.options._parseFont(n),d=u.size;c.textAlign="left",c.textBaseline="middle",c.lineWidth=.5,c.strokeStyle=h,c.fillStyle=h,c.font=u.string;var f=hi(n,d),p=t.legendHitBoxes,m=t.isHorizontal();l=m?{x:t.left+(o-s[0])/2+n.padding,y:t.top+n.padding,line:0}:{x:t.left+n.padding,y:t.top+n.padding,line:0};var g=d+n.padding;ht.each(t.legendItems,(function(i,h){var u=c.measureText(i.text).width,v=f+d/2+u,y=l.x,b=l.y;m?h>0&&y+v+n.padding>t.left+t.minSize.width&&(b=l.y+=g,l.line++,y=l.x=t.left+(o-s[l.line])/2+n.padding):h>0&&b+g>t.top+t.minSize.height&&(y=l.x=y+t.columnWidths[l.line]+n.padding,b=l.y=t.top+n.padding,l.line++),function(t,n,i){if(!(isNaN(f)||f<=0)){c.save();var o=ci(i.lineWidth,a.borderWidth);if(c.fillStyle=ci(i.fillStyle,r),c.lineCap=ci(i.lineCap,a.borderCapStyle),c.lineDashOffset=ci(i.lineDashOffset,a.borderDashOffset),c.lineJoin=ci(i.lineJoin,a.borderJoinStyle),c.lineWidth=o,c.strokeStyle=ci(i.strokeStyle,r),c.setLineDash&&c.setLineDash(ci(i.lineDash,a.borderDash)),e.labels&&e.labels.usePointStyle){var s=f*Math.SQRT2/2,l=t+f/2,h=n+d/2;ht.canvas.drawPoint(c,i.pointStyle,s,l,h)}else 0!==o&&c.strokeRect(t,n,f,d),c.fillRect(t,n,f,d);c.restore()}}(y,b,i),p[h].left=y,p[h].top=b,function(t,e,n,i){var r=d/2,a=f+r+t,o=e+r;c.fillText(n.text,a,o),n.hidden&&(c.beginPath(),c.lineWidth=2,c.moveTo(a,o),c.lineTo(a+i,o),c.stroke())}(y,b,i,u),m?l.x+=v+n.padding:l.y+=g}))}},_getLegendItemAt:function(t,e){var n,i,r,a=this;if(t>=a.left&&t<=a.right&&e>=a.top&&e<=a.bottom)for(r=a.legendHitBoxes,n=0;n<r.length;++n)if(t>=(i=r[n]).left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height)return a.legendItems[n];return null},handleEvent:function(t){var e,n=this,i=n.options,r="mouseup"===t.type?"click":t.type;if("mousemove"===r){if(!i.onHover&&!i.onLeave)return}else{if("click"!==r)return;if(!i.onClick)return}e=n._getLegendItemAt(t.x,t.y),"click"===r?e&&i.onClick&&i.onClick.call(n,t.native,e):(i.onLeave&&e!==n._hoveredItem&&(n._hoveredItem&&i.onLeave.call(n,t.native,n._hoveredItem),n._hoveredItem=e),i.onHover&&e&&i.onHover.call(n,t.native,e))}});function di(t,e){var n=new ui({ctx:t.ctx,options:e,chart:t});we.configure(t,n,e),we.addBox(t,n),t.legend=n}var fi={id:"legend",_element:ui,beforeInit:function(t){var e=t.options.legend;e&&di(t,e)},beforeUpdate:function(t){var e=t.options.legend,n=t.legend;e?(ht.mergeIf(e,st.global.legend),n?(we.configure(t,n,e),n.options=e):di(t,e)):n&&(we.removeBox(t,n),delete t.legend)},afterEvent:function(t,e){var n=t.legend;n&&n.handleEvent(e)}},pi=ht.noop;st._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var mi=mt.extend({initialize:function(t){ht.extend(this,t),this.legendHitBoxes=[]},beforeUpdate:pi,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:pi,beforeSetDimensions:pi,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:pi,beforeBuildLabels:pi,buildLabels:pi,afterBuildLabels:pi,beforeFit:pi,fit:function(){var t=this,e=t.options,n=e.display,i=t.minSize,r=ht.isArray(e.text)?e.text.length:1,a=ht.options._parseFont(e),o=n?r*a.lineHeight+2*e.padding:0;t.isHorizontal()?(i.width=t.maxWidth,i.height=o):(i.width=o,i.height=t.maxHeight),t.width=i.width,t.height=i.height},afterFit:pi,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,e=t.ctx,n=t.options;if(n.display){var i,r,a,o=ht.options._parseFont(n),s=o.lineHeight,l=s/2+n.padding,c=0,h=t.top,u=t.left,d=t.bottom,f=t.right;e.fillStyle=ht.valueOrDefault(n.fontColor,st.global.defaultFontColor),e.font=o.string,t.isHorizontal()?(r=u+(f-u)/2,a=h+l,i=f-u):(r="left"===n.position?u+l:f-l,a=h+(d-h)/2,i=d-h,c=Math.PI*("left"===n.position?-.5:.5)),e.save(),e.translate(r,a),e.rotate(c),e.textAlign="center",e.textBaseline="middle";var p=n.text;if(ht.isArray(p))for(var m=0,g=0;g<p.length;++g)e.fillText(p[g],0,m,i),m+=s;else e.fillText(p,0,0,i);e.restore()}}});function gi(t,e){var n=new mi({ctx:t.ctx,options:e,chart:t});we.configure(t,n,e),we.addBox(t,n),t.titleBlock=n}var vi={},yi=si,bi=fi,_i={id:"title",_element:mi,beforeInit:function(t){var e=t.options.title;e&&gi(t,e)},beforeUpdate:function(t){var e=t.options.title,n=t.titleBlock;e?(ht.mergeIf(e,st.global.title),n?(we.configure(t,n,e),n.options=e):gi(t,e)):n&&(we.removeBox(t,n),delete t.titleBlock)}};for(var xi in vi.filler=yi,vi.legend=bi,vi.title=_i,en.helpers=ht,function(){function t(t,e,n){var i;return"string"==typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}function e(t){return null!=t&&"none"!==t}function n(n,i,r){var a=document.defaultView,o=ht._getParentNode(n),s=a.getComputedStyle(n)[i],l=a.getComputedStyle(o)[i],c=e(s),h=e(l),u=Number.POSITIVE_INFINITY;return c||h?Math.min(c?t(s,n,r):u,h?t(l,o,r):u):"none"}ht.where=function(t,e){if(ht.isArray(t)&&Array.prototype.filter)return t.filter(e);var n=[];return ht.each(t,(function(t){e(t)&&n.push(t)})),n},ht.findIndex=Array.prototype.findIndex?function(t,e,n){return t.findIndex(e,n)}:function(t,e,n){n=void 0===n?t:n;for(var i=0,r=t.length;i<r;++i)if(e.call(n,t[i],i,t))return i;return-1},ht.findNextWhere=function(t,e,n){ht.isNullOrUndef(n)&&(n=-1);for(var i=n+1;i<t.length;i++){var r=t[i];if(e(r))return r}},ht.findPreviousWhere=function(t,e,n){ht.isNullOrUndef(n)&&(n=t.length);for(var i=n-1;i>=0;i--){var r=t[i];if(e(r))return r}},ht.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},ht.almostEquals=function(t,e,n){return Math.abs(t-e)<n},ht.almostWhole=function(t,e){var n=Math.round(t);return n-e<t&&n+e>t},ht.max=function(t){return t.reduce((function(t,e){return isNaN(e)?t:Math.max(t,e)}),Number.NEGATIVE_INFINITY)},ht.min=function(t){return t.reduce((function(t,e){return isNaN(e)?t:Math.min(t,e)}),Number.POSITIVE_INFINITY)},ht.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return 0==(t=+t)||isNaN(t)?t:t>0?1:-1},ht.log10=Math.log10?function(t){return Math.log10(t)}:function(t){var e=Math.log(t)*Math.LOG10E,n=Math.round(e);return t===Math.pow(10,n)?n:e},ht.toRadians=function(t){return t*(Math.PI/180)},ht.toDegrees=function(t){return t*(180/Math.PI)},ht._decimalPlaces=function(t){if(ht.isFinite(t)){for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n}},ht.getAngleFromPoint=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i),a=Math.atan2(i,n);return a<-.5*Math.PI&&(a+=2*Math.PI),{angle:a,distance:r}},ht.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},ht.aliasPixel=function(t){return t%2==0?0:.5},ht._alignPixel=function(t,e,n){var i=t.currentDevicePixelRatio,r=n/2;return Math.round((e-r)*i)/i+r},ht.splineCurve=function(t,e,n,i){var r=t.skip?e:t,a=e,o=n.skip?e:n,s=Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2)),l=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),c=s/(s+l),h=l/(s+l),u=i*(c=isNaN(c)?0:c),d=i*(h=isNaN(h)?0:h);return{previous:{x:a.x-u*(o.x-r.x),y:a.y-u*(o.y-r.y)},next:{x:a.x+d*(o.x-r.x),y:a.y+d*(o.y-r.y)}}},ht.EPSILON=Number.EPSILON||1e-14,ht.splineCurveMonotone=function(t){var e,n,i,r,a,o,s,l,c,h=(t||[]).map((function(t){return{model:t._model,deltaK:0,mK:0}})),u=h.length;for(e=0;e<u;++e)if(!(i=h[e]).model.skip){if(n=e>0?h[e-1]:null,(r=e<u-1?h[e+1]:null)&&!r.model.skip){var d=r.model.x-i.model.x;i.deltaK=0!==d?(r.model.y-i.model.y)/d:0}!n||n.model.skip?i.mK=i.deltaK:!r||r.model.skip?i.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?i.mK=0:i.mK=(n.deltaK+i.deltaK)/2}for(e=0;e<u-1;++e)i=h[e],r=h[e+1],i.model.skip||r.model.skip||(ht.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=r.mK=0:(a=i.mK/i.deltaK,o=r.mK/i.deltaK,(l=Math.pow(a,2)+Math.pow(o,2))<=9||(s=3/Math.sqrt(l),i.mK=a*s*i.deltaK,r.mK=o*s*i.deltaK)));for(e=0;e<u;++e)(i=h[e]).model.skip||(n=e>0?h[e-1]:null,r=e<u-1?h[e+1]:null,n&&!n.model.skip&&(c=(i.model.x-n.model.x)/3,i.model.controlPointPreviousX=i.model.x-c,i.model.controlPointPreviousY=i.model.y-c*i.mK),r&&!r.model.skip&&(c=(r.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+c,i.model.controlPointNextY=i.model.y+c*i.mK))},ht.nextItem=function(t,e,n){return n?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},ht.previousItem=function(t,e,n){return n?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},ht.niceNum=function(t,e){var n=Math.floor(ht.log10(t)),i=t/Math.pow(10,n);return(e?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,n)},ht.requestAnimFrame="undefined"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},ht.getRelativePosition=function(t,e){var n,i,r=t.originalEvent||t,a=t.target||t.srcElement,o=a.getBoundingClientRect(),s=r.touches;s&&s.length>0?(n=s[0].clientX,i=s[0].clientY):(n=r.clientX,i=r.clientY);var l=parseFloat(ht.getStyle(a,"padding-left")),c=parseFloat(ht.getStyle(a,"padding-top")),h=parseFloat(ht.getStyle(a,"padding-right")),u=parseFloat(ht.getStyle(a,"padding-bottom")),d=o.right-o.left-l-h,f=o.bottom-o.top-c-u;return{x:n=Math.round((n-o.left-l)/d*a.width/e.currentDevicePixelRatio),y:i=Math.round((i-o.top-c)/f*a.height/e.currentDevicePixelRatio)}},ht.getConstraintWidth=function(t){return n(t,"max-width","clientWidth")},ht.getConstraintHeight=function(t){return n(t,"max-height","clientHeight")},ht._calculatePadding=function(t,e,n){return(e=ht.getStyle(t,e)).indexOf("%")>-1?n*parseInt(e,10)/100:parseInt(e,10)},ht._getParentNode=function(t){var e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e},ht.getMaximumWidth=function(t){var e=ht._getParentNode(t);if(!e)return t.clientWidth;var n=e.clientWidth,i=n-ht._calculatePadding(e,"padding-left",n)-ht._calculatePadding(e,"padding-right",n),r=ht.getConstraintWidth(t);return isNaN(r)?i:Math.min(i,r)},ht.getMaximumHeight=function(t){var e=ht._getParentNode(t);if(!e)return t.clientHeight;var n=e.clientHeight,i=n-ht._calculatePadding(e,"padding-top",n)-ht._calculatePadding(e,"padding-bottom",n),r=ht.getConstraintHeight(t);return isNaN(r)?i:Math.min(i,r)},ht.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},ht.retinaScale=function(t,e){var n=t.currentDevicePixelRatio=e||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==n){var i=t.canvas,r=t.height,a=t.width;i.height=r*n,i.width=a*n,t.ctx.scale(n,n),i.style.height||i.style.width||(i.style.height=r+"px",i.style.width=a+"px")}},ht.fontString=function(t,e,n){return e+" "+t+"px "+n},ht.longestText=function(t,e,n,i){var r=(i=i||{}).data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},a=i.garbageCollect=[],i.font=e),t.font=e;var o=0;ht.each(n,(function(e){null!=e&&!0!==ht.isArray(e)?o=ht.measureText(t,r,a,o,e):ht.isArray(e)&&ht.each(e,(function(e){null==e||ht.isArray(e)||(o=ht.measureText(t,r,a,o,e))}))}));var s=a.length/2;if(s>n.length){for(var l=0;l<s;l++)delete r[a[l]];a.splice(0,s)}return o},ht.measureText=function(t,e,n,i,r){var a=e[r];return a||(a=e[r]=t.measureText(r).width,n.push(r)),a>i&&(i=a),i},ht.numberOfLabelLines=function(t){var e=1;return ht.each(t,(function(t){ht.isArray(t)&&t.length>e&&(e=t.length)})),e},ht.color=U?function(t){return t instanceof CanvasGradient&&(t=st.global.defaultColor),U(t)}:function(t){return console.error("Color.js not found!"),t},ht.getHoverColor=function(t){return t instanceof CanvasPattern||t instanceof CanvasGradient?t:ht.color(t).saturate(.5).darken(.1).rgbString()}}(),en._adapters=an,en.Animation=vt,en.animationService=yt,en.controllers=he,en.DatasetController=kt,en.defaults=st,en.Element=mt,en.elements=Wt,en.Interaction=ve,en.layouts=we,en.platform=Re,en.plugins=Le,en.Scale=un,en.scaleService=ze,en.Ticks=on,en.Tooltip=Ge,en.helpers.each(Kn,(function(t,e){en.scaleService.registerScaleType(e,t,t._defaults)})),vi)vi.hasOwnProperty(xi)&&en.plugins.register(vi[xi]);en.platform.initialize();var wi=en;return"undefined"!=typeof window&&(window.Chart=en),en.Chart=en,en.Legend=vi.legend._element,en.Title=vi.title._element,en.pluginService=en.plugins,en.PluginBase=en.Element.extend({}),en.canvasHelpers=en.helpers.canvas,en.layoutService=en.layouts,en.LinearScaleBase=gn,en.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],(function(t){en[t]=function(e,n){return new en(e,en.helpers.merge(n||{},{type:t.charAt(0).toLowerCase()+t.slice(1)}))}})),wi}(function(){try{return Bo}catch(t){}}())}));function Rh(t,e){return{render:function(t){return t("div",{style:this.styles,class:this.cssClasses},[t("canvas",{attrs:{id:this.chartId,width:this.width,height:this.height},ref:"canvas"})])},props:{chartId:{default:t,type:String},width:{default:400,type:Number},height:{default:400,type:Number},cssClasses:{type:String,default:""},styles:{type:Object},plugins:{type:Array,default:function(){return[]}}},data:function(){return{_chart:null,_plugins:this.plugins}},methods:{addPlugin:function(t){this.$data._plugins.push(t)},generateLegend:function(){if(this.$data._chart)return this.$data._chart.generateLegend()},renderChart:function(t,n){if(this.$data._chart&&this.$data._chart.destroy(),!this.$refs.canvas)throw new Error("Please remove the <template></template> tags from your chart component. See https://vue-chartjs.org/guide/#vue-single-file-components");this.$data._chart=new Eh(this.$refs.canvas.getContext("2d"),{type:e,data:t,options:n,plugins:this.$data._plugins})}},beforeDestroy:function(){this.$data._chart&&this.$data._chart.destroy()}}}var Lh=Rh("scatter-chart","scatter");Eh.controllers.box=Eh.DatasetController.extend({dataElementType:Eh.elements.Rectangle,update(t){const e=this.getMeta(),n=e.data||[];this._xScale=this.getScaleForId(e.xAxisID),this._yScale=this.getScaleForId(e.yAxisID);for(const[e,i]of n.entries())this.updateElement(i,e,t)},updateElement(t,e,n){const i=this.getDataset(),r=this.index,a=i.data[e],o=this._xScale,s=this._yScale,l=this._resolveElementOptions(t,e),c=n?o.getBasePixel():o.getPixelForValue(a,e,r),h=n?s.getBasePixel():s.getPixelForValue(a,e,r),u=l.height,d=l.width,f=u/2;t._xScale=o,t._yScale=s,t._options=l,t._datasetIndex=r,t._index=e,t._model={xCenter:c,x:c,base:h-f,y:h+f,width:d,height:u,backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderSkipped:l.borderSkipped,borderWidth:l.borderWidth,word:a.word},t.pivot()},draw(){const t=this.getMeta().data||[],e=this.chart.ctx;for(const n of t){const{word:t,xCenter:i,y:r,height:a,borderColor:o}=n._model,s=10;e.save(),e.textBaseline="middle",e.textAlign="center",e.font='bold 16px "Helvetica Neue", Helvetica, Arial, sans-serif',e.fillStyle=o,n._model.width=e.measureText(t).width+2*s,n._model.x=i+n._model.width/2-s,e.fillText(t,n._model.x,r-a/2),e.restore(),n.draw()}},_resolveElementOptions(t,e){const n=this.chart,i=n.data.datasets[this.index],r=n.options.elements.rectangle,a={},o={chart:n,dataIndex:e,dataset:i,datasetIndex:this.index},s=["backgroundColor","borderColor","borderSkipped","borderWidth","width","height"];for(const t of s)a[t]=Eh.helpers.options.resolve([i[t],r[t]],o,e);return a}}),Eh.defaults.box={hover:{mode:"nearest",intersect:!0},tooltips:{mode:"nearest",intersect:!0},scales:{xAxes:[{type:"linear"}],yAxes:[{type:"linear"}]},elements:{rectangle:{borderSkipped:!1,width:20,height:20}}};const zh=["black","red","orange","green","blue","magenta","darkgray","darkgray","darkgray","darkgray"];const Wh=ho({},void 0,{extends:Rh("box-chart","box"),props:{chartData:Array,chartTitle:String,xAxisTitle:String,yAxisTitle:String,numXTicks:Number,simConfig:Object,borderWidth:{type:Number,default:1}},data(){return{options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:0},hover:{animationDuration:0},responsiveAnimationDuration:0,legend:{display:!1},tooltips:{enabled:!1},title:{display:!0,text:this.chartTitle},scales:{xAxes:[{ticks:{display:!0,min:0,max:this.numXTicks-1,stepSize:1},gridLines:{display:!1},scaleLabel:{display:!0,labelString:this.xAxisTitle}}],yAxes:[{ticks:{display:!0,min:0,max:1,stepSize:.1},gridLines:{display:!0},scaleLabel:{display:!0,labelString:this.yAxisTitle}}]}}}},watch:{chartData(){this.updateChart()}},mounted(){this.updateChart()},methods:{updateChart(){const t=this.chartData.slice().sort((t,e)=>e.y-t.y),e=[];for(const{word:n}of t)e.includes(n)||e.push(n);const n={};for(const[t,i]of e.entries())n[i]=zh[Math.min(t,zh.length-1)];const i={datasets:[{label:"My Matrix",data:this.chartData,backgroundColor:()=>"transparent",borderColor:t=>t.dataset.data[t.dataIndex]?n[t.dataset.data[t.dataIndex].word]:"transparent",borderWidth:()=>this.borderWidth,width:t=>{const{right:e,left:n}=t.chart.chartArea;return(e-n)/this.options.scales.xAxes[0].ticks.max*5},height:t=>{const{bottom:e,top:n}=t.chart.chartArea;return(e-n)/this.options.scales.yAxes[0].ticks.max/10}}]};this.renderChart(i,this.options)}}},void 0,void 0,void 0,!1,void 0,void 0,void 0);const jh={props:{chartData:Array,simConfig:Object},data:()=>({chartDataFiltered:[]}),watch:{chartData:{immediate:!0,handler(t){const{min:e,max:n}=this.simConfig,i=.01*(n-e),r=t.map((t,e)=>[this.simConfig.lexicon.length>e?this.simConfig.lexicon[e].phon:"",t]);r.sort((t,e)=>Math.max(...e[1])-Math.max(...t[1]));const a=r.slice(0,10),o=[];for(const[t,r]of a){let a=Number.NEGATIVE_INFINITY;for(let s=0;s<r.length;s++){const l=r[s],c=s+1<r.length?r[s+1]:Number.NEGATIVE_INFINITY;if(l>a&&l>c&&l>i){const i=(l-e)/(n-e);o.push({x:s,y:i,word:t})}a=l}}this.chartDataFiltered=o}}},components:{BoxChart:Wh}};var Bh=function(){var t=this.$createElement;return(this._self._c||t)("box-chart",{attrs:{"chart-data":this.chartDataFiltered,"chart-title":"Word Activations","x-axis-title":"Temporal Alignment","y-axis-title":"Activation Magnitude","num-x-ticks":Math.ceil(this.simConfig.fSlices/this.simConfig.slicesPerPhon)+1,"sim-config":this.simConfig}})};Bh._withStripped=!0;const Vh=ho({render:Bh,staticRenderFns:[]},void 0,jh,void 0,!1,void 0,!1,void 0,void 0,void 0);const qh={props:{chartData:Array,simConfig:Object,phonemes:Array},data:()=>({chartDataFiltered:[]}),watch:{chartData:{immediate:!0,handler(t){const{min:e,max:n}=this.simConfig,i=.02*(n-e),r=[];for(const[a,o]of t.entries())for(let t=0;t<o.length-1;t++){const s=o[t];if(s>o[t+1]&&s>i){const i=(s-e)/(n-e);r.push({x:t,y:i,word:this.phonemes.length>a?this.phonemes[a].label:"?"})}}this.chartDataFiltered=r}}},components:{BoxChart:Wh}};var $h=function(){var t=this.$createElement;return(this._self._c||t)("box-chart",{attrs:{"chart-data":this.chartDataFiltered,"chart-title":"Phoneme Activations","x-axis-title":"Temporal Alignment","y-axis-title":"Activation Magnitude","num-x-ticks":Math.ceil(this.simConfig.fSlices/this.simConfig.slicesPerPhon)+1,"sim-config":this.simConfig,"border-width":0}})};$h._withStripped=!0;const Yh=ho({render:$h,staticRenderFns:[]},void 0,qh,void 0,!1,void 0,!1,void 0,void 0,void 0);const Hh=ho({},void 0,{extends:Rh("matrix-chart","matrix"),props:{chartData:Array,chartTitle:String,xAxisTitle:String,yAxisTitle:String,yLabelCallback:Function,numXTicks:Number,numYTicks:Number,yStepSize:Number,simConfig:Object},data(){return{options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:0},legend:{display:!1},tooltips:{enabled:!1},title:{display:!0,text:this.chartTitle},scales:{xAxes:[{ticks:{display:!0,min:0,max:this.numXTicks-1,stepSize:1},gridLines:{display:!1},scaleLabel:{display:!0,labelString:this.xAxisTitle}}],yAxes:[{ticks:{display:!0,min:0,max:this.numYTicks,stepSize:this.yStepSize||1,callback:this.yLabelCallback||(t=>t),fontColor:"transparent"},gridLines:{display:!0},scaleLabel:{display:!0,labelString:this.yAxisTitle}}]}}}},watch:{chartData:function(){this.updateChart()}},mounted(){this.addPlugin({afterDraw:t=>{const e=t.ctx,n=t.scales["y-axis-0"],i=n.getPixelForTick(1)-n.getPixelForTick(0);Eh.helpers.each(n.ticks,(function(t,r){if(r===n.ticks.length-1)return;const a=n.right,o=n.getPixelForTick(r);e.save(),e.textBaseline="middle",e.textAlign="right",e.fillStyle="rgba(0, 0, 0, 0.8)",e.fillText(t,a-10,o+i/2),e.restore()}))}}),this.updateChart()},methods:{updateChart(){const t=[];for(const[e,n]of this.chartData.entries())for(const[i,r]of n.entries())r>0&&t.push({x:i+.5,y:this.numYTicks-.5-e,v:(Math.min(Math.max(r,0),1)-this.simConfig.min)/(this.simConfig.max-this.simConfig.min)});const e={datasets:[{label:"My Matrix",data:t,backgroundColor:t=>{const e=t.dataset.data[t.dataIndex];return`rgba(0, 0, 0, ${e?e.v:0})`},width:t=>{const{right:e,left:n}=t.chart.chartArea;return(e-n)/this.options.scales.xAxes[0].ticks.max},height:t=>{const{bottom:e,top:n}=t.chart.chartArea;return(e-n)/this.options.scales.yAxes[0].ticks.max}}]};this.renderChart(e,this.options)}}},void 0,void 0,void 0,!1,void 0,void 0,void 0);const Uh={props:{chartData:Array,simConfig:Object},methods:{yLabelCallback(t,e){const n=["POW","VOC","DIF","ACU","GRD","VOI","BUR"];return e<n.length?n[e]:null}},components:{SimulationChart:Hh}};var Gh=function(){var t=this.$createElement;return(this._self._c||t)("simulation-chart",{attrs:{"chart-data":this.chartData,"chart-title":"Feature Activations","x-axis-title":"Temporal Alignment","y-axis-title":"Feature Continua","y-label-callback":this.yLabelCallback,"num-x-ticks":this.simConfig.fSlices+1,"num-y-ticks":63,"y-step-size":9,"sim-config":this.simConfig}})};Gh._withStripped=!0;const Xh=ho({render:Gh,staticRenderFns:[]},void 0,Uh,void 0,!1,void 0,!1,void 0,void 0,void 0);const Zh={props:{chartData:Array,simConfig:Object},data:()=>({wordsFiltered:[],chartDataFiltered:[]}),watch:{chartData:{immediate:!0,handler(t){const e=t.map((t,e)=>[this.simConfig.lexicon.length>e?this.simConfig.lexicon[e].phon:"",t]);e.sort((t,e)=>Math.max(...e[1])-Math.max(...t[1]));const n=e.slice(0,10);this.wordsFiltered=n.map(([t,e])=>t),this.chartDataFiltered=n.map(([t,e])=>e)}}},methods:{yLabelCallback(t,e){return e<this.wordsFiltered.length?this.wordsFiltered[e]:e<this.simConfig.lexicon.length?this.simConfig.lexicon[e].phon:null}},components:{SimulationChart:Hh}};var Jh=function(){var t=this.$createElement;return(this._self._c||t)("simulation-chart",{attrs:{"chart-data":this.chartDataFiltered,"chart-title":"Word Activations","x-axis-title":"Temporal Alignment","y-axis-title":"Word","y-label-callback":this.yLabelCallback,"num-x-ticks":Math.ceil(this.simConfig.fSlices/this.simConfig.slicesPerPhon)+1,"num-y-ticks":10,"y-step-size":1,"sim-config":this.simConfig}})};Jh._withStripped=!0;const Kh=ho({render:Jh,staticRenderFns:[]},void 0,Zh,void 0,!1,void 0,!1,void 0,void 0,void 0);const Qh={props:{chartData:Array,simConfig:Object},methods:{yLabelCallback(t,e){const n=["POW","VOC","DIF","ACU","GRD","VOI","BUR"];return e<n.length?n[e]:null}},components:{SimulationChart:Hh}};var tu=function(){var t=this.$createElement;return(this._self._c||t)("simulation-chart",{attrs:{"chart-data":this.chartData,"chart-title":"Model Input","x-axis-title":"Time","y-axis-title":"Feature Continua","y-label-callback":this.yLabelCallback,"num-x-ticks":this.simConfig.fSlices+1,"num-y-ticks":63,"y-step-size":9,"sim-config":this.simConfig}})};tu._withStripped=!0;const eu=ho({render:tu,staticRenderFns:[]},void 0,Qh,void 0,!1,void 0,!1,void 0,void 0,void 0);const nu={props:{chartData:Array,simConfig:Object,phonemes:Array},methods:{yLabelCallback(t,e){return e<this.phonemes.length?this.phonemes[e].label:null}},components:{SimulationChart:Hh}};var iu=function(){var t=this.$createElement;return(this._self._c||t)("simulation-chart",{attrs:{"chart-data":this.chartData,"chart-title":"Phoneme Activations","x-axis-title":"Temporal Alignment","y-axis-title":"Phoneme","y-label-callback":this.yLabelCallback,"num-x-ticks":Math.ceil(this.simConfig.fSlices/this.simConfig.slicesPerPhon)+1,"num-y-ticks":this.phonemes.length,"y-step-size":1,"sim-config":this.simConfig}})};iu._withStripped=!0;const ru={props:{simConfig:Object,phonemes:Array,featureData:Array,wordData:Array,inputData:Array,phonemeData:Array,visualize:Boolean},components:{WordBoxChart:Vh,PhonemeBoxChart:Yh,FeatureActivationsChart:Xh,WordActivationsChart:Kh,ModelInputChart:eu,PhonemeActivationsChart:ho({render:iu,staticRenderFns:[]},void 0,nu,void 0,!1,void 0,!1,void 0,void 0,void 0)}};var au=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grid2x2"},[n("div",{staticClass:"grid-box"},[n("feature-activations-chart",{staticClass:"chart-wrapper",attrs:{"chart-data":t.featureData,"sim-config":t.simConfig}})],1),t._v(" "),n("div",{staticClass:"grid-box"},[t.visualize?n("word-box-chart",{staticClass:"chart-wrapper",attrs:{"chart-data":t.wordData,"sim-config":t.simConfig}}):n("word-activations-chart",{staticClass:"chart-wrapper",attrs:{"chart-data":t.wordData,"sim-config":t.simConfig}})],1),t._v(" "),n("div",{staticClass:"grid-box"},[n("model-input-chart",{staticClass:"chart-wrapper",attrs:{"chart-data":t.inputData,"sim-config":t.simConfig}})],1),t._v(" "),n("div",{staticClass:"grid-box"},[t.visualize?n("phoneme-box-chart",{staticClass:"chart-wrapper",attrs:{"chart-data":t.phonemeData,"sim-config":t.simConfig,phonemes:t.phonemes}}):n("phoneme-activations-chart",{staticClass:"chart-wrapper",attrs:{"chart-data":t.phonemeData,"sim-config":t.simConfig,phonemes:t.phonemes}})],1)])};au._withStripped=!0;const ou=ho({render:au,staticRenderFns:[]},(function(t){t&&t("data-v-105814c5_0",{source:"\n.grid2x2 {\n  display: flex;\n  flex: 1;\n  flex-wrap: wrap;\n  flex-direction: row;\n  min-width: 0;\n  min-height: 0;\n}\n.grid-box {\n  min-width: 0;\n  min-height: 0;\n  display: flex;\n  flex-basis: 50%;\n  justify-content: center;\n  flex-direction: column;\n}\n.chart-wrapper {\n  position: relative;\n  min-height: 0;\n  min-width: 0;\n}\n",map:{version:3,sources:["/Users/andrew/code/tracejs/packages/tracejs-vue/src/components/SimulationPage.vue"],names:[],mappings:";AAsCA;EACA,aAAA;EACA,OAAA;EACA,eAAA;EACA,mBAAA;EACA,YAAA;EACA,aAAA;AACA;AAEA;EACA,YAAA;EACA,aAAA;EACA,aAAA;EACA,eAAA;EACA,uBAAA;EACA,sBAAA;AACA;AAEA;EACA,kBAAA;EACA,aAAA;EACA,YAAA;AACA",file:"SimulationPage.vue",sourcesContent:['<template>\n  <div class="grid2x2">\n    <div class="grid-box"><feature-activations-chart :chart-data="featureData" :sim-config="simConfig" class="chart-wrapper" /></div>\n    <div class="grid-box">\n      <word-box-chart v-if="visualize" :chart-data="wordData" :sim-config="simConfig"  class="chart-wrapper" />\n      <word-activations-chart v-else :chart-data="wordData" :sim-config="simConfig"  class="chart-wrapper" />\n    </div>\n    <div class="grid-box"><model-input-chart :chart-data="inputData" :sim-config="simConfig" class="chart-wrapper" /></div>\n    <div class="grid-box">\n      <phoneme-box-chart v-if="visualize" :chart-data="phonemeData" :sim-config="simConfig" :phonemes="phonemes" class="chart-wrapper" />\n      <phoneme-activations-chart v-else :chart-data="phonemeData" :sim-config="simConfig" :phonemes="phonemes" class="chart-wrapper" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport WordBoxChart from \'./WordBoxChart.vue\'\nimport PhonemeBoxChart from \'./PhonemeBoxChart.vue\'\nimport FeatureActivationsChart from \'./FeatureActivationsChart.vue\'\nimport WordActivationsChart from \'./WordActivationsChart.vue\'\nimport ModelInputChart from \'./ModelInputChart.vue\'\nimport PhonemeActivationsChart from \'./PhonemeActivationsChart.vue\'\n\nexport default {\n  props: {\n    simConfig: Object,\n    phonemes: Array,\n    featureData: Array,\n    wordData: Array,\n    inputData: Array,\n    phonemeData: Array,\n    visualize: Boolean\n  },\n  components: { WordBoxChart, PhonemeBoxChart, FeatureActivationsChart, WordActivationsChart, ModelInputChart, PhonemeActivationsChart }\n}\n<\/script>\n\n<style>\n.grid2x2 {\n  display: flex;\n  flex: 1;\n  flex-wrap: wrap;\n  flex-direction: row;\n  min-width: 0;\n  min-height: 0;\n}\n\n.grid-box {\n  min-width: 0;\n  min-height: 0;\n  display: flex;\n  flex-basis: 50%;\n  justify-content: center;\n  flex-direction: column;\n}\n\n.chart-wrapper {\n  position: relative;\n  min-height: 0;\n  min-width: 0;\n}\n</style>\n\n']},media:void 0})}),ru,void 0,!1,void 0,!1,Oo,void 0,void 0);const su={props:{simConfig:{type:Object,required:!0},config:{type:Object,default:()=>({})}},data(){const t=this.config.itemsToWatch;return{domainWords:jr.WORDS,domainPhonemes:jr.PHONEMES,contentTypeResponseProbabilities:Vr.RESPONSE_PROBABILITIES,contentTypeActivations:Vr.ACTIVATIONS,contentTypeCompetitionIndex:Vr.COMPETITION_INDEX,competTypeRaw:Gr.RAW,competTypeFirstDeriv:Gr.FIRST_DERIVATIVE,competTypeSecondDeriv:Gr.SECOND_DERIVATIVE,choiceNormal:Hr.NORMAL,choiceForced:Hr.FORCED,alignments:{Average:$r.AVERAGE,"Max (Ad-Hoc)":$r.MAX_ADHOC,"Max (Ad-Hoc-2)":$r.MAX_ADHOC_2,"Max (Post-Hoc)":$r.MAX_POSTHOC,Specified:$r.STATIC,"Frauenfelder (x, x+1)":$r.FRAUENFELDER},itemsToWatch:new Set,numItemsToWatch:"number"==typeof t?t:10}},computed:{shouldShowAlignmentCalc(){return this.contentType!==Vr.COMPETITION_INDEX},shouldShowAlignment(){const{calculationType:t}=this.config;return this.shouldShowAlignmentCalc&&(t===$r.FRAUENFELDER||t===$r.STATIC)},shouldShowLuceChoice(){return this.contentType===Vr.RESPONSE_PROBABILITIES},shouldShowItems(){return this.contentType!==Vr.COMPETITION_INDEX},shouldShowCompetIndex(){return this.contentType===Vr.COMPETITION_INDEX},shouldShowCompetSlope(){return this.shouldShowCompetIndex&&this.config.competType!==Gr.RAW},contentType:{get:function(){return this.config.kValue<0?Vr.COMPETITION_INDEX:0===this.config.kValue?Vr.ACTIVATIONS:Vr.RESPONSE_PROBABILITIES},set:function(t){t===Vr.ACTIVATIONS?this.$set(this.config,"kValue",0):t===Vr.COMPETITION_INDEX?this.$set(this.config,"kValue",-1):this.$set(this.config,"kValue",4)}},useSpecifiedItems:{get:function(){return Array.isArray(this.config.itemsToWatch)},set:function(t){this.config.itemsToWatch=t?Array.from(this.itemsToWatch,t=>t.phon):this.numItemsToWatch}}},watch:{numItemsToWatch(t){this.useSpecifiedItems||(this.config.itemsToWatch=t)}},methods:{isWatchingItem(t){return this.itemsToWatch.has(t)},setIsWatchingItem(t,e){e?(this.itemsToWatch.add(t),this.config.itemsToWatch=Array.from(this.itemsToWatch,t=>t.phon)):this.itemsToWatch.delete(t)}}};var lu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Analyze")]),t._v(" "),n("div",{staticClass:"control"},[n("label",{staticClass:"radio"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.config.domain,expression:"config.domain"}],attrs:{type:"radio",name:"domain"},domProps:{value:t.domainWords,checked:t._q(t.config.domain,t.domainWords)},on:{change:function(e){return t.$set(t.config,"domain",t.domainWords)}}}),t._v("\n        Words\n      ")]),t._v(" "),n("label",{staticClass:"radio"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.config.domain,expression:"config.domain"}],attrs:{type:"radio",name:"domain"},domProps:{value:t.domainPhonemes,checked:t._q(t.config.domain,t.domainPhonemes)},on:{change:function(e){return t.$set(t.config,"domain",t.domainPhonemes)}}}),t._v("\n        Phonemes\n      ")])])]),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Content")]),t._v(" "),n("div",{staticClass:"control"},[n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.contentType,expression:"contentType"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.contentType=e.target.multiple?n:n[0]}}},[n("option",{domProps:{value:t.contentTypeActivations}},[t._v("Activations")]),t._v(" "),n("option",{domProps:{value:t.contentTypeResponseProbabilities}},[t._v("Response Probabilities")]),t._v(" "),n("option",{domProps:{value:t.contentTypeCompetitionIndex}},[t._v("Competition Index")])])])])]),t._v(" "),t.shouldShowItems?n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Items")]),t._v(" "),n("div",{staticClass:"control"},[n("label",{staticClass:"radio"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.useSpecifiedItems,expression:"useSpecifiedItems"}],attrs:{type:"radio",name:"items"},domProps:{value:!1,checked:t._q(t.useSpecifiedItems,!1)},on:{change:function(e){t.useSpecifiedItems=!1}}}),t._v("\n        Use top "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.numItemsToWatch,expression:"numItemsToWatch"}],staticStyle:{width:"50px"},attrs:{type:"number",disabled:t.useSpecifiedItems},domProps:{value:t.numItemsToWatch},on:{input:function(e){e.target.composing||(t.numItemsToWatch=e.target.value)}}}),t._v(" items\n      ")])]),t._v(" "),n("div",{staticClass:"control"},[n("label",{staticClass:"radio"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.useSpecifiedItems,expression:"useSpecifiedItems"}],attrs:{type:"radio",name:"items"},domProps:{value:!0,checked:t._q(t.useSpecifiedItems,!0)},on:{change:function(e){t.useSpecifiedItems=!0}}}),t._v("\n        Use selected items\n      ")])]),t._v(" "),t.useSpecifiedItems?n("div",{staticClass:"items-container"},t._l(t.simConfig.lexicon,(function(e,i){return n("div",{key:i,staticClass:"control"},[n("label",{staticClass:"checkbox"},[n("input",{attrs:{type:"checkbox"},domProps:{checked:t.isWatchingItem(e)},on:{change:function(n){return t.setIsWatchingItem(e,n.target.checked)}}}),t._v("\n          "+t._s(e.phon)+"\n        ")])])})),0):t._e()]):t._e(),t._v(" "),t.shouldShowAlignmentCalc?n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Alignment Calculation")]),t._v(" "),t._l(t.alignments,(function(e,i){return n("div",{key:e,staticClass:"control"},[n("label",{staticClass:"radio"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.config.calculationType,expression:"config.calculationType"}],attrs:{type:"radio",name:"alignment"},domProps:{value:e,checked:t._q(t.config.calculationType,e)},on:{change:function(n){return t.$set(t.config,"calculationType",e)}}}),t._v("\n        "+t._s(i)+"\n      ")])])}))],2):t._e(),t._v(" "),t.shouldShowAlignment?n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Alignment")]),t._v(" "),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.config.alignment,expression:"config.alignment"}],staticClass:"input",attrs:{min:"0",type:"number"},domProps:{value:t.config.alignment},on:{input:function(e){e.target.composing||t.$set(t.config,"alignment",e.target.value)}}})])]):t._e(),t._v(" "),t.shouldShowLuceChoice?n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Luce Choice")]),t._v(" "),n("div",{staticClass:"control"},[n("label",{staticClass:"radio"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.config.choice,expression:"config.choice"}],attrs:{type:"radio",name:"choice"},domProps:{value:t.choiceNormal,checked:t._q(t.config.choice,t.choiceNormal)},on:{change:function(e){return t.$set(t.config,"choice",t.choiceNormal)}}}),t._v("\n        All Items\n      ")]),t._v(" "),n("label",{staticClass:"radio"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.config.choice,expression:"config.choice"}],attrs:{type:"radio",name:"choice"},domProps:{value:t.choiceForced,checked:t._q(t.config.choice,t.choiceForced)},on:{change:function(e){return t.$set(t.config,"choice",t.choiceForced)}}}),t._v("\n        Forced Choice\n      ")])]),t._v(" "),n("br"),t._v(" "),n("label",[t._v("\n      K Value\n      "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.config.kValue,expression:"config.kValue"}],staticClass:"input",staticStyle:{width:"50px"},attrs:{min:"0",type:"number"},domProps:{value:t.config.kValue},on:{input:function(e){e.target.composing||t.$set(t.config,"kValue",e.target.value)}}})])]):t._e(),t._v(" "),t.shouldShowCompetIndex?n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Global Competition Index")]),t._v(" "),n("div",{staticClass:"control"},[n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.config.competType,expression:"config.competType"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.config,"competType",e.target.multiple?n:n[0])}}},[n("option",{domProps:{value:t.competTypeRaw}},[t._v("Raw")]),t._v(" "),n("option",{domProps:{value:t.competTypeFirstDeriv}},[t._v("1st Derivative")]),t._v(" "),n("option",{domProps:{value:t.competTypeSecondDeriv}},[t._v("2nd Derivative")])])])])]):t._e(),t._v(" "),t.shouldShowCompetSlope?n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Sampling Width")]),t._v(" "),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.config.competSlope,expression:"config.competSlope"}],staticClass:"input",attrs:{min:"2",type:"number"},domProps:{value:t.config.competSlope},on:{input:function(e){e.target.composing||t.$set(t.config,"competSlope",e.target.value)}}})])]):t._e()])};lu._withStripped=!0;const cu=ho({render:lu,staticRenderFns:[]},(function(t){t&&t("data-v-2bf86559_0",{source:"\n.items-container {\n  overflow-y: scroll;\n  height: 150px;\n}\n",map:{version:3,sources:["/Users/andrew/code/tracejs/packages/tracejs-vue/src/components/AnalysisConfig.vue"],names:[],mappings:";AA2OA;EACA,kBAAA;EACA,aAAA;AACA",file:"AnalysisConfig.vue",sourcesContent:['<template>\n  <div>\n    <div class="field">\n      <label class="label">Analyze</label>\n      <div class="control">\n        <label class="radio">\n          <input type="radio" name="domain" :value="domainWords" v-model="config.domain" />\n          Words\n        </label>\n        <label class="radio">\n          <input type="radio" name="domain" :value="domainPhonemes" v-model="config.domain" />\n          Phonemes\n        </label>\n      </div>\n    </div>\n\n    <div class="field">\n      <label class="label">Content</label>\n      <div class="control">\n        <div class="select">\n          <select v-model="contentType">\n            <option :value="contentTypeActivations">Activations</option>\n            <option :value="contentTypeResponseProbabilities">Response Probabilities</option>\n            <option :value="contentTypeCompetitionIndex">Competition Index</option>\n          </select>\n        </div>\n      </div>\n    </div>\n\n    <div v-if="shouldShowItems" class="field">\n      <label class="label">Items</label>\n      <div class="control">\n        <label class="radio">\n          <input type="radio" name="items" :value="false" v-model="useSpecifiedItems" />\n          Use top <input type="number" style="width: 50px" :disabled="useSpecifiedItems" v-model="numItemsToWatch"> items\n        </label>\n      </div>\n      <div class="control">\n        <label class="radio">\n          <input type="radio" name="items" :value="true" v-model="useSpecifiedItems" />\n          Use selected items\n        </label>\n      </div>\n      <div v-if="useSpecifiedItems" class="items-container">\n        <div v-for="(word, index) in simConfig.lexicon" :key="index" class="control">\n          <label class="checkbox">\n            <input type="checkbox" :checked="isWatchingItem(word)" @change="setIsWatchingItem(word, $event.target.checked)">\n            {{ word.phon }}\n          </label>\n        </div>\n      </div>\n    </div>\n\n    <div v-if="shouldShowAlignmentCalc" class="field">\n      <label class="label">Alignment Calculation</label>\n      <div v-for="(value, label) in alignments" :key="value" class="control">\n        <label class="radio">\n          <input type="radio" name="alignment" :value="value" v-model="config.calculationType" />\n          {{ label }}\n        </label>\n      </div>\n    </div>\n\n    <div v-if="shouldShowAlignment" class="field">\n      <label class="label">Alignment</label>\n      <div class="control">\n        <input class="input" min="0" type="number" v-model="config.alignment" />\n      </div>\n    </div>\n\n    <div v-if="shouldShowLuceChoice" class="field">\n      <label class="label">Luce Choice</label>\n      <div class="control">\n        <label class="radio">\n          <input type="radio" name="choice" :value="choiceNormal" v-model="config.choice" />\n          All Items\n        </label>\n        <label class="radio">\n          <input type="radio" name="choice" :value="choiceForced" v-model="config.choice" />\n          Forced Choice\n        </label>\n      </div>\n      <br />\n      <label>\n        K Value\n        <input class="input" min="0" type="number" v-model="config.kValue" style="width: 50px;" />\n      </label>\n    </div>\n\n    <div v-if="shouldShowCompetIndex" class="field">\n      <label class="label">Global Competition Index</label>\n      <div class="control">\n        <div class="select">\n          <select v-model="config.competType">\n            <option :value="competTypeRaw">Raw</option>\n            <option :value="competTypeFirstDeriv">1st Derivative</option>\n            <option :value="competTypeSecondDeriv">2nd Derivative</option>\n          </select>\n        </div>\n      </div>\n    </div>\n\n    <div v-if="shouldShowCompetSlope" class="field">\n      <label class="label">Sampling Width</label>\n      <div class="control">\n        <input class="input" min="2" type="number" v-model="config.competSlope" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { TraceDomain, TraceContentType, TraceCalculationType, TraceCompetitionType, TraceChoice } from \'tracejs\'\n\nexport default {\n  props: {\n    simConfig: {\n      type: Object,\n      required: true,\n    },\n    config: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  data() {\n    const itemsToWatch = this.config.itemsToWatch;\n    return {\n      domainWords: TraceDomain.WORDS,\n      domainPhonemes: TraceDomain.PHONEMES,\n\n      contentTypeResponseProbabilities: TraceContentType.RESPONSE_PROBABILITIES,\n      contentTypeActivations: TraceContentType.ACTIVATIONS,\n      contentTypeCompetitionIndex: TraceContentType.COMPETITION_INDEX,\n\n      competTypeRaw: TraceCompetitionType.RAW,\n      competTypeFirstDeriv: TraceCompetitionType.FIRST_DERIVATIVE,\n      competTypeSecondDeriv: TraceCompetitionType.SECOND_DERIVATIVE,\n\n      choiceNormal: TraceChoice.NORMAL,\n      choiceForced: TraceChoice.FORCED,\n\n      alignments: {\n        \'Average\': TraceCalculationType.AVERAGE,\n        \'Max (Ad-Hoc)\': TraceCalculationType.MAX_ADHOC,\n        \'Max (Ad-Hoc-2)\': TraceCalculationType.MAX_ADHOC_2,\n        \'Max (Post-Hoc)\': TraceCalculationType.MAX_POSTHOC,\n        \'Specified\': TraceCalculationType.STATIC,\n        \'Frauenfelder (x, x+1)\': TraceCalculationType.FRAUENFELDER,\n      },\n\n      itemsToWatch: new Set(),\n      numItemsToWatch: typeof itemsToWatch === \'number\' ? itemsToWatch : 10,\n    }\n  },\n  computed: {\n    shouldShowAlignmentCalc() {\n      return this.contentType !== TraceContentType.COMPETITION_INDEX;\n    },\n    shouldShowAlignment() {\n      const { calculationType } = this.config;\n      return this.shouldShowAlignmentCalc &&\n        (calculationType === TraceCalculationType.FRAUENFELDER\n          || calculationType === TraceCalculationType.STATIC);\n    },\n    shouldShowLuceChoice() {\n      return this.contentType === TraceContentType.RESPONSE_PROBABILITIES;\n    },\n    shouldShowItems() {\n      return this.contentType !== TraceContentType.COMPETITION_INDEX;\n    },\n    shouldShowCompetIndex() {\n      return this.contentType === TraceContentType.COMPETITION_INDEX;\n    },\n    shouldShowCompetSlope() {\n      return this.shouldShowCompetIndex && this.config.competType !== TraceCompetitionType.RAW;\n    },\n    contentType: {\n      get: function() {\n        if (this.config.kValue < 0) {\n          return TraceContentType.COMPETITION_INDEX;\n        } else if (this.config.kValue === 0) {\n          return TraceContentType.ACTIVATIONS;\n        } else {\n          return TraceContentType.RESPONSE_PROBABILITIES;\n        }\n      },\n      set: function(val) {\n        if (val === TraceContentType.ACTIVATIONS) {\n          this.$set(this.config, \'kValue\', 0);\n        } else if (val === TraceContentType.COMPETITION_INDEX) {\n          this.$set(this.config, \'kValue\', -1);\n        } else {\n          this.$set(this.config, \'kValue\', 4);\n        }\n      }\n    },\n    useSpecifiedItems: {\n      get: function () {\n        return Array.isArray(this.config.itemsToWatch);\n      },\n      set: function (val) {\n        if (val) {\n          this.config.itemsToWatch = Array.from(this.itemsToWatch, item => item.phon);\n        } else {\n          this.config.itemsToWatch = this.numItemsToWatch;\n        }\n      },\n    }\n  },\n  watch: {\n    numItemsToWatch(val) {\n      if (!this.useSpecifiedItems) {\n        this.config.itemsToWatch = val;\n      }\n    },\n  },\n  methods: {\n    isWatchingItem(item) {\n      return this.itemsToWatch.has(item);\n    },\n    setIsWatchingItem(item, flag) {\n      if (flag) {\n        this.itemsToWatch.add(item);\n        // todo: this is ugly\n        this.config.itemsToWatch = Array.from(this.itemsToWatch, item => item.phon);\n      } else {\n        this.itemsToWatch.delete(item);\n      }\n    },\n  }\n}\n<\/script>\n\n<style lang="css">\n.items-container {\n  overflow-y: scroll;\n  height: 150px;\n}\n</style>\n']},media:void 0})}),su,void 0,!1,void 0,!1,Oo,void 0,void 0),{reactiveProp:hu}=jo;const uu={props:{config:{type:Object,default:()=>({})},simConfig:{type:Object,required:!0},chartData:{type:Object,default:()=>({datasets:[]})}},components:{AnalysisConfig:cu,Chart:ho({},void 0,{extends:Lh,mixins:[hu],data:()=>({options:{responsive:!0,maintainAspectRatio:!1,elements:{point:{radius:0,hitRadius:0}}}}),mounted(){this.renderChart(this.chartData,this.options)}},void 0,void 0,void 0,!1,void 0,void 0,void 0)}};var du=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{display:"flex",flex:"1","min-width":"0",padding:"1rem"}},[e("div",{staticStyle:{width:"15rem"}},[e("analysis-config",{attrs:{config:this.config,"sim-config":this.simConfig}})],1),this._v(" "),e("div",{staticStyle:{"flex-grow":"1","min-width":"0"}},[e("chart",{staticClass:"wrapper",attrs:{"chart-data":this.chartData}})],1)])};du._withStripped=!0;const fu=ho({render:du,staticRenderFns:[]},(function(t){t&&t("data-v-fe3680fa_0",{source:"\n.wrapper {\n  position: relative;\n  height: 100%;\n  width: 100%;\n  min-height: 0;\n  min-width: 0;\n}\n",map:{version:3,sources:["/Users/andrew/code/tracejs/packages/tracejs-vue/src/components/Analysis.vue"],names:[],mappings:";AAmCA;EACA,kBAAA;EACA,YAAA;EACA,WAAA;EACA,aAAA;EACA,YAAA;AACA",file:"Analysis.vue",sourcesContent:['<template>\n  <div style="display: flex; flex: 1; min-width: 0; padding: 1rem;">\n    <div style="width: 15rem;">\n      <analysis-config :config="config" :sim-config="simConfig" />\n    </div>\n    <div style="flex-grow: 1; min-width: 0;">\n      <chart :chart-data="chartData" class="wrapper" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport AnalysisConfig from \'./AnalysisConfig.vue\'\nimport Chart from \'./Chart.vue\'\n\nexport default {\n  props: {\n    config: {\n      type: Object,\n      default: () => ({})\n    },\n    simConfig: {\n      type: Object,\n      required: true,\n    },\n    chartData: {\n      type: Object,\n      default: () => ({ datasets: [] })\n    }\n  },\n  components: { AnalysisConfig, Chart }\n}\n<\/script>\n\n<style>\n.wrapper {\n  position: relative;\n  height: 100%;\n  width: 100%;\n  min-height: 0;\n  min-width: 0;\n}\n</style>\n']},media:void 0})}),uu,void 0,!1,void 0,!1,Oo,void 0,void 0);function pu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function mu(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)pu(n,i)&&(t[i]=n[i])}}return t}function gu(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)}var vu={arraySet:function(t,e,n,i,r){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),r);else for(var a=0;a<i;a++)t[r+a]=e[n+a]},flattenChunks:function(t){var e,n,i,r,a,o;for(i=0,e=0,n=t.length;e<n;e++)i+=t[e].length;for(o=new Uint8Array(i),r=0,e=0,n=t.length;e<n;e++)a=t[e],o.set(a,r),r+=a.length;return o},Buf8:function(t){return new Uint8Array(t)},Buf16:function(t){return new Uint16Array(t)},Buf32:function(t){return new Int32Array(t)}},yu={arraySet:function(t,e,n,i,r){for(var a=0;a<i;a++)t[r+a]=e[n+a]},flattenChunks:function(t){return[].concat.apply([],t)},Buf8:function(t){return new Array(t)},Buf16:function(t){return new Array(t)},Buf32:function(t){return new Array(t)}},bu=function(){var t="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;return bu=function(){return t},t},_u=function(t,e,n,i,r){return(_u=bu()?vu.arraySet:yu.arraySet)(t,e,n,i,r)},xu=function(t){return(xu=bu()?vu.flattenChunks:yu.flattenChunks)(t)},wu=function(t){return(wu=bu()?vu.Buf8:yu.Buf8)(t)},ku=function(t){return(ku=bu()?vu.Buf16:yu.Buf16)(t)},Cu=function(t){return(Cu=bu()?vu.Buf32:yu.Buf32)(t)},Su=function(){var t=!0;try{String.fromCharCode.apply(null,[0])}catch(e){t=!1}return Su=function(){return t},t},Au=function(){var t=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){t=!1}return Au=function(){return t},t},Mu=function(t){for(var e=wu(256),n=0;n<256;n++)e[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;return e[254]=e[254]=1,Mu=function(t){return e[t]},e[t]};function Tu(t){var e,n,i,r,a,o=t.length,s=0;for(r=0;r<o;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<o&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(s),a=0,r=0;a<s;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<o&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e}function Du(t,e){if(e<65534&&(t.subarray&&Au()||!t.subarray&&Su()))return String.fromCharCode.apply(null,gu(t,e));for(var n="",i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n}function Pu(t,e){var n,i,r,a,o=e||t.length,s=new Array(2*o);for(i=0,n=0;n<o;)if((r=t[n++])<128)s[i++]=r;else if((a=Mu(r))>4)s[i++]=65533,n+=a-1;else{for(r&=2===a?31:3===a?15:7;a>1&&n<o;)r=r<<6|63&t[n++],a--;a>1?s[i++]=65533:r<65536?s[i++]=r:(r-=65536,s[i++]=55296|r>>10&1023,s[i++]=56320|1023&r)}return Du(s,i)}function Ou(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+Mu(t[n])>e?n:e}function Iu(t,e,n,i){for(var r=65535&t|0,a=t>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{a=a+(r=r+e[i++]|0)|0}while(--o);r%=65521,a%=65521}return r|a<<16|0}var Nu=function(){var t=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();return Nu=function(){return t},t};function Fu(t,e,n,i){var r=Nu(),a=i+n;t^=-1;for(var o=i;o<a;o++)t=t>>>8^r[255&(t^e[o])];return-1^t}function Eu(t,e){var n,i,r,a,o,s,l,c,h,u,d,f,p,m,g,v,y,b,_,x,w,k,C,S,A;n=t.state,i=t.next_in,S=t.input,r=i+(t.avail_in-5),a=t.next_out,A=t.output,o=a-(e-t.avail_out),s=a+(t.avail_out-257),l=n.dmax,c=n.wsize,h=n.whave,u=n.wnext,d=n.window,f=n.hold,p=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{p<15&&(f+=S[i++]<<p,p+=8,f+=S[i++]<<p,p+=8),b=m[f&v];e:for(;;){if(f>>>=_=b>>>24,p-=_,0===(_=b>>>16&255))A[a++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=m[(65535&b)+(f&(1<<_)-1)];continue e}if(32&_){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}x=65535&b,(_&=15)&&(p<_&&(f+=S[i++]<<p,p+=8),x+=f&(1<<_)-1,f>>>=_,p-=_),p<15&&(f+=S[i++]<<p,p+=8,f+=S[i++]<<p,p+=8),b=g[f&y];n:for(;;){if(f>>>=_=b>>>24,p-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=g[(65535&b)+(f&(1<<_)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(w=65535&b,p<(_&=15)&&(f+=S[i++]<<p,(p+=8)<_&&(f+=S[i++]<<p,p+=8)),(w+=f&(1<<_)-1)>l){t.msg="invalid distance too far back",n.mode=30;break t}if(f>>>=_,p-=_,w>(_=a-o)){if((_=w-_)>h&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(k=0,C=d,0===u){if(k+=c-_,_<x){x-=_;do{A[a++]=d[k++]}while(--_);k=a-w,C=A}}else if(u<_){if(k+=c+u-_,(_-=u)<x){x-=_;do{A[a++]=d[k++]}while(--_);if(k=0,u<x){x-=_=u;do{A[a++]=d[k++]}while(--_);k=a-w,C=A}}}else if(k+=u-_,_<x){x-=_;do{A[a++]=d[k++]}while(--_);k=a-w,C=A}for(;x>2;)A[a++]=C[k++],A[a++]=C[k++],A[a++]=C[k++],x-=3;x&&(A[a++]=C[k++],x>1&&(A[a++]=C[k++]))}else{k=a-w;do{A[a++]=A[k++],A[a++]=A[k++],A[a++]=A[k++],x-=3}while(x>2);x&&(A[a++]=A[k++],x>1&&(A[a++]=A[k++]))}break}}break}}while(i<r&&a<s);i-=x=p>>3,f&=(1<<(p-=x<<3))-1,t.next_in=i,t.next_out=a,t.avail_in=i<r?r-i+5:5-(i-r),t.avail_out=a<s?s-a+257:257-(a-s),n.hold=f,n.bits=p}var Ru=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Lu=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],zu=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Wu=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function ju(t,e,n,i,r,a,o,s){var l,c,h,u,d,f,p,m,g,v=s.bits,y=0,b=0,_=0,x=0,w=0,k=0,C=0,S=0,A=0,M=0,T=null,D=0,P=ku(16),O=ku(16),I=null,N=0;for(y=0;y<=15;y++)P[y]=0;for(b=0;b<i;b++)P[e[n+b]]++;for(w=v,x=15;x>=1&&0===P[x];x--);if(w>x&&(w=x),0===x)return r[a++]=20971520,r[a++]=20971520,s.bits=1,0;for(_=1;_<x&&0===P[_];_++);for(w<_&&(w=_),S=1,y=1;y<=15;y++)if(S<<=1,(S-=P[y])<0)return-1;if(S>0&&(0===t||1!==x))return-1;for(O[1]=0,y=1;y<15;y++)O[y+1]=O[y]+P[y];for(b=0;b<i;b++)0!==e[n+b]&&(o[O[e[n+b]]++]=b);if(0===t?(T=I=o,f=19):1===t?(T=Ru,D-=257,I=Lu,N-=257,f=256):(T=zu,I=Wu,f=-1),M=0,b=0,y=_,d=a,k=w,C=0,h=-1,u=(A=1<<w)-1,1===t&&A>852||2===t&&A>592)return 1;for(;;){p=y-C,o[b]<f?(m=0,g=o[b]):o[b]>f?(m=I[N+o[b]],g=T[D+o[b]]):(m=96,g=0),l=1<<y-C,_=c=1<<k;do{r[d+(M>>C)+(c-=l)]=p<<24|m<<16|g|0}while(0!==c);for(l=1<<y-1;M&l;)l>>=1;if(0!==l?(M&=l-1,M+=l):M=0,b++,0==--P[y]){if(y===x)break;y=e[n+o[b]]}if(y>w&&(M&u)!==h){for(0===C&&(C=w),d+=_,S=1<<(k=y-C);k+C<x&&!((S-=P[k+C])<=0);)k++,S<<=1;if(A+=1<<k,1===t&&A>852||2===t&&A>592)return 1;r[h=M&u]=w<<24|k<<16|d-a|0}}return 0!==M&&(r[d+M]=y-C<<24|64<<16|0),s.bits=w,0}function Bu(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function Vu(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=ku(320),this.work=ku(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function qu(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,function(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=Cu(852),e.distcode=e.distdyn=Cu(592),e.sane=1,e.back=-1,0):-2}(t)):-2}function $u(t,e){var n,i;return t?(i=new Vu,t.state=i,i.window=null,0!==(n=function(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?-2:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,qu(t))):-2}(t,e))&&(t.state=null),n):-2}var Yu,Hu,Uu=!0;function Gu(t){if(Uu){var e;for(Yu=Cu(512),Hu=Cu(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ju(1,t.lens,0,288,Yu,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ju(2,t.lens,0,32,Hu,0,t.work,{bits:5}),Uu=!1}t.lencode=Yu,t.lenbits=9,t.distcode=Hu,t.distbits=5}function Xu(t,e,n,i){var r,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=wu(a.wsize)),i>=a.wsize?(_u(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((r=a.wsize-a.wnext)>i&&(r=i),_u(a.window,e,n-i,r,a.wnext),(i-=r)?(_u(a.window,e,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0}function Zu(t,e){var n,i,r,a,o,s,l,c,h,u,d,f,p,m,g,v,y,b,_,x,w,k,C,S,A=0,M=wu(4),T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return-2;12===(n=t.state).mode&&(n.mode=13),o=t.next_out,r=t.output,l=t.avail_out,a=t.next_in,i=t.input,s=t.avail_in,c=n.hold,h=n.bits,u=s,d=l,k=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;h<16;){if(0===s)break t;s--,c+=i[a++]<<h,h+=8}if(2&n.wrap&&35615===c){n.check=0,M[0]=255&c,M[1]=c>>>8&255,n.check=Fu(n.check,M,2,0),c=0,h=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&c)){t.msg="unknown compression method",n.mode=30;break}if(h-=4,w=8+(15&(c>>>=4)),0===n.wbits)n.wbits=w;else if(w>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<w,t.adler=n.check=1,n.mode=512&c?10:12,c=0,h=0;break;case 2:for(;h<16;){if(0===s)break t;s--,c+=i[a++]<<h,h+=8}if(n.flags=c,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(M[0]=255&c,M[1]=c>>>8&255,n.check=Fu(n.check,M,2,0)),c=0,h=0,n.mode=3;case 3:for(;h<32;){if(0===s)break t;s--,c+=i[a++]<<h,h+=8}n.head&&(n.head.time=c),512&n.flags&&(M[0]=255&c,M[1]=c>>>8&255,M[2]=c>>>16&255,M[3]=c>>>24&255,n.check=Fu(n.check,M,4,0)),c=0,h=0,n.mode=4;case 4:for(;h<16;){if(0===s)break t;s--,c+=i[a++]<<h,h+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(M[0]=255&c,M[1]=c>>>8&255,n.check=Fu(n.check,M,2,0)),c=0,h=0,n.mode=5;case 5:if(1024&n.flags){for(;h<16;){if(0===s)break t;s--,c+=i[a++]<<h,h+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(M[0]=255&c,M[1]=c>>>8&255,n.check=Fu(n.check,M,2,0)),c=0,h=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((f=n.length)>s&&(f=s),f&&(n.head&&(w=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),_u(n.head.extra,i,a,f,w)),512&n.flags&&(n.check=Fu(n.check,i,f,a)),s-=f,a+=f,n.length-=f),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break t;f=0;do{w=i[a+f++],n.head&&w&&n.length<65536&&(n.head.name+=String.fromCharCode(w))}while(w&&f<s);if(512&n.flags&&(n.check=Fu(n.check,i,f,a)),s-=f,a+=f,w)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break t;f=0;do{w=i[a+f++],n.head&&w&&n.length<65536&&(n.head.comment+=String.fromCharCode(w))}while(w&&f<s);if(512&n.flags&&(n.check=Fu(n.check,i,f,a)),s-=f,a+=f,w)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;h<16;){if(0===s)break t;s--,c+=i[a++]<<h,h+=8}if(c!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}c=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;h<32;){if(0===s)break t;s--,c+=i[a++]<<h,h+=8}t.adler=n.check=Bu(c),c=0,h=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,n.hold=c,n.bits=h,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){c>>>=7&h,h-=7&h,n.mode=27;break}for(;h<3;){if(0===s)break t;s--,c+=i[a++]<<h,h+=8}switch(n.last=1&c,h-=1,3&(c>>>=1)){case 0:n.mode=14;break;case 1:if(Gu(n),n.mode=20,6===e){c>>>=2,h-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}c>>>=2,h-=2;break;case 14:for(c>>>=7&h,h-=7&h;h<32;){if(0===s)break t;s--,c+=i[a++]<<h,h+=8}if((65535&c)!=(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&c,c=0,h=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(f=n.length){if(f>s&&(f=s),f>l&&(f=l),0===f)break t;_u(r,i,a,f,o),s-=f,a+=f,l-=f,o+=f,n.length-=f;break}n.mode=12;break;case 17:for(;h<14;){if(0===s)break t;s--,c+=i[a++]<<h,h+=8}if(n.nlen=257+(31&c),c>>>=5,h-=5,n.ndist=1+(31&c),c>>>=5,h-=5,n.ncode=4+(15&c),c>>>=4,h-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;h<3;){if(0===s)break t;s--,c+=i[a++]<<h,h+=8}n.lens[T[n.have++]]=7&c,c>>>=3,h-=3}for(;n.have<19;)n.lens[T[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,C={bits:n.lenbits},k=ju(0,n.lens,0,19,n.lencode,0,n.work,C),n.lenbits=C.bits,k){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;v=(A=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,y=65535&A,!((g=A>>>24)<=h);){if(0===s)break t;s--,c+=i[a++]<<h,h+=8}if(y<16)c>>>=g,h-=g,n.lens[n.have++]=y;else{if(16===y){for(S=g+2;h<S;){if(0===s)break t;s--,c+=i[a++]<<h,h+=8}if(c>>>=g,h-=g,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}w=n.lens[n.have-1],f=3+(3&c),c>>>=2,h-=2}else if(17===y){for(S=g+3;h<S;){if(0===s)break t;s--,c+=i[a++]<<h,h+=8}h-=g,w=0,f=3+(7&(c>>>=g)),c>>>=3,h-=3}else{for(S=g+7;h<S;){if(0===s)break t;s--,c+=i[a++]<<h,h+=8}h-=g,w=0,f=11+(127&(c>>>=g)),c>>>=7,h-=7}if(n.have+f>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;f--;)n.lens[n.have++]=w}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,C={bits:n.lenbits},k=ju(1,n.lens,0,n.nlen,n.lencode,0,n.work,C),n.lenbits=C.bits,k){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,C={bits:n.distbits},k=ju(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,C),n.distbits=C.bits,k){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(s>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,n.hold=c,n.bits=h,Eu(t,d),o=t.next_out,r=t.output,l=t.avail_out,a=t.next_in,i=t.input,s=t.avail_in,c=n.hold,h=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;v=(A=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,y=65535&A,!((g=A>>>24)<=h);){if(0===s)break t;s--,c+=i[a++]<<h,h+=8}if(v&&0==(240&v)){for(b=g,_=v,x=y;v=(A=n.lencode[x+((c&(1<<b+_)-1)>>b)])>>>16&255,y=65535&A,!(b+(g=A>>>24)<=h);){if(0===s)break t;s--,c+=i[a++]<<h,h+=8}c>>>=b,h-=b,n.back+=b}if(c>>>=g,h-=g,n.back+=g,n.length=y,0===v){n.mode=26;break}if(32&v){n.back=-1,n.mode=12;break}if(64&v){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&v,n.mode=22;case 22:if(n.extra){for(S=n.extra;h<S;){if(0===s)break t;s--,c+=i[a++]<<h,h+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;v=(A=n.distcode[c&(1<<n.distbits)-1])>>>16&255,y=65535&A,!((g=A>>>24)<=h);){if(0===s)break t;s--,c+=i[a++]<<h,h+=8}if(0==(240&v)){for(b=g,_=v,x=y;v=(A=n.distcode[x+((c&(1<<b+_)-1)>>b)])>>>16&255,y=65535&A,!(b+(g=A>>>24)<=h);){if(0===s)break t;s--,c+=i[a++]<<h,h+=8}c>>>=b,h-=b,n.back+=b}if(c>>>=g,h-=g,n.back+=g,64&v){t.msg="invalid distance code",n.mode=30;break}n.offset=y,n.extra=15&v,n.mode=24;case 24:if(n.extra){for(S=n.extra;h<S;){if(0===s)break t;s--,c+=i[a++]<<h,h+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===l)break t;if(f=d-l,n.offset>f){if((f=n.offset-f)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),m=n.window}else m=r,p=o-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do{r[o++]=m[p++]}while(--f);0===n.length&&(n.mode=21);break;case 26:if(0===l)break t;r[o++]=n.length,l--,n.mode=21;break;case 27:if(n.wrap){for(;h<32;){if(0===s)break t;s--,c|=i[a++]<<h,h+=8}if(d-=l,t.total_out+=d,n.total+=d,d&&(t.adler=n.check=n.flags?Fu(n.check,r,d,o-d):Iu(n.check,r,d,o-d)),d=l,(n.flags?c:Bu(c))!==n.check){t.msg="incorrect data check",n.mode=30;break}c=0,h=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;h<32;){if(0===s)break t;s--,c+=i[a++]<<h,h+=8}if(c!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}c=0,h=0}n.mode=29;case 29:k=1;break t;case 30:k=-3;break t;case 31:return-4;case 32:default:return-2}return t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,n.hold=c,n.bits=h,(n.wsize||d!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&Xu(t,t.output,t.next_out,d-t.avail_out),u-=t.avail_in,d-=t.avail_out,t.total_in+=u,t.total_out+=d,n.total+=d,n.wrap&&d&&(t.adler=n.check=n.flags?Fu(n.check,r,d,t.next_out-d):Iu(n.check,r,d,t.next_out-d)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===u&&0===d||4===e)&&0===k&&(k=-5),k}function Ju(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?-2:11===n.mode&&Iu(1,e,i,0)!==n.check?-3:Xu(t,e,i,i)?(n.mode=31,-4):(n.havedict=1,0):-2}var Ku={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function Qu(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function td(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var ed=Object.prototype.toString,nd=function t(e){if(!(this instanceof t))return new t(e);this.options=mu({chunkSize:16384,windowBits:0,to:""},e||{});var n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,0===n.windowBits&&(n.windowBits=-15)),!(n.windowBits>=0&&n.windowBits<16)||e&&e.windowBits||(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&0==(15&n.windowBits)&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qu,this.strm.avail_out=0;var i,r,a,o=$u(this.strm,n.windowBits);if(0!==o)throw new Error(Ku[o]);if(this.header=new td,i=this.strm,r=this.header,i&&i.state&&(0==(2&(a=i.state).wrap)||(a.head=r,r.done=!1)),n.dictionary&&("string"==typeof n.dictionary?n.dictionary=Tu(n.dictionary):"[object ArrayBuffer]"===ed.call(n.dictionary)&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&0!==(o=Ju(this.strm,n.dictionary))))throw new Error(Ku[o])};function id(t){for(var e=t.length;--e>=0;)t[e]=0}nd.prototype.push=function(t,e){var n,i,r,a,o,s,l=this.strm,c=this.options.chunkSize,h=this.options.dictionary,u=!1;if(this.ended)return!1;i=e===~~e?e:!0===e?4:0,"string"==typeof t?l.input=function(t){for(var e=new Uint8Array(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e}(t):"[object ArrayBuffer]"===ed.call(t)?l.input=new Uint8Array(t):l.input=t,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=wu(c),l.next_out=0,l.avail_out=c),2===(n=Zu(l,0))&&h&&(s="string"==typeof h?Tu(h):"[object ArrayBuffer]"===ed.call(h)?new Uint8Array(h):h,n=Ju(this.strm,s)),-5===n&&!0===u&&(n=0,u=!1),1!==n&&0!==n)return this.onEnd(n),this.ended=!0,!1;l.next_out&&(0!==l.avail_out&&1!==n&&(0!==l.avail_in||4!==i&&2!==i)||("string"===this.options.to?(r=Ou(l.output,l.next_out),a=l.next_out-r,o=Pu(l.output,r),l.next_out=a,l.avail_out=c-a,a&&_u(l.output,l.output,r,a,0),this.onData(o)):this.onData(gu(l.output,l.next_out)))),0===l.avail_in&&0===l.avail_out&&(u=!0)}while((l.avail_in>0||0===l.avail_out)&&1!==n);return 1===n&&(i=4),4===i?(n=function(t){if(!t||!t.state)return-2;var e=t.state;return e.window&&(e.window=null),t.state=null,0}(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==i||(this.onEnd(0),l.avail_out=0,!0)},nd.prototype.onData=function(t){this.chunks.push(t)},nd.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=xu(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var rd,ad,od,sd,ld,cd,hd,ud,dd,fd=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],pd=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],md=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],gd=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function vd(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function yd(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function bd(t){return t<256?od[t]:od[256+(t>>>7)]}function _d(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function xd(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,_d(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function wd(t,e,n){xd(t,n[2*e],n[2*e+1])}function kd(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function Cd(t,e,n){var i,r,a=new Array(16),o=0;for(i=1;i<=15;i++)a[i]=o=o+n[i-1]<<1;for(r=0;r<=e;r++){var s=t[2*r+1];0!==s&&(t[2*r]=kd(a[s]++,s))}}function Sd(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function Ad(t){t.bi_valid>8?_d(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function Md(t,e,n,i){var r=2*e,a=2*n;return t[r]<t[a]||t[r]===t[a]&&i[e]<=i[n]}function Td(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&Md(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!Md(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i}function Dd(t,e,n){var i,r,a,o,s=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],r=t.pending_buf[t.l_buf+s],s++,0===i?wd(t,r,e):(wd(t,(a=sd[r])+256+1,e),0!==(o=fd[a])&&xd(t,r-=ld[a],o),wd(t,a=bd(--i),n),0!==(o=pd[a])&&xd(t,i-=cd[a],o))}while(s<t.last_lit);wd(t,256,e)}function Pd(t,e){var n,i,r,a=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<l;n++)0!==a[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):a[2*n+1]=0;for(;t.heap_len<2;)a[2*(r=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[r]=0,t.opt_len--,s&&(t.static_len-=o[2*r+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)Td(t,a,n);r=l;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Td(t,a,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,a[2*r]=a[2*n]+a[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,a[2*n+1]=a[2*i+1]=r,t.heap[1]=r++,Td(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,r,a,o,s,l=e.dyn_tree,c=e.max_code,h=e.stat_desc.static_tree,u=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(a=0;a<=15;a++)t.bl_count[a]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(a=l[2*l[2*(i=t.heap[n])+1]+1]+1)>p&&(a=p,m++),l[2*i+1]=a,i>c||(t.bl_count[a]++,o=0,i>=f&&(o=d[i-f]),s=l[2*i],t.opt_len+=s*(a+o),u&&(t.static_len+=s*(h[2*i+1]+o)));if(0!==m){do{for(a=p-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(a=p;0!==a;a--)for(i=t.bl_count[a];0!==i;)(r=t.heap[--n])>c||(l[2*r+1]!==a&&(t.opt_len+=(a-l[2*r+1])*l[2*r],l[2*r+1]=a),i--)}}(t,e),Cd(a,c,t.bl_count)}function Od(t,e,n){var i,r,a=-1,o=e[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=o,o=e[2*(i+1)+1],++s<l&&r===o||(s<c?t.bl_tree[2*r]+=s:0!==r?(r!==a&&t.bl_tree[2*r]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,a=r,0===o?(l=138,c=3):r===o?(l=6,c=3):(l=7,c=4))}function Id(t,e,n){var i,r,a=-1,o=e[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),i=0;i<=n;i++)if(r=o,o=e[2*(i+1)+1],!(++s<l&&r===o)){if(s<c)do{wd(t,r,t.bl_tree)}while(0!=--s);else 0!==r?(r!==a&&(wd(t,r,t.bl_tree),s--),wd(t,16,t.bl_tree),xd(t,s-3,2)):s<=10?(wd(t,17,t.bl_tree),xd(t,s-3,3)):(wd(t,18,t.bl_tree),xd(t,s-11,7));s=0,a=r,0===o?(l=138,c=3):r===o?(l=6,c=3):(l=7,c=4)}}var Nd=!1;function Fd(t){Nd||(!function(){var t,e,n,i,r,a=new Array(16);for(id(rd=new Array(576)),id(ad=new Array(60)),id(od=new Array(512)),id(sd=new Array(256)),id(ld=new Array(29)),id(cd=new Array(30)),n=0,i=0;i<28;i++)for(ld[i]=n,t=0;t<1<<fd[i];t++)sd[n++]=i;for(sd[n-1]=i,r=0,i=0;i<16;i++)for(cd[i]=r,t=0;t<1<<pd[i];t++)od[r++]=i;for(r>>=7;i<30;i++)for(cd[i]=r<<7,t=0;t<1<<pd[i]-7;t++)od[256+r++]=i;for(e=0;e<=15;e++)a[e]=0;for(t=0;t<=143;)rd[2*t+1]=8,t++,a[8]++;for(;t<=255;)rd[2*t+1]=9,t++,a[9]++;for(;t<=279;)rd[2*t+1]=7,t++,a[7]++;for(;t<=287;)rd[2*t+1]=8,t++,a[8]++;for(Cd(rd,287,a),t=0;t<30;t++)ad[2*t+1]=5,ad[2*t]=kd(t,5);hd=new vd(rd,fd,257,286,15),ud=new vd(ad,pd,0,30,15),dd=new vd(new Array(0),md,0,19,7)}(),Nd=!0),t.l_desc=new yd(t.dyn_ltree,hd),t.d_desc=new yd(t.dyn_dtree,ud),t.bl_desc=new yd(t.bl_tree,dd),t.bi_buf=0,t.bi_valid=0,Sd(t)}function Ed(t,e,n,i){xd(t,0+(i?1:0),3),function(t,e,n,i){Ad(t),i&&(_d(t,n),_d(t,~n)),_u(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}function Rd(t){xd(t,2,3),wd(t,256,rd),function(t){16===t.bi_valid?(_d(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}function Ld(t,e,n,i){var r,a,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),Pd(t,t.l_desc),Pd(t,t.d_desc),o=function(t){var e;for(Od(t,t.dyn_ltree,t.l_desc.max_code),Od(t,t.dyn_dtree,t.d_desc.max_code),Pd(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*gd[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=r&&(r=a)):r=a=n+5,n+4<=r&&-1!==e?Ed(t,e,n,i):4===t.strategy||a===r?(xd(t,2+(i?1:0),3),Dd(t,rd,ad)):(xd(t,4+(i?1:0),3),function(t,e,n,i){var r;for(xd(t,e-257,5),xd(t,n-1,5),xd(t,i-4,4),r=0;r<i;r++)xd(t,t.bl_tree[2*gd[r]+1],3);Id(t,t.dyn_ltree,e-1),Id(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),Dd(t,t.dyn_ltree,t.dyn_dtree)),Sd(t),i&&Ad(t)}function zd(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(sd[n]+256+1)]++,t.dyn_dtree[2*bd(e)]++),t.last_lit===t.lit_bufsize-1}function Wd(t,e){return t.msg=Ku[e],e}function jd(t){return(t<<1)-(t>4?9:0)}function Bd(t){for(var e=t.length;--e>=0;)t[e]=0}function Vd(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(_u(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function qd(t,e){Ld(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Vd(t.strm)}function $d(t,e){t.pending_buf[t.pending++]=e}function Yd(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function Hd(t,e){var n,i,r=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,c=t.window,h=t.w_mask,u=t.prev,d=t.strstart+258,f=c[a+o-1],p=c[a+o];t.prev_length>=t.good_match&&(r>>=2),s>t.lookahead&&(s=t.lookahead);do{if(c[(n=e)+o]===p&&c[n+o-1]===f&&c[n]===c[a]&&c[++n]===c[a+1]){a+=2,n++;do{}while(c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&a<d);if(i=258-(d-a),a=d-258,i>o){if(t.match_start=e,o=i,i>=s)break;f=c[a+o-1],p=c[a+o]}}}while((e=u[e&h])>l&&0!=--r);return o<=t.lookahead?o:t.lookahead}function Ud(t){var e,n,i,r,a,o,s,l,c,h,u=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=u+(u-262)){_u(t.window,t.window,u,u,0),t.match_start-=u,t.strstart-=u,t.block_start-=u,e=n=t.hash_size;do{i=t.head[--e],t.head[e]=i>=u?i-u:0}while(--n);e=n=u;do{i=t.prev[--e],t.prev[e]=i>=u?i-u:0}while(--n);r+=u}if(0===t.strm.avail_in)break;if(o=t.strm,s=t.window,l=t.strstart+t.lookahead,c=r,h=void 0,(h=o.avail_in)>c&&(h=c),n=0===h?0:(o.avail_in-=h,_u(s,o.input,o.next_in,h,l),1===o.state.wrap?o.adler=Iu(o.adler,s,h,l):2===o.state.wrap&&(o.adler=Fu(o.adler,s,h,l)),o.next_in+=h,o.total_in+=h,h),t.lookahead+=n,t.lookahead+t.insert>=3)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+3-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)}function Gd(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Ud(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,qd(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(qd(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(qd(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(qd(t,!1),t.strm.avail_out),1)}function Xd(t,e){for(var n,i;;){if(t.lookahead<262){if(Ud(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-262&&(t.match_length=Hd(t,n)),t.match_length>=3)if(i=zd(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=zd(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(qd(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(qd(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(qd(t,!1),0===t.strm.avail_out)?1:2}function Zd(t,e){for(var n,i,r;;){if(t.lookahead<262){if(Ud(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-262&&(t.match_length=Hd(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,i=zd(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(qd(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((i=zd(t,0,t.window[t.strstart-1]))&&qd(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=zd(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(qd(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(qd(t,!1),0===t.strm.avail_out)?1:2}function Jd(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}var Kd=function(){var t=[new Jd(0,0,0,0,Gd),new Jd(4,4,8,4,Xd),new Jd(4,5,16,8,Xd),new Jd(4,6,32,32,Xd),new Jd(4,4,16,16,Zd),new Jd(8,16,32,32,Zd),new Jd(8,16,128,128,Zd),new Jd(8,32,128,256,Zd),new Jd(32,128,258,1024,Zd),new Jd(32,258,258,4096,Zd)];return Kd=function(){return t},t};function Qd(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=ku(1146),this.dyn_dtree=ku(122),this.bl_tree=ku(78),Bd(this.dyn_ltree),Bd(this.dyn_dtree),Bd(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=ku(16),this.heap=ku(573),Bd(this.heap),this.heap_len=0,this.heap_max=0,this.depth=ku(573),Bd(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function tf(t){var e=function(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=0,Fd(e),0):Wd(t,-2)}(t);return 0===e&&function(t){t.window_size=2*t.w_size,Bd(t.head);var e=Kd();t.max_lazy_match=e[t.level].max_lazy,t.good_match=e[t.level].good_length,t.nice_match=e[t.level].nice_length,t.max_chain_length=e[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0}(t.state),e}function ef(t,e){var n,i,r,a;if(!t||!t.state||e>5||e<0)return t?Wd(t,-2):-2;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&4!==e)return Wd(t,0===t.avail_out?-5:-2);if(i.strm=t,n=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,$d(i,31),$d(i,139),$d(i,8),i.gzhead?($d(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),$d(i,255&i.gzhead.time),$d(i,i.gzhead.time>>8&255),$d(i,i.gzhead.time>>16&255),$d(i,i.gzhead.time>>24&255),$d(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),$d(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&($d(i,255&i.gzhead.extra.length),$d(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=Fu(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):($d(i,0),$d(i,0),$d(i,0),$d(i,0),$d(i,0),$d(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),$d(i,3),i.status=113);else{var o=8+(i.w_bits-8<<4)<<8;o|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(o|=32),o+=31-o%31,i.status=113,Yd(i,o),0!==i.strstart&&(Yd(i,t.adler>>>16),Yd(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>r&&(t.adler=Fu(t.adler,i.pending_buf,i.pending-r,r)),Vd(t),r=i.pending,i.pending!==i.pending_buf_size));)$d(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(t.adler=Fu(t.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=Fu(t.adler,i.pending_buf,i.pending-r,r)),Vd(t),r=i.pending,i.pending===i.pending_buf_size)){a=1;break}a=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,$d(i,a)}while(0!==a);i.gzhead.hcrc&&i.pending>r&&(t.adler=Fu(t.adler,i.pending_buf,i.pending-r,r)),0===a&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=Fu(t.adler,i.pending_buf,i.pending-r,r)),Vd(t),r=i.pending,i.pending===i.pending_buf_size)){a=1;break}a=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,$d(i,a)}while(0!==a);i.gzhead.hcrc&&i.pending>r&&(t.adler=Fu(t.adler,i.pending_buf,i.pending-r,r)),0===a&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&Vd(t),i.pending+2<=i.pending_buf_size&&($d(i,255&t.adler),$d(i,t.adler>>8&255),t.adler=0,i.status=113)):i.status=113),0!==i.pending){if(Vd(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&jd(e)<=jd(n)&&4!==e)return Wd(t,-5);if(666===i.status&&0!==t.avail_in)return Wd(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&666!==i.status){var s=2===i.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(Ud(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=zd(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(qd(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(qd(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(qd(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var n,i,r,a,o=t.window;;){if(t.lookahead<=258){if(Ud(t),t.lookahead<=258&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=o[r=t.strstart-1])===o[++r]&&i===o[++r]&&i===o[++r]){a=t.strstart+258;do{}while(i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&r<a);t.match_length=258-(a-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=zd(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=zd(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(qd(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(qd(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(qd(t,!1),0===t.strm.avail_out)?1:2}(i,e):Kd()[i.level].func(i,e);if(3!==s&&4!==s||(i.status=666),1===s||3===s)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===s&&(1===e?Rd(i):5!==e&&(Ed(i,0,0,!1),3===e&&(Bd(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),Vd(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?($d(i,255&t.adler),$d(i,t.adler>>8&255),$d(i,t.adler>>16&255),$d(i,t.adler>>24&255),$d(i,255&t.total_in),$d(i,t.total_in>>8&255),$d(i,t.total_in>>16&255),$d(i,t.total_in>>24&255)):(Yd(i,t.adler>>>16),Yd(i,65535&t.adler)),Vd(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)}var nf=Object.prototype.toString,rf=function(t){this.options=mu({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qu,this.strm.avail_out=0;var n,i,r=function(t,e,n,i,r,a){if(!t)return-2;var o=1;if(-1===e&&(e=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),r<1||r>9||8!==n||i<8||i>15||e<0||e>9||a<0||a>4)return Wd(t,-2);8===i&&(i=9);var s=new Qd;return t.state=s,s.strm=t,s.wrap=o,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=wu(2*s.w_size),s.head=ku(s.hash_size),s.prev=ku(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=wu(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=e,s.strategy=a,s.method=n,tf(t)}(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==r)throw new Error(Ku[r]);if(e.header&&(n=this.strm,i=e.header,n&&n.state&&(2!==n.state.wrap||(n.state.gzhead=i))),e.dictionary){var a;if(a="string"==typeof e.dictionary?Tu(e.dictionary):"[object ArrayBuffer]"===nf.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(r=function(t,e){var n,i,r,a,o,s,l,c,h=e.length;if(!t||!t.state)return-2;if(2===(a=(n=t.state).wrap)||1===a&&42!==n.status||n.lookahead)return-2;for(1===a&&(t.adler=Iu(t.adler,e,h,0)),n.wrap=0,h>=n.w_size&&(0===a&&(Bd(n.head),n.strstart=0,n.block_start=0,n.insert=0),c=wu(n.w_size),_u(c,e,h-n.w_size,n.w_size,0),e=c,h=n.w_size),o=t.avail_in,s=t.next_in,l=t.input,t.avail_in=h,t.next_in=0,t.input=e,Ud(n);n.lookahead>=3;){i=n.strstart,r=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--r);n.strstart=i,n.lookahead=2,Ud(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=s,t.input=l,t.avail_in=o,n.wrap=a,0}(this.strm,a)))throw new Error(Ku[r]);this._dict_set=!0}};rf.prototype.push=function(t,e){var n,i,r,a=this.strm,o=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?4:0,"string"==typeof t?a.input=Tu(t):"[object ArrayBuffer]"===nf.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=wu(o),a.next_out=0,a.avail_out=o),1!==(n=ef(a,i))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(Du(r=gu(a.output,a.next_out),r.length)):this.onData(gu(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&1!==n);return 4===i?(n=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?Wd(t,-2):(t.state=null,113===e?Wd(t,-3):0):-2}(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==i||(this.onEnd(0),a.avail_out=0,!0)},rf.prototype.onData=function(t){this.chunks.push(t)},rf.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=xu(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var af={Promise:Promise},of={base64:!0,array:!0,string:!0,nodebuffer:!1,nodestream:!1,get arraybuffer(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},get uint8array(){return"undefined"!=typeof Uint8Array},get blob(){return sf()}},sf=function(){var t;if("undefined"==typeof ArrayBuffer)t=!1;else{var e=new ArrayBuffer(0);try{t=0===new Blob([e],{type:"application/zip"}).size}catch(e){t=!1}}return sf=function(){return t},t},lf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function cf(t){return t}function hf(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}function uf(t,e,n){var i=[],r=0,a=t.length;if(a<=n)return String.fromCharCode.apply(null,t);for(;r<a;)"array"===e?i.push(String.fromCharCode.apply(null,t.slice(r,Math.min(r+n,a)))):i.push(String.fromCharCode.apply(null,t.subarray(r,Math.min(r+n,a)))),r+=n;return i.join("")}var df=function(){var t;try{t=of.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){t=!1}return df=function(){return t},t};function ff(t){var e=65536,n=yf(t),i=!0;if("uint8array"===n&&(i=df()),i)for(;e>1;)try{return uf(t,n,e)}catch(t){e=Math.floor(e/2)}return function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e}(t)}var pf=ff;function mf(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}var gf={string:{string:cf,array:function(t){return hf(t,new Array(t.length))},arraybuffer:function(t){return gf.string.uint8array(t).buffer},uint8array:function(t){return hf(t,new Uint8Array(t.length))}},array:{string:ff,array:cf,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)}},arraybuffer:{string:function(t){return ff(new Uint8Array(t))},array:function(t){return mf(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:cf,uint8array:function(t){return new Uint8Array(t)}},uint8array:{string:ff,array:function(t){return mf(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:cf}},vf=function(t,e){if(e||(e=""),!t)return e;bf(t);var n=yf(e);return gf[n][t](e)},yf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":of.uint8array&&t instanceof Uint8Array?"uint8array":of.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},bf=function(t){if(!of[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},_f=function(t){var e,n,i="";for(n=0;n<(t||"").length;n++)i+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return i},xf=function(t,e,n){setTimeout((function(){t.apply(n||null,e||[])}),0)},wf=function(){var t,e,n=arguments,i={};for(t=0;t<arguments.length;t++)for(e in arguments[t])Object.hasOwnProperty.call(n[t],e)&&void 0===i[e]&&(i[e]=n[t][e]);return i},kf=function(t,e,n,i,r){return af.Promise.resolve(e).then((function(t){return of.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new af.Promise((function(e,n){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.onerror=function(t){n(t.target.error)},i.readAsArrayBuffer(t)})):t})).then((function(e){var a,o=yf(e);return o?("arraybuffer"===o?e=vf("uint8array",e):"string"===o&&(r?e=function(t){var e,n,i,r,a,o,s=0,l=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var c,h=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===lf.charAt(64)&&h--,t.charAt(t.length-2)===lf.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(c=of.uint8array?new Uint8Array(0|h):new Array(0|h);s<t.length;)e=lf.indexOf(t.charAt(s++))<<2|(r=lf.indexOf(t.charAt(s++)))>>4,n=(15&r)<<4|(a=lf.indexOf(t.charAt(s++)))>>2,i=(3&a)<<6|(o=lf.indexOf(t.charAt(s++))),c[l++]=e,64!==a&&(c[l++]=n),64!==o&&(c[l++]=i);return c}(e):n&&!0!==i&&(e=hf(a=e,of.uint8array?new Uint8Array(a.length):new Array(a.length)))),e):af.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))},Cf=function(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null};Cf.prototype.push=function(t){this.emit("data",t)},Cf.prototype.end=function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},Cf.prototype.error=function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},Cf.prototype.on=function(t,e){return this._listeners[t].push(e),this},Cf.prototype.cleanUp=function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},Cf.prototype.emit=function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},Cf.prototype.pipe=function(t){return t.registerPrevious(this)},Cf.prototype.registerPrevious=function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.error(t)})),this},Cf.prototype.pause=function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},Cf.prototype.resume=function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},Cf.prototype.flush=function(){},Cf.prototype.processChunk=function(t){this.push(t)},Cf.prototype.withStreamInfo=function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},Cf.prototype.mergeStreamInfo=function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},Cf.prototype.lock=function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},Cf.prototype.toString=function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t};var Sf=function(t){for(var e=new Array(256),n=0;n<256;n++)e[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;return e[254]=e[254]=1,Sf=function(t){return e[t]},e[t]},Af=function(t){return function(t){var e,n,i,r,a,o=t.length,s=0;for(r=0;r<o;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<o&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=of.uint8array?new Uint8Array(s):new Array(s),a=0,r=0;a<s;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<o&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e}(t)},Mf=function(t){return function(t){var e,n,i,r,a=t.length,o=new Array(2*a);for(n=0,e=0;e<a;)if((i=t[e++])<128)o[n++]=i;else if((r=Sf(i))>4)o[n++]=65533,e+=r-1;else{for(i&=2===r?31:3===r?15:7;r>1&&e<a;)i=i<<6|63&t[e++],r--;r>1?o[n++]=65533:i<65536?o[n++]=i:(i-=65536,o[n++]=55296|i>>10&1023,o[n++]=56320|1023&i)}return o.length!==n&&(o.subarray?o=o.subarray(0,n):o.length=n),pf(o)}(t=vf(of.uint8array?"uint8array":"array",t))},Tf=function(t){function e(){t.call(this,"utf-8 decode"),this.leftOver=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.processChunk=function(t){var e=vf(of.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(of.uint8array){var n=e;(e=new Uint8Array(n.length+this.leftOver.length)).set(this.leftOver,0),e.set(n,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var i=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+Sf(t[n])>e?n:e}(e),r=e;i!==e.length&&(of.uint8array?(r=e.subarray(0,i),this.leftOver=e.subarray(i,e.length)):(r=e.slice(0,i),this.leftOver=e.slice(i,e.length))),this.push({data:Mf(r),meta:t.meta})},e.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:Mf(this.leftOver),meta:{}}),this.leftOver=null)},e}(Cf),Df=function(t){function e(){t.call(this,"utf-8 encode")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.processChunk=function(t){this.push({data:Af(t.data),meta:t.meta})},e}(Cf),Pf=function(t){function e(e){t.call(this,"ConvertWorker to "+e),this.destType=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.processChunk=function(t){this.push({data:vf(this.destType,t.data),meta:t.meta})},e}(Cf);function Of(t,e,n){switch(t){case"blob":return function(t,e){return bf("blob"),new Blob([t],{type:e})}(vf("arraybuffer",e),n);case"base64":return function(t){for(var e,n,i,r,a,o,s,l=[],c=0,h=t.length,u=h,d="string"!=typeof t;c<t.length;)u=h-c,d?(e=t[c++],n=c<h?t[c++]:0,i=c<h?t[c++]:0):(e=t.charCodeAt(c++),n=c<h?t.charCodeAt(c++):0,i=c<h?t.charCodeAt(c++):0),r=e>>2,a=(3&e)<<4|n>>4,o=u>1?(15&n)<<2|i>>6:64,s=u>2?63&i:64,l.push(lf.charAt(r)+lf.charAt(a)+lf.charAt(o)+lf.charAt(s));return l.join("")}(e);default:return vf(t,e)}}function If(t,e){return new af.Promise((function(n,i){var r=[],a=t._internalType,o=t._outputType,s=t._mimeType;t.on("data",(function(t,n){r.push(t),e&&e(n)})).on("error",(function(t){r=[],i(t)})).on("end",(function(){try{var t=Of(o,function(t,e){var n,i=0,r=null,a=0;for(n=0;n<e.length;n++)a+=e[n].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(r=new Uint8Array(a),n=0;n<e.length;n++)r.set(e[n],i),i+=e[n].length;return r;default:throw new Error("concat : unsupported type '"+t+"'")}}(a,r),s);n(t)}catch(t){i(t)}r=[]})).resume()}))}var Nf=function(t,e,n){var i=e;switch(e){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=e,this._mimeType=n,bf(i),this._worker=t.pipe(new Pf(i)),t.lock()}catch(t){this._worker=new Cf("error"),this._worker.error(t)}};Nf.prototype.accumulate=function(t){return If(this,t)},Nf.prototype.on=function(t,e){var n=this;return"data"===t?this._worker.on(t,(function(t){e.call(n,t.data,t.meta)})):this._worker.on(t,(function(){xf(e,arguments,n)})),this},Nf.prototype.resume=function(){return xf(this._worker.resume,[],this._worker),this},Nf.prototype.pause=function(){return this._worker.pause(),this};var Ff=Object.freeze({__proto__:null,base64:!1,binary:!1,dir:!1,createFolders:!0,date:null,compression:null,compressionOptions:null,comment:null,unixPermissions:null,dosPermissions:null}),Ef=function(t){function e(e){t.call(this,"DataWorker");var n=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(t){n.dataIsReady=!0,n.data=t,n.max=t&&t.length||0,n.type=yf(t),n.isPaused||n._tickAndRepeat()}),(function(t){n.error(t)}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.cleanUp=function(){t.prototype.cleanUp.call(this),this.data=null},e.prototype.resume=function(){return!!t.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,xf(this._tickAndRepeat,[],this)),!0)},e.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(xf(this._tickAndRepeat,[],this),this._tickScheduled=!0))},e.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e}(Cf),Rf=function(t){function e(e){t.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.processChunk=function(e){if(e){var n=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=n+e.data.length}t.prototype.processChunk.call(this,e)},e}(Cf),Lf=function(){for(var t=[],e=0;e<256;e++){for(var n=e,i=0;i<8;i++)n=1&n?3988292384^n>>>1:n>>>1;t[e]=n}return Lf=function(){return t},t};function zf(t,e){return void 0!==t&&t.length?"string"!==yf(t)?function(t,e,n,i){var r=Lf(),a=i+n;t^=-1;for(var o=i;o<a;o++)t=t>>>8^r[255&(t^e[o])];return-1^t}(0|e,t,t.length,0):function(t,e,n,i){var r=Lf(),a=i+n;t^=-1;for(var o=i;o<a;o++)t=t>>>8^r[255&(t^e.charCodeAt(o))];return-1^t}(0|e,t,t.length,0):0}var Wf=function(t){function e(){t.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.processChunk=function(t){this.streamInfo.crc32=zf(t.data,this.streamInfo.crc32||0),this.push(t)},e}(Cf),jf=function(t,e,n,i,r){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=i,this.compressedContent=r};jf.prototype.getContentWorker=function(){var t=new Ef(af.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new Rf("data_length")),e=this;return t.on("end",(function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),t},jf.prototype.getCompressedWorker=function(){return new Ef(af.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)},jf.createWorkerFrom=function(t,e,n){return t.pipe(new Wf).pipe(new Rf("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new Rf("compressedSize")).withStreamInfo("compression",e)};var Bf=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};Bf.prototype.internalStream=function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var i="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var r=!this._dataBinary;r&&!i&&(e=e.pipe(new Df)),!r&&i&&(e=e.pipe(new Tf))}catch(t){(e=new Cf("error")).error(t)}return new Nf(e,n,"")},Bf.prototype.async=function(t,e){return this.internalStream(t).accumulate(e)},Bf.prototype._compressWorker=function(t,e){if(this._data instanceof jf&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new Df)),jf.createWorkerFrom(n,t,e)},Bf.prototype._decompressWorker=function(){return this._data instanceof jf?this._data.getContentWorker():this._data instanceof Cf?this._data:new Ef(this._data)};var Vf=function(){var t="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array?"uint8array":"array";Vf=function(){return t}},qf=function(t){function e(e,n){t.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=n,this.meta={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(vf(Vf(),t.data),!1)},e.prototype.flush=function(){t.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},e.prototype.cleanUp=function(){t.prototype.cleanUp.call(this),this._pako=null},e.prototype._createPako=function(){var t=this,e={raw:!0,level:this._pakoOptions.level||-1};this._pako="Deflate"===this._pakoAction?new rf(e):new nd(e),this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},e}(Cf),$f={STORE:{magic:"\0\0",compressWorker:function(){return new Cf("STORE compression")},uncompressWorker:function(){return new Cf("STORE decompression")}},DEFLATE:{magic:"\b\0",compressWorker:function(t){return new qf("Deflate",t)},uncompressWorker:function(){return new qf("Inflate",{})}}},Yf=function(t,e){var n,i="";for(n=0;n<e;n++)i+=String.fromCharCode(255&t),t>>>=8;return i},Hf=function(t,e,n,i,r,a){var o,s,l=t.file,c=t.compression,h=a!==Af,u=vf("string",a(l.name)),d=vf("string",Af(l.name)),f=l.comment,p=vf("string",a(f)),m=vf("string",Af(f)),g=d.length!==l.name.length,v=m.length!==f.length,y="",b="",_="",x=l.dir,w=l.date,k={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(k.crc32=t.crc32,k.compressedSize=t.compressedSize,k.uncompressedSize=t.uncompressedSize);var C=0;e&&(C|=8),h||!g&&!v||(C|=2048);var S,A,M,T=0,D=0;x&&(T|=16),"UNIX"===r?(D=798,T|=(S=l.unixPermissions,A=x,M=S,S||(M=A?16893:33204),(65535&M)<<16)):(D=20,T|=63&(l.dosPermissions||0)),o=w.getUTCHours(),o<<=6,o|=w.getUTCMinutes(),o<<=5,o|=w.getUTCSeconds()/2,s=w.getUTCFullYear()-1980,s<<=4,s|=w.getUTCMonth()+1,s<<=5,s|=w.getUTCDate(),g&&(b=Yf(1,1)+Yf(zf(u),4)+d,y+="up"+Yf(b.length,2)+b),v&&(_=Yf(1,1)+Yf(zf(p),4)+m,y+="uc"+Yf(_.length,2)+_);var P="";return P+="\n\0",P+=Yf(C,2),P+=c.magic,P+=Yf(o,2),P+=Yf(s,2),P+=Yf(k.crc32,4),P+=Yf(k.compressedSize,4),P+=Yf(k.uncompressedSize,4),P+=Yf(u.length,2),{fileRecord:"PK"+(P+=Yf(y.length,2))+u+y,dirRecord:"PK"+Yf(D,2)+P+Yf(p.length,2)+"\0\0\0\0"+Yf(T,4)+Yf(i,4)+u+y+p}},Uf=function(t){return"PK\b"+Yf(t.crc32,4)+Yf(t.compressedSize,4)+Yf(t.uncompressedSize,4)},Gf=function(t){function e(e,n,i,r){t.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=n,this.zipPlatform=i,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(e){var n=e.meta.percent||0,i=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,t.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:i?(n+100*(i-r-1))/i:100}}))},e.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=Hf(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},e.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=Hf(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:Uf(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},e.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,i=function(t,e,n,i,r){var a=vf("string",r(i));return"PK\0\0\0\0"+Yf(t,2)+Yf(t,2)+Yf(e,4)+Yf(n,4)+Yf(a.length,2)+a}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},e.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},e.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()})),t.on("error",(function(t){e.error(t)})),this},e.prototype.resume=function(){return!!t.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},e.prototype.error=function(e){var n=this._sources;if(!t.prototype.error.call(this,e))return!1;for(var i=0;i<n.length;i++)try{n[i].error(e)}catch(t){}return!0},e.prototype.lock=function(){t.prototype.lock.call(this);for(var e=this._sources,n=0;n<e.length;n++)e[n].lock()},e}(Cf),Xf=function(t,e,n){var i=new Gf(e.streamFiles,n,e.platform,e.encodeFileName),r=0;try{t.forEach((function(t,n){r++;var a=function(t,e){var n=t||e,i=$f[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,e.compression),o=n.options.compressionOptions||e.compressionOptions||{},s=n.dir,l=n.date;n._compressWorker(a,o).withStreamInfo("file",{name:t,dir:s,date:l,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(i)})),i.entriesCount=r}catch(t){i.error(t)}return i},Zf=function(t){this.data=t,this.length=t.length,this.index=0,this.zero=0};Zf.prototype.checkOffset=function(t){this.checkIndex(this.index+t)},Zf.prototype.checkIndex=function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},Zf.prototype.setIndex=function(t){this.checkIndex(t),this.index=t},Zf.prototype.skip=function(t){this.setIndex(this.index+t)},Zf.prototype.byteAt=function(t){},Zf.prototype.readInt=function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},Zf.prototype.readString=function(t){return vf("string",this.readData(t))},Zf.prototype.readData=function(t){},Zf.prototype.lastIndexOfSignature=function(t){},Zf.prototype.readAndCheckSignature=function(t){},Zf.prototype.readDate=function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))};var Jf=function(t){function e(e){t.call(this,e);for(var n=0;n<this.data.length;n++)e[n]=255&e[n]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.byteAt=function(t){return this.data[this.zero+t]},e.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),a=this.length-4;a>=0;--a)if(this.data[a]===e&&this.data[a+1]===n&&this.data[a+2]===i&&this.data[a+3]===r)return a-this.zero;return-1},e.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),a=this.readData(4);return e===a[0]&&n===a[1]&&i===a[2]&&r===a[3]},e.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e}(Zf),Kf=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},e.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},e.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},e.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e}(Zf),Qf=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e}(Jf);function tp(t){var e=yf(t);return bf(e),"string"!==e||of.uint8array?of.uint8array?new Qf(vf("uint8array",t)):new Jf(vf("array",t)):new Kf(t)}var ep=function(t,e){this.options=t,this.loadOptions=e};ep.prototype.isEncrypted=function(){return 1==(1&this.bitFlag)},ep.prototype.useUTF8=function(){return 2048==(2048&this.bitFlag)},ep.prototype.readLocalPart=function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in $f)if($f.hasOwnProperty(e)&&$f[e].magic===t)return $f[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+_f(this.compressionMethod)+" unknown (inner file : "+vf("string",this.fileName)+")");this.decompressed=new jf(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},ep.prototype.readCentralPart=function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},ep.prototype.processAttributes=function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},ep.prototype.parseZIP64ExtraField=function(t){if(this.extraFields[1]){var e=tp(this.extraFields[1].value);-1===this.uncompressedSize&&(this.uncompressedSize=e.readInt(8)),-1===this.compressedSize&&(this.compressedSize=e.readInt(8)),-1===this.localHeaderOffset&&(this.localHeaderOffset=e.readInt(8)),-1===this.diskNumberStart&&(this.diskNumberStart=e.readInt(4))}},ep.prototype.readExtraFields=function(t){var e,n,i,r=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<r;)e=t.readInt(2),n=t.readInt(2),i=t.readData(n),this.extraFields[e]={id:e,length:n,value:i}},ep.prototype.handleUTF8=function(){var t=of.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=Mf(this.fileName),this.fileCommentStr=Mf(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=vf(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var r=vf(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},ep.prototype.findExtraFieldUnicodePath=function(){var t=this.extraFields[28789];if(t){var e=tp(t.value);return 1!==e.readInt(1)||zf(this.fileName)!==e.readInt(4)?null:Mf(e.readData(t.length-5))}return null},ep.prototype.findExtraFieldUnicodeComment=function(){var t=this.extraFields[25461];if(t){var e=tp(t.value);return 1!==e.readInt(1)||zf(this.fileComment)!==e.readInt(4)?null:Mf(e.readData(t.length-5))}return null};var np=function(t){this.files=[],this.loadOptions=t};np.prototype.checkSignature=function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+_f(e)+", expected "+_f(t)+")")}},np.prototype.isSignature=function(t,e){var n=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(n),i},np.prototype.readBlockEndOfCentral=function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=of.uint8array?"uint8array":"array",n=vf(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},np.prototype.readBlockZip64EndOfCentral=function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},np.prototype.readBlockZip64EndOfCentralLocator=function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},np.prototype.readLocalFiles=function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature("PK"),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},np.prototype.readCentralDir=function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature("PK");)(t=new ep({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},np.prototype.readEndOfCentral=function(){var t=this.reader.lastIndexOfSignature("PK");if(t<0)throw!this.isSignature(0,"PK")?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(t);var e=t;if(this.checkSignature("PK"),this.readBlockEndOfCentral(),65535===this.diskNumber||65535===this.diskWithCentralDirStart||65535===this.centralDirRecordsOnThisDisk||65535===this.centralDirRecords||-1===this.centralDirSize||-1===this.centralDirOffset){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature("PK"))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature("PK"),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,"PK")&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature("PK"),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature("PK"),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=e-n;if(i>0)this.isSignature(e,"PK")||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},np.prototype.prepareReader=function(t){this.reader=tp(t)},np.prototype.load=function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()};var ip={isNode:!1};function rp(t){return new af.Promise((function(e,n){var i=t.decompressed.getContentWorker().pipe(new Wf);i.on("error",(function(t){n(t)})).on("end",(function(){i.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()})).resume()}))}function ap(t,e){var n=this;return e=wf(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:Mf}),ip.isNode&&ip.isStream(t)?af.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):kf("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then((function(t){var n=new np(e);return n.load(t),n})).then((function(t){var n=[af.Promise.resolve(t)],i=t.files;if(e.checkCRC32)for(var r=0;r<i.length;r++)n.push(rp(i[r]));return af.Promise.all(n)})).then((function(t){for(var i=t.shift(),r=i.files,a=0;a<r.length;a++){var o=r[a];n.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:e.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n}))}var op=function(t,e,n){var i,r=yf(e),a=wf(n||{},Ff);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(t=lp(t)),a.createFolders&&(i=sp(t))&&cp.call(this,i,!0);var o="string"===r&&!1===a.binary&&!1===a.base64;n&&void 0!==n.binary||(a.binary=!o),(e instanceof jf&&0===e.uncompressedSize||a.dir||!e||0===e.length)&&(a.base64=!1,a.binary=!0,e="",a.compression="STORE",r="string");var s=null;s=e instanceof jf||e instanceof Cf?e:kf(t,e,a.binary,a.optimizedBinaryString,a.base64);var l=new Bf(t,s,a);this.files[t]=l},sp=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},lp=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},cp=function(t,e){return e=void 0===e||e,t=lp(t),this.files[t]||op.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function hp(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var up=function t(){if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new t;for(var n in this)"function"!=typeof this[n]&&(e[n]=this[n]);return e}},dp={support:{configurable:!0},defaults:{configurable:!0},version:{configurable:!0},external:{configurable:!0}};up.prototype.load=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},up.prototype.forEach=function(t){var e,n,i;for(e in this.files)this.files.hasOwnProperty(e)&&(i=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,i))},up.prototype.filter=function(t){var e=[];return this.forEach((function(n,i){t(n,i)&&e.push(i)})),e},up.prototype.file=function(t,e,n){if(1===arguments.length){if(hp(t)){var i=t;return this.filter((function(t,e){return!e.dir&&i.test(t)}))}var r=this.files[this.root+t];return r&&!r.dir?r:null}return t=this.root+t,op.call(this,t,e,n),this},up.prototype.folder=function(t){if(!t)return this;if(hp(t))return this.filter((function(e,n){return n.dir&&t.test(e)}));var e=this.root+t,n=cp.call(this,e),i=this.clone();return i.root=n.name,i},up.prototype.remove=function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter((function(e,n){return n.name.slice(0,t.length)===t})),i=0;i<n.length;i++)delete this.files[n[i].name];return this},up.prototype.generate=function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},up.prototype.generateInternalStream=function(t){var e,n={};try{if((n=wf(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:Af})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");bf(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var i=n.comment||this.comment||"";e=Xf(this,n,i)}catch(t){(e=new Cf("error")).error(t)}return new Nf(e,n.type||"string",n.mimeType)},up.prototype.generateAsync=function(t,e){return this.generateInternalStream(t).accumulate(e)},up.prototype.loadAsync=function(t,e){return ap.apply(this,[t,e])},up.loadAsync=function(t,e){return(new up).loadAsync(t,e)},dp.support.get=function(){return of},dp.defaults.get=function(){return Ff},dp.version.get=function(){return"3.2.2-esm"},dp.external.get=function(){return af},Object.defineProperties(up,dp);const fp=["#e6194b","#3cb44b","#ffe119","#4363d8","#f58231","#911eb4","#46f0f0","#f032e6","#bcf60c","#fabebe","#008080","#e6beff","#9a6324","#fffac8","#800000","#aaffc3","#808000","#ffd8b1","#000075","#808080","#000000"];const pp={name:"app",data:()=>({tabs:["Config","Simulation","Input","Feature","Phoneme","Word","Analysis","Analysis (Chart)"],activeTab:0,config:Or(),analysisConfig:{domain:jr.WORDS,itemsToWatch:10,calculationType:$r.STATIC,alignment:4,choice:Hr.NORMAL,kValue:0,competType:Gr.RAW,competSlope:4},cycle:-1,cyclesToRun:60,numCycles:0,analysis:[],chartData:{datasets:[]},featureData:[],wordData:[],inputData:[],phonemeData:[],showVisualizations:!1}),created(){this.sim=new Wr(JSON.parse(JSON.stringify(this.config)))},computed:{phonemes(){return this.sim&&this.sim.phonemes&&this.sim.phonemes.sorted()||[]},lexicon(){return this.sim&&this.sim.config&&this.sim.config.lexicon||[]},dat(){return this.getData(this.activeTab,this.cycle,"\t")},analysisData(){return((t,e=!1)=>t.length>0?[["cycle",...t.map(t=>e?t.label.padEnd(18):t.label)].join("\t"),...Array.from(Array(t[0].data.length),(e,n)=>[n,...t.map(t=>t.data[n].y.toFixed(18))].join("\t"))].join("\n"):"")(this.chartData.datasets,!0)}},watch:{cycle:function(){this.updateSimPage()}},methods:{run(){console.time("trace.js"),this.sim=new Wr(JSON.parse(JSON.stringify(this.config))),this.sim.cycle(this.cyclesToRun),this.numCycles=this.sim.getStepsRun(),this.cycle=this.clamp(this.cycle,0,this.numCycles),this.chartData={datasets:Qr({...this.analysisConfig,sim:this.sim}).map((t,e)=>({...t,fill:!1,borderColor:fp[e],showLine:!0}))},this.updateSimPage(),console.timeEnd("trace.js")},clamp:(t,e,n)=>Math.min(Math.max(t,e),n),updateSimPage(){this.cycle<0||this.numCycles<=this.cycle?(this.featureData=[],this.wordData=[],this.inputData=[],this.phonemeData=[]):(this.featureData=this.sim.featLayer[this.cycle],this.wordData=this.sim.wordLayer[this.cycle],this.inputData=this.sim.inputLayer[this.cycle],this.phonemeData=this.sim.phonLayer[this.cycle])},async saveData(){const t=new up,e=t.folder("input"),n=t.folder("feature"),i=t.folder("phoneme"),r=t.folder("word");for(let t=0;t<this.numCycles;t++)e.file(t.toString().padStart(4,"0")+".dat",this.getData(2,t,", ")),n.file(t.toString().padStart(4,"0")+".dat",this.getData(3,t,", ")),i.file(t.toString().padStart(4,"0")+".dat",this.getData(4,t,", ")),r.file(t.toString().padStart(4,"0")+".dat",this.getData(5,t,", "));t.file("analysis.dat",this.getData(6,0,", ")),ko.saveAs(await t.generateAsync({type:"blob"}),"tracejs-sim.zip")},getData(t,e,n){if(!this.sim||this.cycle<0||this.numCycles<=this.cycle)return"";switch(t){case 2:return this.sim.inputLayer[e].map((t,e)=>[e,...t.map(t=>t.toFixed(4))].join(n)).join("\n");case 3:return this.sim.featLayer[e].map((t,e)=>[e,...t.map(t=>t.toFixed(4))].join(n)).join("\n");case 4:return this.sim.phonLayer[e].map((t,e)=>[this.sim.phonemes&&this.sim.phonemes.byIndex(e).label,...t.map(t=>t.toFixed(4))].join(n)).join("\n");case 5:return this.sim.wordLayer[e].map((t,e)=>[this.sim.config.lexicon[e].phon,...t.map(t=>t.toFixed(4))].join(n)).join("\n");case 6:return this.analysisData;default:return""}}},components:{SimulationToolbar:po,Config:Ro,SimulationPage:ou,Analysis:fu}};var mp=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticStyle:{flex:"0 1 auto"}},[n("section",{staticClass:"hero is-primary",staticStyle:{padding:"0.5rem 1rem 0 1rem"}},[n("div",{staticClass:"hero-foot"},[n("nav",{staticClass:"tabs is-boxed"},[n("ul",t._l(t.tabs,(function(e,i){return n("li",{key:i,class:{"is-active":t.activeTab==i}},[n("a",{on:{click:function(e){t.activeTab=i}}},[t._v(t._s(e))])])})),0)])])]),t._v(" "),0!=t.activeTab?n("simulation-toolbar",{attrs:{cycle:t.cycle,"cycles-to-run":t.cyclesToRun,"num-cycles":t.numCycles,"show-cycles":t.activeTab>0&&t.activeTab<6,visualize:t.showVisualizations,"show-chart-options":1==t.activeTab,"show-download-button":t.activeTab>0&&t.activeTab<7},on:{run:t.run,"save-data":t.saveData,"update:cycle":function(e){t.cycle=e},"update:cyclesToRun":function(e){t.cyclesToRun=e},"update:cycles-to-run":function(e){t.cyclesToRun=e},"update:visualize":function(e){t.showVisualizations=e}}}):t._e()],1),t._v(" "),0==t.activeTab?n("div",{staticStyle:{display:"flex",flex:"1 1 auto"}},[n("config",{attrs:{config:t.config}})],1):1==t.activeTab?n("div",{staticStyle:{display:"flex",flex:"1 1 auto","min-height":"0"}},[n("simulation-page",{attrs:{"sim-config":t.config,phonemes:t.phonemes,"feature-data":t.featureData,"word-data":t.wordData,"input-data":t.inputData,"phoneme-data":t.phonemeData,visualize:t.showVisualizations}})],1):7==t.activeTab?n("div",{staticStyle:{display:"flex",flex:"1 1 auto","min-height":"0"}},[n("analysis",{attrs:{"chart-data":t.chartData,config:t.analysisConfig,"sim-config":t.config}})],1):n("pre",{staticStyle:{flex:"1 1 auto",margin:"0",background:"#eee",width:"100%",overflow:"scroll"}},[t._v(t._s(t.dat))])])};mp._withStripped=!0;const gp=ho({render:mp,staticRenderFns:[]},(function(t){t&&t("data-v-241a7107_0",{source:"\nbody, html {\n  margin: 0;\n  height: 100%;\n}\n#app {\n  height: 100%;\n  display: flex;\n  flex-flow: column;\n}\n",map:{version:3,sources:["/Users/andrew/code/tracejs/packages/tracejs-vue/src/App.vue"],names:[],mappings:";AAgNA;EACA,SAAA;EACA,YAAA;AACA;AACA;EACA,YAAA;EACA,aAAA;EACA,iBAAA;AACA",file:"App.vue",sourcesContent:["<template>\n  <div id=\"app\">\n    <div style=\"flex: 0 1 auto;\">\n      <section class=\"hero is-primary\" style=\"padding: 0.5rem 1rem 0 1rem;\">\n        <div class=\"hero-foot\">\n          <nav class=\"tabs is-boxed\">\n            <ul>\n              <li v-for=\"(tab, index) in tabs\" :key=\"index\" :class=\"{ 'is-active': activeTab == index }\">\n                <a @click=\"activeTab = index\">{{ tab }}</a>\n              </li>\n            </ul>\n          </nav>\n        </div>\n      </section>\n\n      <simulation-toolbar\n        v-if=\"activeTab != 0\"\n        @run=\"run\"\n        @save-data=\"saveData\"\n        :cycle.sync=\"cycle\"\n        :cycles-to-run.sync=\"cyclesToRun\"\n        :num-cycles=\"numCycles\"\n        :show-cycles=\"activeTab > 0 && activeTab < 6\"\n        :visualize.sync=\"showVisualizations\"\n        :show-chart-options=\"activeTab == 1\"\n        :show-download-button=\"activeTab > 0 && activeTab < 7\" />\n    </div>\n\n    <div v-if=\"activeTab == 0\" style=\"display: flex; flex: 1 1 auto;\">\n      <config :config=\"config\" />\n    </div>\n    <div v-else-if=\"activeTab == 1\" style=\"display: flex; flex: 1 1 auto; min-height: 0;\">\n      <simulation-page\n        :sim-config=\"config\"\n        :phonemes=\"phonemes\"\n        :feature-data=\"featureData\"\n        :word-data=\"wordData\"\n        :input-data=\"inputData\"\n        :phoneme-data=\"phonemeData\"\n        :visualize=\"showVisualizations\" />\n    </div>\n    <div v-else-if=\"activeTab == 7\" style=\"display: flex; flex: 1 1 auto; min-height: 0;\">\n      <analysis :chart-data=\"chartData\" :config=\"analysisConfig\" :sim-config=\"config\" />\n    </div>\n    <pre v-else style=\"flex: 1 1 auto; margin: 0; background: #eee; width: 100%; overflow: scroll;\">{{ dat }}</pre>\n  </div>\n</template>\n\n<script>\nimport { TraceSim, createDefaultConfig, doSimAnalysis, formatAnalysis, TraceDomain, TraceCalculationType, TraceChoice, TraceCompetitionType } from 'tracejs'\nimport SimulationToolbar from './components/SimulationToolbar.vue'\nimport Config from './components/Config.vue'\nimport SimulationPage from './components/SimulationPage.vue'\nimport Analysis from './components/Analysis.vue'\nimport FileSaver from 'file-saver'\nimport JSZip from '@progress/jszip-esm'\n\nconst chartColors = ['#e6194b', '#3cb44b', '#ffe119', '#4363d8', '#f58231', '#911eb4', '#46f0f0', '#f032e6', '#bcf60c', '#fabebe', '#008080', '#e6beff', '#9a6324', '#fffac8', '#800000', '#aaffc3', '#808000', '#ffd8b1', '#000075', '#808080', '#000000']\n\nexport default {\n  name: 'app',\n  data() {\n    return {\n      tabs: ['Config', 'Simulation', 'Input', 'Feature', 'Phoneme', 'Word', 'Analysis', 'Analysis (Chart)'],\n      activeTab: 0,\n      config: createDefaultConfig(),\n      analysisConfig: {\n        domain: TraceDomain.WORDS,\n        itemsToWatch: 10,\n        calculationType: TraceCalculationType.STATIC,\n        alignment: 4,\n        choice: TraceChoice.NORMAL,\n        kValue: 0,\n        competType: TraceCompetitionType.RAW,\n        competSlope: 4,\n      },\n      cycle: -1,\n      cyclesToRun: 60,\n      numCycles: 0,\n      analysis: [],\n\n      // chart data\n      chartData: { datasets: [] },\n      featureData: [],\n      wordData: [],\n      inputData: [],\n      phonemeData: [],\n\n      showVisualizations: false\n    }\n  },\n  created() {\n    // create the sim here, and not in data, because we don't want Vue to watch the data changes\n    // this.config.modelInput = '-gradu^l-'\n    // this.config.decay.W = 0.03\n    this.sim = new TraceSim(JSON.parse(JSON.stringify(this.config)))\n  },\n  computed: {\n    phonemes() {\n      return (this.sim && this.sim.phonemes && this.sim.phonemes.sorted()) || []\n    },\n    lexicon() {\n      return (this.sim && this.sim.config && this.sim.config.lexicon) || []\n    },\n    dat() {\n      return this.getData(this.activeTab, this.cycle, '\\t')\n    },\n    analysisData() {\n      return formatAnalysis(this.chartData.datasets, true)\n    }\n  },\n  watch: {\n    cycle: function() {\n      this.updateSimPage()\n    }\n  },\n  methods: {\n    run() {\n      // eslint-disable-next-line\n      console.time('trace.js')\n      this.sim = new TraceSim(JSON.parse(JSON.stringify(this.config)))\n\n      this.sim.cycle(this.cyclesToRun)\n      this.numCycles = this.sim.getStepsRun()\n      this.cycle = this.clamp(this.cycle, 0, this.numCycles)\n\n      // do the simulation analysis with the values that were modified by the Analysis component\n      // make sure to attach sim to config\n      // then configure each row with the chart.js options\n      this.chartData = {\n        datasets: doSimAnalysis({ ...this.analysisConfig, sim: this.sim })\n          .map((x, idx) => ({\n            ...x,\n            fill: false,\n            borderColor: chartColors[idx],\n            showLine: true\n          }))\n      }\n\n      this.updateSimPage()\n\n      // eslint-disable-next-line\n      console.timeEnd('trace.js')\n    },\n    clamp(num, min, max) {\n      return Math.min(Math.max(num, min), max)\n    },\n    updateSimPage() {\n      if (this.cycle < 0 || this.numCycles <= this.cycle) {\n        this.featureData = []\n        this.wordData = []\n        this.inputData = []\n        this.phonemeData = []\n      } else {\n        this.featureData = this.sim.featLayer[this.cycle]\n        this.wordData = this.sim.wordLayer[this.cycle]\n        this.inputData = this.sim.inputLayer[this.cycle]\n        this.phonemeData = this.sim.phonLayer[this.cycle]\n      }\n    },\n    async saveData() {\n      const zip = new JSZip()\n      const input = zip.folder('input')\n      const feature = zip.folder('feature')\n      const phoneme = zip.folder('phoneme')\n      const word = zip.folder('word')\n      for (let i = 0; i < this.numCycles; i++) {\n        input.file(`${i.toString().padStart(4, '0')}.dat`, this.getData(2, i, ', '))\n        feature.file(`${i.toString().padStart(4, '0')}.dat`, this.getData(3, i, ', '))\n        phoneme.file(`${i.toString().padStart(4, '0')}.dat`, this.getData(4, i, ', '))\n        word.file(`${i.toString().padStart(4, '0')}.dat`, this.getData(5, i, ', '))\n      }\n      zip.file('analysis.dat', this.getData(6, 0, ', '))\n      FileSaver.saveAs(await zip.generateAsync({type: 'blob'}), 'tracejs-sim.zip')\n    },\n    getData(tab, cycle, separator) {\n      if (!this.sim || this.cycle < 0 || this.numCycles <= this.cycle)\n        return ''\n\n      switch (tab) {\n        case 2:\n          return this.sim.inputLayer[cycle]\n            .map((row, index) => [index, ...row.map(x => x.toFixed(4))].join(separator))\n            .join('\\n')\n        case 3:\n          return this.sim.featLayer[cycle]\n            .map((row, index) => [index, ...row.map(x => x.toFixed(4))].join(separator))\n            .join('\\n')\n        case 4:\n          return this.sim.phonLayer[cycle]\n            .map((row, index) => [this.sim.phonemes && this.sim.phonemes.byIndex(index).label, ...row.map(x => x.toFixed(4))].join(separator))\n            .join('\\n')\n        case 5:\n          return this.sim.wordLayer[cycle]\n            .map((row, index) => [this.sim.config.lexicon[index].phon, ...row.map(x => x.toFixed(4))].join(separator))\n            .join('\\n')\n        case 6:\n          return this.analysisData\n        default:\n          return ''\n      }\n    }\n  },\n  components: { SimulationToolbar, Config, SimulationPage, Analysis }\n}\n<\/script>\n\n<style>\nbody, html {\n  margin: 0;\n  height: 100%;\n}\n#app {\n  height: 100%;\n  display: flex;\n  flex-flow: column;\n}\n</style>\n"]},media:void 0})}),pp,void 0,!1,void 0,!1,Oo,void 0,void 0);var vp=Eh.helpers.options.resolve;Eh.controllers.matrix=Eh.DatasetController.extend({dataElementType:Eh.elements.Rectangle,update:function(t){var e,n,i=this,r=i.getMeta(),a=r.data||[];for(i._xScale=i.getScaleForId(r.xAxisID),i._yScale=i.getScaleForId(r.yAxisID),e=0,n=a.length;e<n;++e)i.updateElement(a[e],e,t)},updateElement:function(t,e,n){var i=this,r=i.getDataset(),a=i.index,o=r.data[e],s=i._xScale,l=i._yScale,c=i._resolveElementOptions(t,e),h=n?s.getBasePixel():s.getPixelForValue(o,e,a),u=n?l.getBasePixel():l.getPixelForValue(o,e,a),d=c.height,f=c.width,p=d/2;t._xScale=s,t._yScale=l,t._options=c,t._datasetIndex=a,t._index=e,t._model={x:h,base:u-p,y:u+p,width:f,height:d,backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderSkipped:c.borderSkipped,borderWidth:c.borderWidth},t.pivot()},draw:function(){var t,e,n=this.getMeta().data||[];for(t=0,e=n.length;t<e;++t)n[t].draw()},_resolveElementOptions:function(t,e){var n,i,r,a=this.chart,o=a.data.datasets[this.index],s=a.options.elements.rectangle,l={},c={chart:a,dataIndex:e,dataset:o,datasetIndex:this.index},h=["backgroundColor","borderColor","borderSkipped","borderWidth","width","height"];for(n=0,i=h.length;n<i;++n)l[r=h[n]]=vp([o[r],s[r]],c,e);return l}}),Eh.defaults.matrix={hover:{mode:"nearest",intersect:!0},tooltips:{mode:"nearest",intersect:!0},scales:{xAxes:[{type:"linear"}],yAxes:[{type:"linear"}]},elements:{rectangle:{borderSkipped:!1,width:20,height:20}}},console.log(Eh),new xn({render:t=>t(gp)}).$mount("#app");
