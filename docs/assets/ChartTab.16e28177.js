import{_ as e}from"./SimulationToolbar.68a87b21.js";import{d as a,r as t,c as l,w as s,B as o,C as i,D as n,E as c,G as d,g as r,o as u,a as p,b as m,e as h,H as y,h as v,f as b,F as I,i as T,j as f,t as g,n as S,k as C}from"./index.98a10f1d.js";import{S as O}from"./BaseChart.565d3a44.js";var A=a({setup(){const e=r(),a=e.config,u=e.analysisConfig,p=new Set,m=t("number"==typeof u.itemsToWatch?u.itemsToWatch:10),h=l({get:()=>Array.isArray(u.itemsToWatch),set(e){u.itemsToWatch=e?Array.from(p,(e=>e.phon)):m.value}});s((()=>{h||(u.itemsToWatch=m.value)}));const y=t(o.ACTIVATIONS);return s((()=>{y.value===o.ACTIVATIONS?u.kValue=0:y.value===o.COMPETITION_INDEX?u.kValue=-1:u.kValue=4})),{simConfig:a,config:u,domainWords:i.WORDS,domainPhonemes:i.PHONEMES,contentTypeResponseProbabilities:o.RESPONSE_PROBABILITIES,contentTypeActivations:o.ACTIVATIONS,contentTypeCompetitionIndex:o.COMPETITION_INDEX,competTypeRaw:n.RAW,competTypeFirstDeriv:n.FIRST_DERIVATIVE,competTypeSecondDeriv:n.SECOND_DERIVATIVE,choiceNormal:c.NORMAL,choiceForced:c.FORCED,alignments:{"Max (Post-Hoc)":d.MAX_POSTHOC,Specified:d.STATIC},contentType:y,itemsToWatch:p,numItemsToWatch:m,useSpecifiedItems:h,shouldShowAlignmentCalc:l((()=>y.value!==o.COMPETITION_INDEX)),shouldShowAlignment:l((()=>{const{calculationType:e}=u;return y.value!==o.COMPETITION_INDEX&&e===d.STATIC})),shouldShowLuceChoice:l((()=>y.value===o.RESPONSE_PROBABILITIES)),shouldShowItems:l((()=>y.value!==o.COMPETITION_INDEX)),shouldShowCompetIndex:l((()=>y.value===o.COMPETITION_INDEX)),shouldShowCompetSlope:l((()=>y.value===o.COMPETITION_INDEX&&u.competType!==n.RAW)),isWatchingItem:e=>p.has(e),setIsWatchingItem(e,a){a?(p.add(e),u.itemsToWatch=Array.from(p,(e=>e.phon))):p.delete(e)}}}});const _=m("p",null," NOTE: if the chart doesn't appear, try resizing your browser window to make it redraw (this is a known bug) ",-1),w={class:"field"},E=m("label",{class:"label"},"Analyze",-1),D={class:"control"},N={class:"radio"},V=f(" Words "),k={class:"radio"},P=f(" Phonemes "),x={class:"field"},W=m("label",{class:"label"},"Content",-1),R={class:"control"},$={class:"select"},U={key:0,class:"field"},L=m("label",{class:"label"},"Items",-1),M={class:"control"},F={class:"radio"},X=f(" Use top "),j=f(" items "),B={class:"control"},H={class:"radio"},z=f(" Use selected items "),G={key:0,class:"items-container"},J={class:"checkbox"},q={key:1,class:"field"},K=m("label",{class:"label"},"Alignment Calculation",-1),Q={class:"radio"},Y={key:2,class:"field"},Z=m("label",{class:"label"},"Alignment",-1),ee={class:"control"},ae={key:3,class:"field"},te=m("label",{class:"label"},"Luce Choice",-1),le={class:"control"},se={class:"radio"},oe=f(" All Items "),ie={class:"radio"},ne=f(" Forced Choice "),ce=m("br",null,null,-1),de=f(" K Value "),re={key:4,class:"field"},ue=m("label",{class:"label"},"Global Competition Index",-1),pe={class:"control"},me={class:"select"},he={key:5,class:"field"},ye=m("label",{class:"label"},"Sampling Width",-1),ve={class:"control"};A.render=function(e,a,t,l,s,o){return u(),p("div",null,[_,m("div",w,[E,m("div",D,[m("label",N,[h(m("input",{type:"radio",name:"domain",value:e.domainWords,"onUpdate:modelValue":a[1]||(a[1]=a=>e.config.domain=a)},null,8,["value"]),[[y,e.config.domain]]),V]),m("label",k,[h(m("input",{type:"radio",name:"domain",value:e.domainPhonemes,"onUpdate:modelValue":a[2]||(a[2]=a=>e.config.domain=a)},null,8,["value"]),[[y,e.config.domain]]),P])])]),m("div",x,[W,m("div",R,[m("div",$,[h(m("select",{"onUpdate:modelValue":a[3]||(a[3]=a=>e.contentType=a)},[m("option",{value:e.contentTypeActivations},"Activations",8,["value"]),m("option",{value:e.contentTypeResponseProbabilities},"Response Probabilities",8,["value"]),m("option",{value:e.contentTypeCompetitionIndex},"Competition Index",8,["value"])],512),[[v,e.contentType]])])])]),e.shouldShowItems?(u(),p("div",U,[L,m("div",M,[m("label",F,[h(m("input",{type:"radio",name:"items",value:!1,"onUpdate:modelValue":a[4]||(a[4]=a=>e.useSpecifiedItems=a)},null,512),[[y,e.useSpecifiedItems]]),X,h(m("input",{type:"number",style:{width:"50px"},disabled:e.useSpecifiedItems,"onUpdate:modelValue":a[5]||(a[5]=a=>e.numItemsToWatch=a)},null,8,["disabled"]),[[b,e.numItemsToWatch]]),j])]),m("div",B,[m("label",H,[h(m("input",{type:"radio",name:"items",value:!0,"onUpdate:modelValue":a[6]||(a[6]=a=>e.useSpecifiedItems=a)},null,512),[[y,e.useSpecifiedItems]]),z])]),e.useSpecifiedItems?(u(),p("div",G,[(u(!0),p(I,null,T(e.simConfig.lexicon,((a,t)=>(u(),p("div",{key:t,class:"control"},[m("label",J,[m("input",{type:"checkbox",checked:e.isWatchingItem(a),onChange:t=>e.setIsWatchingItem(a,t.target.checked)},null,40,["checked","onChange"]),f(" "+g(a.phon),1)])])))),128))])):S("",!0)])):S("",!0),e.shouldShowAlignmentCalc?(u(),p("div",q,[K,(u(!0),p(I,null,T(e.alignments,((t,l)=>(u(),p("div",{key:t,class:"control"},[m("label",Q,[h(m("input",{type:"radio",name:"alignment",value:t,"onUpdate:modelValue":a[7]||(a[7]=a=>e.config.calculationType=a)},null,8,["value"]),[[y,e.config.calculationType]]),f(" "+g(l),1)])])))),128))])):S("",!0),e.shouldShowAlignment?(u(),p("div",Y,[Z,m("div",ee,[h(m("input",{class:"input",min:"0",type:"number","onUpdate:modelValue":a[8]||(a[8]=a=>e.config.alignment=a)},null,512),[[b,e.config.alignment]])])])):S("",!0),e.shouldShowLuceChoice?(u(),p("div",ae,[te,m("div",le,[m("label",se,[h(m("input",{type:"radio",name:"choice",value:e.choiceNormal,"onUpdate:modelValue":a[9]||(a[9]=a=>e.config.choice=a)},null,8,["value"]),[[y,e.config.choice]]),oe]),m("label",ie,[h(m("input",{type:"radio",name:"choice",value:e.choiceForced,"onUpdate:modelValue":a[10]||(a[10]=a=>e.config.choice=a)},null,8,["value"]),[[y,e.config.choice]]),ne])]),ce,m("label",null,[de,h(m("input",{class:"input",min:"0",type:"number","onUpdate:modelValue":a[11]||(a[11]=a=>e.config.kValue=a),style:{width:"50px"}},null,512),[[b,e.config.kValue]])])])):S("",!0),e.shouldShowCompetIndex?(u(),p("div",re,[ue,m("div",pe,[m("div",me,[h(m("select",{"onUpdate:modelValue":a[12]||(a[12]=a=>e.config.competType=a)},[m("option",{value:e.competTypeRaw},"Raw",8,["value"]),m("option",{value:e.competTypeFirstDeriv},"1st Derivative",8,["value"]),m("option",{value:e.competTypeSecondDeriv},"2nd Derivative",8,["value"])],512),[[v,e.config.competType]])])])])):S("",!0),e.shouldShowCompetSlope?(u(),p("div",he,[ye,m("div",ve,[h(m("input",{class:"input",min:"2",type:"number","onUpdate:modelValue":a[13]||(a[13]=a=>e.config.competSlope=a)},null,512),[[b,e.config.competSlope]])])])):S("",!0)])};var be=a({extends:O,mixins:[{props:{chartData:{type:Object,required:!0,default:()=>{}}},watch:{chartData:function(e,a){if(a){let t=this.$data._chart,l=e.datasets.map((e=>e.label)),s=a.datasets.map((e=>e.label));const o=JSON.stringify(s);JSON.stringify(l)===o&&a.datasets.length===e.datasets.length?(e.datasets.forEach(((e,l)=>{const s=Object.keys(a.datasets[l]),o=Object.keys(e);s.filter((e=>"_meta"!==e&&-1===o.indexOf(e))).forEach((e=>{delete t.data.datasets[l][e]}));for(const a in e)e.hasOwnProperty(a)&&(t.data.datasets[l][a]=e[a])})),e.hasOwnProperty("labels")&&(t.data.labels=e.labels,this.$emit("labels:update")),e.hasOwnProperty("xLabels")&&(t.data.xLabels=e.xLabels,this.$emit("xlabels:update")),e.hasOwnProperty("yLabels")&&(t.data.yLabels=e.yLabels,this.$emit("ylabels:update")),t.update(),this.$emit("chart:update")):(t&&(t.destroy(),this.$emit("chart:destroy")),this.renderChart(this.chartData,this.options),this.$emit("chart:render"))}else this.$data._chart&&(this.$data._chart.destroy(),this.$emit("chart:destroy")),this.renderChart(this.chartData,this.options),this.$emit("chart:render")}}}],data:()=>({options:{responsive:!0,maintainAspectRatio:!1,elements:{point:{radius:0,hitRadius:0}}}}),mounted(){this.renderChart(this.chartData,this.options)}}),Ie=a({name:"ChartTab",components:{SimulationToolbar:e,AnalysisConfig:A,AnalysisChart:be},setup(){const e=r();return{chartData:l((()=>({datasets:e.analysisData.value})))}}});var Te={container:"_container_1348h_2",toolbar:"_toolbar_1348h_8",main:"_main_1348h_14",grid:"_grid_1348h_22","chart-wrapper":"_chart-wrapper_1348h_28"};(Ie.__cssModules={}).$style=Te,Ie.render=function(e,a,t,l,s,o){const i=C("SimulationToolbar"),n=C("AnalysisConfig"),c=C("AnalysisChart");return u(),p("div",{class:e.$style.container},[m("div",{class:e.$style.toolbar},[m(i)],2),m("div",{class:e.$style.main},[m("div",{class:e.$style.grid},[m(n),m(c,{"chart-data":e.chartData,class:e.$style["chart-wrapper"]},null,8,["chart-data","class"])],2)],2)],2)};export default Ie;
