import{F as Vi,M as Wi}from"./constants-431fae9a.js";import{d as Ji,g as Qi,b as qi,r as Gi,Q as ea,R as ta,_ as ra,o as ce,c as pe,F as tt,w as rt,v as fr,a as $,n as ia,h as aa,t as lr,i as hr,l as na,m as ur,q as oa}from"./index-65d1153e.js";var re=0,sa=1,gt=2,fa=3,U=4,dr=5,F=0,le=1,la=2,X=-2,ha=-3,ht=-5,ei=-1,ua=1,it=2,da=3,ti=4,ca=0,cr=0,pr=1,ri=2,wt=8;function pa(e,r){return Object.prototype.hasOwnProperty.call(e,r)}function ii(e){for(var r=Array.prototype.slice.call(arguments,1);r.length;){var t=r.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(var i in t)pa(t,i)&&(e[i]=t[i])}}return e}function mt(e,r){return e.length===r?e:e.subarray?e.subarray(0,r):(e.length=r,e)}var Xe={arraySet:function(e,r,t,i,a){if(r.subarray&&e.subarray){e.set(r.subarray(t,t+i),a);return}for(var n=0;n<i;n++)e[a+n]=r[t+n]},flattenChunks:function(e){var r,t,i,a,n,o;for(i=0,r=0,t=e.length;r<t;r++)i+=e[r].length;for(o=new Uint8Array(i),a=0,r=0,t=e.length;r<t;r++)n=e[r],o.set(n,a),a+=n.length;return o},Buf8:function(e){return new Uint8Array(e)},Buf16:function(e){return new Uint16Array(e)},Buf32:function(e){return new Int32Array(e)}},Ye={arraySet:function(e,r,t,i,a){for(var n=0;n<i;n++)e[a+n]=r[t+n]},flattenChunks:function(e){return[].concat.apply([],e)},Buf8:function(e){return new Array(e)},Buf16:function(e){return new Array(e)},Buf32:function(e){return new Array(e)}},Te=function(){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";return Te=function(){return e},e},H=function(e,r,t,i,a){return H=Te()?Xe.arraySet:Ye.arraySet,H(e,r,t,i,a)},yt=function(e){return yt=Te()?Xe.flattenChunks:Ye.flattenChunks,yt(e)},ie=function(e){return ie=Te()?Xe.Buf8:Ye.Buf8,ie(e)},Z=function(e){return Z=Te()?Xe.Buf16:Ye.Buf16,Z(e)},De=function(e){return De=Te()?Xe.Buf32:Ye.Buf32,De(e)},ai=function(){var e=!0;try{String.fromCharCode.apply(null,[0])}catch{e=!1}return ai=function(){return e},e},ni=function(){var e=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{e=!1}return ni=function(){return e},e},Jt=function(e){for(var r=ie(256),t=0;t<256;t++)r[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;return r[254]=r[254]=1,Jt=function(i){return r[i]},r[e]};function kt(e){var r,t,i,a,n,o=e.length,f=0;for(a=0;a<o;a++)t=e.charCodeAt(a),(t&64512)===55296&&a+1<o&&(i=e.charCodeAt(a+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),a++)),f+=t<128?1:t<2048?2:t<65536?3:4;for(r=new Uint8Array(f),n=0,a=0;n<f;a++)t=e.charCodeAt(a),(t&64512)===55296&&a+1<o&&(i=e.charCodeAt(a+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),a++)),t<128?r[n++]=t:t<2048?(r[n++]=192|t>>>6,r[n++]=128|t&63):t<65536?(r[n++]=224|t>>>12,r[n++]=128|t>>>6&63,r[n++]=128|t&63):(r[n++]=240|t>>>18,r[n++]=128|t>>>12&63,r[n++]=128|t>>>6&63,r[n++]=128|t&63);return r}function oi(e,r){if(r<65534&&(e.subarray&&ni()||!e.subarray&&ai()))return String.fromCharCode.apply(null,mt(e,r));for(var t="",i=0;i<r;i++)t+=String.fromCharCode(e[i]);return t}function va(e){return oi(e,e.length)}function _a(e){for(var r=new Uint8Array(e.length),t=0,i=r.length;t<i;t++)r[t]=e.charCodeAt(t);return r}function ga(e,r){var t,i,a,n,o=r||e.length,f=new Array(o*2);for(i=0,t=0;t<o;){if(a=e[t++],a<128){f[i++]=a;continue}if(n=Jt(a),n>4){f[i++]=65533,t+=n-1;continue}for(a&=n===2?31:n===3?15:7;n>1&&t<o;)a=a<<6|e[t++]&63,n--;if(n>1){f[i++]=65533;continue}a<65536?f[i++]=a:(a-=65536,f[i++]=55296|a>>10&1023,f[i++]=56320|a&1023)}return oi(f,i)}function ma(e,r){var t;for(r=r||e.length,r>e.length&&(r=e.length),t=r-1;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?r:t+Jt(e[t])>r?t:r}function je(e,r,t,i){for(var a=e&65535|0,n=e>>>16&65535|0,o=0;t!==0;){o=t>2e3?2e3:t,t-=o;do a=a+r[i++]|0,n=n+a|0;while(--o);a%=65521,n%=65521}return a|n<<16|0}function ya(){for(var e,r=[],t=0;t<256;t++){e=t;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;r[t]=e}return r}var si=function(){var e=ya();return si=function(){return e},e};function R(e,r,t,i){var a=si(),n=i+t;e^=-1;for(var o=i;o<n;o++)e=e>>>8^a[(e^r[o])&255];return e^-1}var at=30,ba=12;function xa(e,r){var t,i,a,n,o,f,h,s,l,v,d,u,_,O,m,g,x,b,c,k,D,p,A,C,y;t=e.state,i=e.next_in,C=e.input,a=i+(e.avail_in-5),n=e.next_out,y=e.output,o=n-(r-e.avail_out),f=n+(e.avail_out-257),h=t.dmax,s=t.wsize,l=t.whave,v=t.wnext,d=t.window,u=t.hold,_=t.bits,O=t.lencode,m=t.distcode,g=(1<<t.lenbits)-1,x=(1<<t.distbits)-1;e:do{_<15&&(u+=C[i++]<<_,_+=8,u+=C[i++]<<_,_+=8),b=O[u&g];t:for(;;){if(c=b>>>24,u>>>=c,_-=c,c=b>>>16&255,c===0)y[n++]=b&65535;else if(c&16){k=b&65535,c&=15,c&&(_<c&&(u+=C[i++]<<_,_+=8),k+=u&(1<<c)-1,u>>>=c,_-=c),_<15&&(u+=C[i++]<<_,_+=8,u+=C[i++]<<_,_+=8),b=m[u&x];r:for(;;){if(c=b>>>24,u>>>=c,_-=c,c=b>>>16&255,c&16){if(D=b&65535,c&=15,_<c&&(u+=C[i++]<<_,_+=8,_<c&&(u+=C[i++]<<_,_+=8)),D+=u&(1<<c)-1,D>h){e.msg="invalid distance too far back",t.mode=at;break e}if(u>>>=c,_-=c,c=n-o,D>c){if(c=D-c,c>l&&t.sane){e.msg="invalid distance too far back",t.mode=at;break e}if(p=0,A=d,v===0){if(p+=s-c,c<k){k-=c;do y[n++]=d[p++];while(--c);p=n-D,A=y}}else if(v<c){if(p+=s+v-c,c-=v,c<k){k-=c;do y[n++]=d[p++];while(--c);if(p=0,v<k){c=v,k-=c;do y[n++]=d[p++];while(--c);p=n-D,A=y}}}else if(p+=v-c,c<k){k-=c;do y[n++]=d[p++];while(--c);p=n-D,A=y}for(;k>2;)y[n++]=A[p++],y[n++]=A[p++],y[n++]=A[p++],k-=3;k&&(y[n++]=A[p++],k>1&&(y[n++]=A[p++]))}else{p=n-D;do y[n++]=y[p++],y[n++]=y[p++],y[n++]=y[p++],k-=3;while(k>2);k&&(y[n++]=y[p++],k>1&&(y[n++]=y[p++]))}}else if(c&64){e.msg="invalid distance code",t.mode=at;break e}else{b=m[(b&65535)+(u&(1<<c)-1)];continue r}break}}else if(c&64)if(c&32){t.mode=ba;break e}else{e.msg="invalid literal/length code",t.mode=at;break e}else{b=O[(b&65535)+(u&(1<<c)-1)];continue t}break}}while(i<a&&n<f);k=_>>3,i-=k,_-=k<<3,u&=(1<<_)-1,e.next_in=i,e.next_out=n,e.avail_in=i<a?5+(a-i):5-(i-a),e.avail_out=n<f?257+(f-n):257-(n-f),t.hold=u,t.bits=_}var ke=15,vr=852,_r=592,gr=0,zt=1,mr=2,wa=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],ka=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Ca=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Sa=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function Ue(e,r,t,i,a,n,o,f){var h=f.bits,s=0,l=0,v=0,d=0,u=0,_=0,O=0,m=0,g=0,x=0,b,c,k,D,p,A=null,C=0,y,S=Z(ke+1),ae=Z(ke+1),we=null,or=0,sr,Ge,et;for(s=0;s<=ke;s++)S[s]=0;for(l=0;l<i;l++)S[r[t+l]]++;for(u=h,d=ke;d>=1&&S[d]===0;d--);if(u>d&&(u=d),d===0)return a[n++]=1<<24|64<<16|0,a[n++]=1<<24|64<<16|0,f.bits=1,0;for(v=1;v<d&&S[v]===0;v++);for(u<v&&(u=v),m=1,s=1;s<=ke;s++)if(m<<=1,m-=S[s],m<0)return-1;if(m>0&&(e===gr||d!==1))return-1;for(ae[1]=0,s=1;s<ke;s++)ae[s+1]=ae[s]+S[s];for(l=0;l<i;l++)r[t+l]!==0&&(o[ae[r[t+l]]++]=l);if(e===gr?(A=we=o,y=19):e===zt?(A=wa,C-=257,we=ka,or-=257,y=256):(A=Ca,we=Sa,y=-1),x=0,l=0,s=v,p=n,_=u,O=0,k=-1,g=1<<u,D=g-1,e===zt&&g>vr||e===mr&&g>_r)return 1;for(;;){sr=s-O,o[l]<y?(Ge=0,et=o[l]):o[l]>y?(Ge=we[or+o[l]],et=A[C+o[l]]):(Ge=32+64,et=0),b=1<<s-O,c=1<<_,v=c;do c-=b,a[p+(x>>O)+c]=sr<<24|Ge<<16|et|0;while(c!==0);for(b=1<<s-1;x&b;)b>>=1;if(b!==0?(x&=b-1,x+=b):x=0,l++,--S[s]===0){if(s===d)break;s=r[t+o[l]]}if(s>u&&(x&D)!==k){for(O===0&&(O=u),p+=v,_=s-O,m=1<<_;_+O<d&&(m-=S[_+O],!(m<=0));)_++,m<<=1;if(g+=1<<_,e===zt&&g>vr||e===mr&&g>_r)return 1;k=x&D,a[k]=u<<24|_<<16|p-n|0}}return x!==0&&(a[p+x]=s-O<<24|64<<16|0),f.bits=u,0}var Ea=0,fi=1,li=2,yr=4,Aa=5,nt=6,ge=0,za=1,Oa=2,Y=-2,hi=-3,ui=-4,Ia=-5,br=8,di=1,xr=2,wr=3,kr=4,Cr=5,Sr=6,Er=7,Ar=8,zr=9,Or=10,bt=11,ne=12,Ot=13,Ir=14,It=15,Dr=16,Tr=17,Fr=18,Pr=19,ot=20,st=21,Br=22,Rr=23,Lr=24,Nr=25,Ur=26,Dt=27,Zr=28,Mr=29,T=30,ci=31,Da=32,Ta=852,Fa=592;function jr(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function Pa(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=Z(320),this.work=Z(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ba(e){var r;return!e||!e.state?Y:(r=e.state,e.total_in=e.total_out=r.total=0,e.msg="",r.wrap&&(e.adler=r.wrap&1),r.mode=di,r.last=0,r.havedict=0,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=De(Ta),r.distcode=r.distdyn=De(Fa),r.sane=1,r.back=-1,ge)}function Ra(e){var r;return!e||!e.state?Y:(r=e.state,r.wsize=0,r.whave=0,r.wnext=0,Ba(e))}function La(e,r){var t,i;return!e||!e.state||(i=e.state,r<0?(t=0,r=-r):(t=(r>>4)+1,r<48&&(r&=15)),r&&(r<8||r>15))?Y:(i.window!==null&&i.wbits!==r&&(i.window=null),i.wrap=t,i.wbits=r,Ra(e))}function Na(e,r){var t,i;return e?(i=new Pa,e.state=i,i.window=null,t=La(e,r),t!==ge&&(e.state=null),t):Y}var $r=!0,Tt,Ft;function Ua(e){if($r){var r;for(Tt=De(512),Ft=De(32),r=0;r<144;)e.lens[r++]=8;for(;r<256;)e.lens[r++]=9;for(;r<280;)e.lens[r++]=7;for(;r<288;)e.lens[r++]=8;for(Ue(fi,e.lens,0,288,Tt,0,e.work,{bits:9}),r=0;r<32;)e.lens[r++]=5;Ue(li,e.lens,0,32,Ft,0,e.work,{bits:5}),$r=!1}e.lencode=Tt,e.lenbits=9,e.distcode=Ft,e.distbits=5}function pi(e,r,t,i){var a,n=e.state;return n.window===null&&(n.wsize=1<<n.wbits,n.wnext=0,n.whave=0,n.window=ie(n.wsize)),i>=n.wsize?(H(n.window,r,t-n.wsize,n.wsize,0),n.wnext=0,n.whave=n.wsize):(a=n.wsize-n.wnext,a>i&&(a=i),H(n.window,r,t-i,a,n.wnext),i-=a,i?(H(n.window,r,t-i,i,0),n.wnext=i,n.whave=n.wsize):(n.wnext+=a,n.wnext===n.wsize&&(n.wnext=0),n.whave<n.wsize&&(n.whave+=a))),0}function Za(e,r){var t,i,a,n,o,f,h,s,l,v,d,u,_,O,m=0,g,x,b,c,k,D,p,A,C=ie(4),y,S,ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return Y;t=e.state,t.mode===ne&&(t.mode=Ot),o=e.next_out,a=e.output,h=e.avail_out,n=e.next_in,i=e.input,f=e.avail_in,s=t.hold,l=t.bits,v=f,d=h,A=ge;e:for(;;)switch(t.mode){case di:if(t.wrap===0){t.mode=Ot;break}for(;l<16;){if(f===0)break e;f--,s+=i[n++]<<l,l+=8}if(t.wrap&2&&s===35615){t.check=0,C[0]=s&255,C[1]=s>>>8&255,t.check=R(t.check,C,2,0),s=0,l=0,t.mode=xr;break}if(t.flags=0,t.head&&(t.head.done=!1),!(t.wrap&1)||(((s&255)<<8)+(s>>8))%31){e.msg="incorrect header check",t.mode=T;break}if((s&15)!==br){e.msg="unknown compression method",t.mode=T;break}if(s>>>=4,l-=4,p=(s&15)+8,t.wbits===0)t.wbits=p;else if(p>t.wbits){e.msg="invalid window size",t.mode=T;break}t.dmax=1<<p,e.adler=t.check=1,t.mode=s&512?Or:ne,s=0,l=0;break;case xr:for(;l<16;){if(f===0)break e;f--,s+=i[n++]<<l,l+=8}if(t.flags=s,(t.flags&255)!==br){e.msg="unknown compression method",t.mode=T;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=T;break}t.head&&(t.head.text=s>>8&1),t.flags&512&&(C[0]=s&255,C[1]=s>>>8&255,t.check=R(t.check,C,2,0)),s=0,l=0,t.mode=wr;case wr:for(;l<32;){if(f===0)break e;f--,s+=i[n++]<<l,l+=8}t.head&&(t.head.time=s),t.flags&512&&(C[0]=s&255,C[1]=s>>>8&255,C[2]=s>>>16&255,C[3]=s>>>24&255,t.check=R(t.check,C,4,0)),s=0,l=0,t.mode=kr;case kr:for(;l<16;){if(f===0)break e;f--,s+=i[n++]<<l,l+=8}t.head&&(t.head.xflags=s&255,t.head.os=s>>8),t.flags&512&&(C[0]=s&255,C[1]=s>>>8&255,t.check=R(t.check,C,2,0)),s=0,l=0,t.mode=Cr;case Cr:if(t.flags&1024){for(;l<16;){if(f===0)break e;f--,s+=i[n++]<<l,l+=8}t.length=s,t.head&&(t.head.extra_len=s),t.flags&512&&(C[0]=s&255,C[1]=s>>>8&255,t.check=R(t.check,C,2,0)),s=0,l=0}else t.head&&(t.head.extra=null);t.mode=Sr;case Sr:if(t.flags&1024&&(u=t.length,u>f&&(u=f),u&&(t.head&&(p=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Array(t.head.extra_len)),H(t.head.extra,i,n,u,p)),t.flags&512&&(t.check=R(t.check,i,u,n)),f-=u,n+=u,t.length-=u),t.length))break e;t.length=0,t.mode=Er;case Er:if(t.flags&2048){if(f===0)break e;u=0;do p=i[n+u++],t.head&&p&&t.length<65536&&(t.head.name+=String.fromCharCode(p));while(p&&u<f);if(t.flags&512&&(t.check=R(t.check,i,u,n)),f-=u,n+=u,p)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Ar;case Ar:if(t.flags&4096){if(f===0)break e;u=0;do p=i[n+u++],t.head&&p&&t.length<65536&&(t.head.comment+=String.fromCharCode(p));while(p&&u<f);if(t.flags&512&&(t.check=R(t.check,i,u,n)),f-=u,n+=u,p)break e}else t.head&&(t.head.comment=null);t.mode=zr;case zr:if(t.flags&512){for(;l<16;){if(f===0)break e;f--,s+=i[n++]<<l,l+=8}if(s!==(t.check&65535)){e.msg="header crc mismatch",t.mode=T;break}s=0,l=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=ne;break;case Or:for(;l<32;){if(f===0)break e;f--,s+=i[n++]<<l,l+=8}e.adler=t.check=jr(s),s=0,l=0,t.mode=bt;case bt:if(t.havedict===0)return e.next_out=o,e.avail_out=h,e.next_in=n,e.avail_in=f,t.hold=s,t.bits=l,Oa;e.adler=t.check=1,t.mode=ne;case ne:if(r===Aa||r===nt)break e;case Ot:if(t.last){s>>>=l&7,l-=l&7,t.mode=Dt;break}for(;l<3;){if(f===0)break e;f--,s+=i[n++]<<l,l+=8}switch(t.last=s&1,s>>>=1,l-=1,s&3){case 0:t.mode=Ir;break;case 1:if(Ua(t),t.mode=ot,r===nt){s>>>=2,l-=2;break e}break;case 2:t.mode=Tr;break;case 3:e.msg="invalid block type",t.mode=T}s>>>=2,l-=2;break;case Ir:for(s>>>=l&7,l-=l&7;l<32;){if(f===0)break e;f--,s+=i[n++]<<l,l+=8}if((s&65535)!==(s>>>16^65535)){e.msg="invalid stored block lengths",t.mode=T;break}if(t.length=s&65535,s=0,l=0,t.mode=It,r===nt)break e;case It:t.mode=Dr;case Dr:if(u=t.length,u){if(u>f&&(u=f),u>h&&(u=h),u===0)break e;H(a,i,n,u,o),f-=u,n+=u,h-=u,o+=u,t.length-=u;break}t.mode=ne;break;case Tr:for(;l<14;){if(f===0)break e;f--,s+=i[n++]<<l,l+=8}if(t.nlen=(s&31)+257,s>>>=5,l-=5,t.ndist=(s&31)+1,s>>>=5,l-=5,t.ncode=(s&15)+4,s>>>=4,l-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=T;break}t.have=0,t.mode=Fr;case Fr:for(;t.have<t.ncode;){for(;l<3;){if(f===0)break e;f--,s+=i[n++]<<l,l+=8}t.lens[ae[t.have++]]=s&7,s>>>=3,l-=3}for(;t.have<19;)t.lens[ae[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,y={bits:t.lenbits},A=Ue(Ea,t.lens,0,19,t.lencode,0,t.work,y),t.lenbits=y.bits,A){e.msg="invalid code lengths set",t.mode=T;break}t.have=0,t.mode=Pr;case Pr:for(;t.have<t.nlen+t.ndist;){for(;m=t.lencode[s&(1<<t.lenbits)-1],g=m>>>24,x=m>>>16&255,b=m&65535,!(g<=l);){if(f===0)break e;f--,s+=i[n++]<<l,l+=8}if(b<16)s>>>=g,l-=g,t.lens[t.have++]=b;else{if(b===16){for(S=g+2;l<S;){if(f===0)break e;f--,s+=i[n++]<<l,l+=8}if(s>>>=g,l-=g,t.have===0){e.msg="invalid bit length repeat",t.mode=T;break}p=t.lens[t.have-1],u=3+(s&3),s>>>=2,l-=2}else if(b===17){for(S=g+3;l<S;){if(f===0)break e;f--,s+=i[n++]<<l,l+=8}s>>>=g,l-=g,p=0,u=3+(s&7),s>>>=3,l-=3}else{for(S=g+7;l<S;){if(f===0)break e;f--,s+=i[n++]<<l,l+=8}s>>>=g,l-=g,p=0,u=11+(s&127),s>>>=7,l-=7}if(t.have+u>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=T;break}for(;u--;)t.lens[t.have++]=p}}if(t.mode===T)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=T;break}if(t.lenbits=9,y={bits:t.lenbits},A=Ue(fi,t.lens,0,t.nlen,t.lencode,0,t.work,y),t.lenbits=y.bits,A){e.msg="invalid literal/lengths set",t.mode=T;break}if(t.distbits=6,t.distcode=t.distdyn,y={bits:t.distbits},A=Ue(li,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,y),t.distbits=y.bits,A){e.msg="invalid distances set",t.mode=T;break}if(t.mode=ot,r===nt)break e;case ot:t.mode=st;case st:if(f>=6&&h>=258){e.next_out=o,e.avail_out=h,e.next_in=n,e.avail_in=f,t.hold=s,t.bits=l,xa(e,d),o=e.next_out,a=e.output,h=e.avail_out,n=e.next_in,i=e.input,f=e.avail_in,s=t.hold,l=t.bits,t.mode===ne&&(t.back=-1);break}for(t.back=0;m=t.lencode[s&(1<<t.lenbits)-1],g=m>>>24,x=m>>>16&255,b=m&65535,!(g<=l);){if(f===0)break e;f--,s+=i[n++]<<l,l+=8}if(x&&!(x&240)){for(c=g,k=x,D=b;m=t.lencode[D+((s&(1<<c+k)-1)>>c)],g=m>>>24,x=m>>>16&255,b=m&65535,!(c+g<=l);){if(f===0)break e;f--,s+=i[n++]<<l,l+=8}s>>>=c,l-=c,t.back+=c}if(s>>>=g,l-=g,t.back+=g,t.length=b,x===0){t.mode=Ur;break}if(x&32){t.back=-1,t.mode=ne;break}if(x&64){e.msg="invalid literal/length code",t.mode=T;break}t.extra=x&15,t.mode=Br;case Br:if(t.extra){for(S=t.extra;l<S;){if(f===0)break e;f--,s+=i[n++]<<l,l+=8}t.length+=s&(1<<t.extra)-1,s>>>=t.extra,l-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Rr;case Rr:for(;m=t.distcode[s&(1<<t.distbits)-1],g=m>>>24,x=m>>>16&255,b=m&65535,!(g<=l);){if(f===0)break e;f--,s+=i[n++]<<l,l+=8}if(!(x&240)){for(c=g,k=x,D=b;m=t.distcode[D+((s&(1<<c+k)-1)>>c)],g=m>>>24,x=m>>>16&255,b=m&65535,!(c+g<=l);){if(f===0)break e;f--,s+=i[n++]<<l,l+=8}s>>>=c,l-=c,t.back+=c}if(s>>>=g,l-=g,t.back+=g,x&64){e.msg="invalid distance code",t.mode=T;break}t.offset=b,t.extra=x&15,t.mode=Lr;case Lr:if(t.extra){for(S=t.extra;l<S;){if(f===0)break e;f--,s+=i[n++]<<l,l+=8}t.offset+=s&(1<<t.extra)-1,s>>>=t.extra,l-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=T;break}t.mode=Nr;case Nr:if(h===0)break e;if(u=d-h,t.offset>u){if(u=t.offset-u,u>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=T;break}u>t.wnext?(u-=t.wnext,_=t.wsize-u):_=t.wnext-u,u>t.length&&(u=t.length),O=t.window}else O=a,_=o-t.offset,u=t.length;u>h&&(u=h),h-=u,t.length-=u;do a[o++]=O[_++];while(--u);t.length===0&&(t.mode=st);break;case Ur:if(h===0)break e;a[o++]=t.length,h--,t.mode=st;break;case Dt:if(t.wrap){for(;l<32;){if(f===0)break e;f--,s|=i[n++]<<l,l+=8}if(d-=h,e.total_out+=d,t.total+=d,d&&(e.adler=t.check=t.flags?R(t.check,a,d,o-d):je(t.check,a,d,o-d)),d=h,(t.flags?s:jr(s))!==t.check){e.msg="incorrect data check",t.mode=T;break}s=0,l=0}t.mode=Zr;case Zr:if(t.wrap&&t.flags){for(;l<32;){if(f===0)break e;f--,s+=i[n++]<<l,l+=8}if(s!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=T;break}s=0,l=0}t.mode=Mr;case Mr:A=za;break e;case T:A=hi;break e;case ci:return ui;case Da:default:return Y}return e.next_out=o,e.avail_out=h,e.next_in=n,e.avail_in=f,t.hold=s,t.bits=l,(t.wsize||d!==e.avail_out&&t.mode<T&&(t.mode<Dt||r!==yr))&&pi(e,e.output,e.next_out,d-e.avail_out),v-=e.avail_in,d-=e.avail_out,e.total_in+=v,e.total_out+=d,t.total+=d,t.wrap&&d&&(e.adler=t.check=t.flags?R(t.check,a,d,e.next_out-d):je(t.check,a,d,e.next_out-d)),e.data_type=t.bits+(t.last?64:0)+(t.mode===ne?128:0)+(t.mode===ot||t.mode===It?256:0),(v===0&&d===0||r===yr)&&A===ge&&(A=Ia),A}function Ma(e){if(!e||!e.state)return Y;var r=e.state;return r.window&&(r.window=null),e.state=null,ge}function ja(e,r){var t;return!e||!e.state||(t=e.state,!(t.wrap&2))?Y:(t.head=r,r.done=!1,ge)}function vi(e,r){var t=r.length,i,a,n;return!e||!e.state||(i=e.state,i.wrap!==0&&i.mode!==bt)?Y:i.mode===bt&&(a=1,a=je(a,r,t,0),a!==i.check)?hi:(n=pi(e,r,t,t),n?(i.mode=ci,ui):(i.havedict=1,ge))}var $e={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function _i(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function $a(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Zt=Object.prototype.toString,Ct=function e(r){if(!(this instanceof e))return new e(r);this.options=ii({chunkSize:16384,windowBits:0,to:""},r||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(r&&r.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _i,this.strm.avail_out=0;var i=Na(this.strm,t.windowBits);if(i!==F)throw new Error($e[i]);if(this.header=new $a,ja(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=kt(t.dictionary):Zt.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(i=vi(this.strm,t.dictionary),i!==F)))throw new Error($e[i])};Ct.prototype.push=function(r,t){var i=this.strm,a=this.options.chunkSize,n=this.options.dictionary,o,f,h,s,l,v,d=!1;if(this.ended)return!1;f=t===~~t?t:t===!0?U:re,typeof r=="string"?i.input=_a(r):Zt.call(r)==="[object ArrayBuffer]"?i.input=new Uint8Array(r):i.input=r,i.next_in=0,i.avail_in=i.input.length;do{if(i.avail_out===0&&(i.output=ie(a),i.next_out=0,i.avail_out=a),o=Za(i,re),o===la&&n&&(typeof n=="string"?v=kt(n):Zt.call(n)==="[object ArrayBuffer]"?v=new Uint8Array(n):v=n,o=vi(this.strm,v)),o===ht&&d===!0&&(o=F,d=!1),o!==le&&o!==F)return this.onEnd(o),this.ended=!0,!1;i.next_out&&(i.avail_out===0||o===le||i.avail_in===0&&(f===U||f===gt))&&(this.options.to==="string"?(h=ma(i.output,i.next_out),s=i.next_out-h,l=ga(i.output,h),i.next_out=s,i.avail_out=a-s,s&&H(i.output,i.output,h,s,0),this.onData(l)):this.onData(mt(i.output,i.next_out))),i.avail_in===0&&i.avail_out===0&&(d=!0)}while((i.avail_in>0||i.avail_out===0)&&o!==le);return o===le&&(f=U),f===U?(o=Ma(this.strm),this.onEnd(o),this.ended=!0,o===F):(f===gt&&(this.onEnd(F),i.avail_out=0),!0)};Ct.prototype.onData=function(r){this.chunks.push(r)};Ct.prototype.onEnd=function(r){r===F&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=yt(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function Ce(e){for(var r=e.length;--r>=0;)e[r]=0}var Ha=0,gi=1,Ka=2,Xa=3,Ya=258,Mt=29,Ve=256,Ze=Ve+1+Mt,Ee=30,Qt=19,mi=2*Ze+1,ve=15,Pt=16,Va=7,qt=256,yi=16,bi=17,xi=18,jt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ut=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Wa=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],wi=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ja=512,q,Ae,ze,Oe,dt,Re;function Bt(e,r,t,i,a){this.static_tree=e,this.extra_bits=r,this.extra_base=t,this.elems=i,this.max_length=a,this.has_stree=e&&e.length}var ki,Ci,Si;function Rt(e,r){this.dyn_tree=e,this.max_code=0,this.stat_desc=r}function Ei(e){return e<256?ze[e]:ze[256+(e>>>7)]}function He(e,r){e.pending_buf[e.pending++]=r&255,e.pending_buf[e.pending++]=r>>>8&255}function M(e,r,t){e.bi_valid>Pt-t?(e.bi_buf|=r<<e.bi_valid&65535,He(e,e.bi_buf),e.bi_buf=r>>Pt-e.bi_valid,e.bi_valid+=t-Pt):(e.bi_buf|=r<<e.bi_valid&65535,e.bi_valid+=t)}function ee(e,r,t){M(e,t[r*2],t[r*2+1])}function Ai(e,r){var t=0;do t|=e&1,e>>>=1,t<<=1;while(--r>0);return t>>>1}function Qa(e){e.bi_valid===16?(He(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function qa(e,r){var t=r.dyn_tree,i=r.max_code,a=r.stat_desc.static_tree,n=r.stat_desc.has_stree,o=r.stat_desc.extra_bits,f=r.stat_desc.extra_base,h=r.stat_desc.max_length,s,l,v,d,u,_,O=0;for(d=0;d<=ve;d++)e.bl_count[d]=0;for(t[e.heap[e.heap_max]*2+1]=0,s=e.heap_max+1;s<mi;s++)l=e.heap[s],d=t[t[l*2+1]*2+1]+1,d>h&&(d=h,O++),t[l*2+1]=d,!(l>i)&&(e.bl_count[d]++,u=0,l>=f&&(u=o[l-f]),_=t[l*2],e.opt_len+=_*(d+u),n&&(e.static_len+=_*(a[l*2+1]+u)));if(O!==0){do{for(d=h-1;e.bl_count[d]===0;)d--;e.bl_count[d]--,e.bl_count[d+1]+=2,e.bl_count[h]--,O-=2}while(O>0);for(d=h;d!==0;d--)for(l=e.bl_count[d];l!==0;)v=e.heap[--s],!(v>i)&&(t[v*2+1]!==d&&(e.opt_len+=(d-t[v*2+1])*t[v*2],t[v*2+1]=d),l--)}}function zi(e,r,t){var i=new Array(ve+1),a=0,n,o;for(n=1;n<=ve;n++)i[n]=a=a+t[n-1]<<1;for(o=0;o<=r;o++){var f=e[o*2+1];f!==0&&(e[o*2]=Ai(i[f]++,f))}}function Ga(){var e,r,t,i,a,n=new Array(ve+1);for(q=new Array((Ze+2)*2),Ce(q),Ae=new Array(Ee*2),Ce(Ae),ze=new Array(Ja),Ce(ze),Oe=new Array(Ya-Xa+1),Ce(Oe),dt=new Array(Mt),Ce(dt),Re=new Array(Ee),Ce(Re),t=0,i=0;i<Mt-1;i++)for(dt[i]=t,e=0;e<1<<jt[i];e++)Oe[t++]=i;for(Oe[t-1]=i,a=0,i=0;i<16;i++)for(Re[i]=a,e=0;e<1<<ut[i];e++)ze[a++]=i;for(a>>=7;i<Ee;i++)for(Re[i]=a<<7,e=0;e<1<<ut[i]-7;e++)ze[256+a++]=i;for(r=0;r<=ve;r++)n[r]=0;for(e=0;e<=143;)q[e*2+1]=8,e++,n[8]++;for(;e<=255;)q[e*2+1]=9,e++,n[9]++;for(;e<=279;)q[e*2+1]=7,e++,n[7]++;for(;e<=287;)q[e*2+1]=8,e++,n[8]++;for(zi(q,Ze+1,n),e=0;e<Ee;e++)Ae[e*2+1]=5,Ae[e*2]=Ai(e,5);ki=new Bt(q,jt,Ve+1,Ze,ve),Ci=new Bt(Ae,ut,0,Ee,ve),Si=new Bt(new Array(0),Wa,0,Qt,Va)}function Oi(e){var r;for(r=0;r<Ze;r++)e.dyn_ltree[r*2]=0;for(r=0;r<Ee;r++)e.dyn_dtree[r*2]=0;for(r=0;r<Qt;r++)e.bl_tree[r*2]=0;e.dyn_ltree[qt*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Ii(e){e.bi_valid>8?He(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function en(e,r,t,i){Ii(e),i&&(He(e,t),He(e,~t)),H(e.pending_buf,e.window,r,t,e.pending),e.pending+=t}function Hr(e,r,t,i){var a=r*2,n=t*2;return e[a]<e[n]||e[a]===e[n]&&i[r]<=i[t]}function Lt(e,r,t){for(var i=e.heap[t],a=t<<1;a<=e.heap_len&&(a<e.heap_len&&Hr(r,e.heap[a+1],e.heap[a],e.depth)&&a++,!Hr(r,i,e.heap[a],e.depth));)e.heap[t]=e.heap[a],t=a,a<<=1;e.heap[t]=i}function Kr(e,r,t){var i,a,n=0,o,f;if(e.last_lit!==0)do i=e.pending_buf[e.d_buf+n*2]<<8|e.pending_buf[e.d_buf+n*2+1],a=e.pending_buf[e.l_buf+n],n++,i===0?ee(e,a,r):(o=Oe[a],ee(e,o+Ve+1,r),f=jt[o],f!==0&&(a-=dt[o],M(e,a,f)),i--,o=Ei(i),ee(e,o,t),f=ut[o],f!==0&&(i-=Re[o],M(e,i,f)));while(n<e.last_lit);ee(e,qt,r)}function $t(e,r){var t=r.dyn_tree,i=r.stat_desc.static_tree,a=r.stat_desc.has_stree,n=r.stat_desc.elems,o,f,h=-1,s;for(e.heap_len=0,e.heap_max=mi,o=0;o<n;o++)t[o*2]!==0?(e.heap[++e.heap_len]=h=o,e.depth[o]=0):t[o*2+1]=0;for(;e.heap_len<2;)s=e.heap[++e.heap_len]=h<2?++h:0,t[s*2]=1,e.depth[s]=0,e.opt_len--,a&&(e.static_len-=i[s*2+1]);for(r.max_code=h,o=e.heap_len>>1;o>=1;o--)Lt(e,t,o);s=n;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Lt(e,t,1),f=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=f,t[s*2]=t[o*2]+t[f*2],e.depth[s]=(e.depth[o]>=e.depth[f]?e.depth[o]:e.depth[f])+1,t[o*2+1]=t[f*2+1]=s,e.heap[1]=s++,Lt(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],qa(e,r),zi(t,h,e.bl_count)}function Xr(e,r,t){var i,a=-1,n,o=r[0*2+1],f=0,h=7,s=4;for(o===0&&(h=138,s=3),r[(t+1)*2+1]=65535,i=0;i<=t;i++)n=o,o=r[(i+1)*2+1],!(++f<h&&n===o)&&(f<s?e.bl_tree[n*2]+=f:n!==0?(n!==a&&e.bl_tree[n*2]++,e.bl_tree[yi*2]++):f<=10?e.bl_tree[bi*2]++:e.bl_tree[xi*2]++,f=0,a=n,o===0?(h=138,s=3):n===o?(h=6,s=3):(h=7,s=4))}function Yr(e,r,t){var i,a=-1,n,o=r[0*2+1],f=0,h=7,s=4;for(o===0&&(h=138,s=3),i=0;i<=t;i++)if(n=o,o=r[(i+1)*2+1],!(++f<h&&n===o)){if(f<s)do ee(e,n,e.bl_tree);while(--f!==0);else n!==0?(n!==a&&(ee(e,n,e.bl_tree),f--),ee(e,yi,e.bl_tree),M(e,f-3,2)):f<=10?(ee(e,bi,e.bl_tree),M(e,f-3,3)):(ee(e,xi,e.bl_tree),M(e,f-11,7));f=0,a=n,o===0?(h=138,s=3):n===o?(h=6,s=3):(h=7,s=4)}}function tn(e){var r;for(Xr(e,e.dyn_ltree,e.l_desc.max_code),Xr(e,e.dyn_dtree,e.d_desc.max_code),$t(e,e.bl_desc),r=Qt-1;r>=3&&e.bl_tree[wi[r]*2+1]===0;r--);return e.opt_len+=3*(r+1)+5+5+4,r}function rn(e,r,t,i){var a;for(M(e,r-257,5),M(e,t-1,5),M(e,i-4,4),a=0;a<i;a++)M(e,e.bl_tree[wi[a]*2+1],3);Yr(e,e.dyn_ltree,r-1),Yr(e,e.dyn_dtree,t-1)}function an(e){var r=4093624447,t;for(t=0;t<=31;t++,r>>>=1)if(r&1&&e.dyn_ltree[t*2]!==0)return cr;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return pr;for(t=32;t<Ve;t++)if(e.dyn_ltree[t*2]!==0)return pr;return cr}var Vr=!1;function nn(e){Vr||(Ga(),Vr=!0),e.l_desc=new Rt(e.dyn_ltree,ki),e.d_desc=new Rt(e.dyn_dtree,Ci),e.bl_desc=new Rt(e.bl_tree,Si),e.bi_buf=0,e.bi_valid=0,Oi(e)}function Di(e,r,t,i){M(e,(Ha<<1)+(i?1:0),3),en(e,r,t,!0)}function on(e){M(e,gi<<1,3),ee(e,qt,q),Qa(e)}function sn(e,r,t,i){var a,n,o=0;e.level>0?(e.strm.data_type===ri&&(e.strm.data_type=an(e)),$t(e,e.l_desc),$t(e,e.d_desc),o=tn(e),a=e.opt_len+3+7>>>3,n=e.static_len+3+7>>>3,n<=a&&(a=n)):a=n=t+5,t+4<=a&&r!==-1?Di(e,r,t,i):e.strategy===ti||n===a?(M(e,(gi<<1)+(i?1:0),3),Kr(e,q,Ae)):(M(e,(Ka<<1)+(i?1:0),3),rn(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),Kr(e,e.dyn_ltree,e.dyn_dtree)),Oi(e),i&&Ii(e)}function de(e,r,t){return e.pending_buf[e.d_buf+e.last_lit*2]=r>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=r&255,e.pending_buf[e.l_buf+e.last_lit]=t&255,e.last_lit++,r===0?e.dyn_ltree[t*2]++:(e.matches++,r--,e.dyn_ltree[(Oe[t]+Ve+1)*2]++,e.dyn_dtree[Ei(r)*2]++),e.last_lit===e.lit_bufsize-1}var fn=9,ln=29,hn=256,Ht=hn+1+ln,un=30,dn=19,cn=2*Ht+1,pn=15,w=3,he=258,V=he+w+1,vn=32,St=42,Kt=69,ct=73,pt=91,vt=103,_e=113,Le=666,P=1,We=2,me=3,Fe=4,_n=3;function ue(e,r){return e.msg=$e[r],r}function Wr(e){return(e<<1)-(e>4?9:0)}function fe(e){for(var r=e.length;--r>=0;)e[r]=0}function se(e){var r=e.state,t=r.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(H(e.output,r.pending_buf,r.pending_out,t,e.next_out),e.next_out+=t,r.pending_out+=t,e.total_out+=t,e.avail_out-=t,r.pending-=t,r.pending===0&&(r.pending_out=0))}function L(e,r){sn(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,r),e.block_start=e.strstart,se(e.strm)}function E(e,r){e.pending_buf[e.pending++]=r}function Be(e,r){e.pending_buf[e.pending++]=r>>>8&255,e.pending_buf[e.pending++]=r&255}function gn(e,r,t,i){var a=e.avail_in;return a>i&&(a=i),a===0?0:(e.avail_in-=a,H(r,e.input,e.next_in,a,t),e.state.wrap===1?e.adler=je(e.adler,r,a,t):e.state.wrap===2&&(e.adler=R(e.adler,r,a,t)),e.next_in+=a,e.total_in+=a,a)}function Ti(e,r){var t=e.max_chain_length,i=e.strstart,a,n,o=e.prev_length,f=e.nice_match,h=e.strstart>e.w_size-V?e.strstart-(e.w_size-V):0,s=e.window,l=e.w_mask,v=e.prev,d=e.strstart+he,u=s[i+o-1],_=s[i+o];e.prev_length>=e.good_match&&(t>>=2),f>e.lookahead&&(f=e.lookahead);do if(a=r,!(s[a+o]!==_||s[a+o-1]!==u||s[a]!==s[i]||s[++a]!==s[i+1])){i+=2,a++;do;while(s[++i]===s[++a]&&s[++i]===s[++a]&&s[++i]===s[++a]&&s[++i]===s[++a]&&s[++i]===s[++a]&&s[++i]===s[++a]&&s[++i]===s[++a]&&s[++i]===s[++a]&&i<d);if(n=he-(d-i),i=d-he,n>o){if(e.match_start=r,o=n,n>=f)break;u=s[i+o-1],_=s[i+o]}}while((r=v[r&l])>h&&--t!==0);return o<=e.lookahead?o:e.lookahead}function ye(e){var r=e.w_size,t,i,a,n,o;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=r+(r-V)){H(e.window,e.window,r,r,0),e.match_start-=r,e.strstart-=r,e.block_start-=r,i=e.hash_size,t=i;do a=e.head[--t],e.head[t]=a>=r?a-r:0;while(--i);i=r,t=i;do a=e.prev[--t],e.prev[t]=a>=r?a-r:0;while(--i);n+=r}if(e.strm.avail_in===0)break;if(i=gn(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=i,e.lookahead+e.insert>=w)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+w-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<w)););}while(e.lookahead<V&&e.strm.avail_in!==0)}function mn(e,r){var t=65535;for(t>e.pending_buf_size-5&&(t=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ye(e),e.lookahead===0&&r===re)return P;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+t;if((e.strstart===0||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,L(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-V&&(L(e,!1),e.strm.avail_out===0))return P}return e.insert=0,r===U?(L(e,!0),e.strm.avail_out===0?me:Fe):(e.strstart>e.block_start&&(L(e,!1),e.strm.avail_out===0),P)}function Nt(e,r){for(var t,i;;){if(e.lookahead<V){if(ye(e),e.lookahead<V&&r===re)return P;if(e.lookahead===0)break}if(t=0,e.lookahead>=w&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+w-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-V&&(e.match_length=Ti(e,t)),e.match_length>=w)if(i=de(e,e.strstart-e.match_start,e.match_length-w),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=w){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+w-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=de(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(L(e,!1),e.strm.avail_out===0))return P}return e.insert=e.strstart<w-1?e.strstart:w-1,r===U?(L(e,!0),e.strm.avail_out===0?me:Fe):e.last_lit&&(L(e,!1),e.strm.avail_out===0)?P:We}function Se(e,r){for(var t,i,a;;){if(e.lookahead<V){if(ye(e),e.lookahead<V&&r===re)return P;if(e.lookahead===0)break}if(t=0,e.lookahead>=w&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+w-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=w-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-V&&(e.match_length=Ti(e,t),e.match_length<=5&&(e.strategy===ua||e.match_length===w&&e.strstart-e.match_start>4096)&&(e.match_length=w-1)),e.prev_length>=w&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-w,i=de(e,e.strstart-1-e.prev_match,e.prev_length-w),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+w-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=w-1,e.strstart++,i&&(L(e,!1),e.strm.avail_out===0))return P}else if(e.match_available){if(i=de(e,0,e.window[e.strstart-1]),i&&L(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return P}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=de(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<w-1?e.strstart:w-1,r===U?(L(e,!0),e.strm.avail_out===0?me:Fe):e.last_lit&&(L(e,!1),e.strm.avail_out===0)?P:We}function yn(e,r){for(var t,i,a,n,o=e.window;;){if(e.lookahead<=he){if(ye(e),e.lookahead<=he&&r===re)return P;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=w&&e.strstart>0&&(a=e.strstart-1,i=o[a],i===o[++a]&&i===o[++a]&&i===o[++a])){n=e.strstart+he;do;while(i===o[++a]&&i===o[++a]&&i===o[++a]&&i===o[++a]&&i===o[++a]&&i===o[++a]&&i===o[++a]&&i===o[++a]&&a<n);e.match_length=he-(n-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=w?(t=de(e,1,e.match_length-w),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=de(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(L(e,!1),e.strm.avail_out===0))return P}return e.insert=0,r===U?(L(e,!0),e.strm.avail_out===0?me:Fe):e.last_lit&&(L(e,!1),e.strm.avail_out===0)?P:We}function bn(e,r){for(var t;;){if(e.lookahead===0&&(ye(e),e.lookahead===0)){if(r===re)return P;break}if(e.match_length=0,t=de(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(L(e,!1),e.strm.avail_out===0))return P}return e.insert=0,r===U?(L(e,!0),e.strm.avail_out===0?me:Fe):e.last_lit&&(L(e,!1),e.strm.avail_out===0)?P:We}function Q(e,r,t,i,a){this.good_length=e,this.max_lazy=r,this.nice_length=t,this.max_chain=i,this.func=a}var Gt=function(){var e=[new Q(0,0,0,0,mn),new Q(4,4,8,4,Nt),new Q(4,5,16,8,Nt),new Q(4,6,32,32,Nt),new Q(4,4,16,16,Se),new Q(8,16,32,32,Se),new Q(8,16,128,128,Se),new Q(8,32,128,256,Se),new Q(32,128,258,1024,Se),new Q(32,258,258,4096,Se)];return Gt=function(){return e},e};function xn(e){e.window_size=2*e.w_size,fe(e.head);var r=Gt();e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=w-1,e.match_available=0,e.ins_h=0}function wn(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=wt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=Z(cn*2),this.dyn_dtree=Z((2*un+1)*2),this.bl_tree=Z((2*dn+1)*2),fe(this.dyn_ltree),fe(this.dyn_dtree),fe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=Z(pn+1),this.heap=Z(2*Ht+1),fe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=Z(2*Ht+1),fe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function kn(e){var r;return!e||!e.state?ue(e,X):(e.total_in=e.total_out=0,e.data_type=ri,r=e.state,r.pending=0,r.pending_out=0,r.wrap<0&&(r.wrap=-r.wrap),r.status=r.wrap?St:_e,e.adler=r.wrap===2?0:1,r.last_flush=re,nn(r),F)}function Cn(e){var r=kn(e);return r===F&&xn(e.state),r}function Sn(e,r){return!e||!e.state||e.state.wrap!==2?X:(e.state.gzhead=r,F)}function En(e,r,t,i,a,n){if(!e)return X;var o=1;if(r===ei&&(r=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),a<1||a>fn||t!==wt||i<8||i>15||r<0||r>9||n<0||n>ti)return ue(e,X);i===8&&(i=9);var f=new wn;return e.state=f,f.strm=e,f.wrap=o,f.gzhead=null,f.w_bits=i,f.w_size=1<<f.w_bits,f.w_mask=f.w_size-1,f.hash_bits=a+7,f.hash_size=1<<f.hash_bits,f.hash_mask=f.hash_size-1,f.hash_shift=~~((f.hash_bits+w-1)/w),f.window=ie(f.w_size*2),f.head=Z(f.hash_size),f.prev=Z(f.w_size),f.lit_bufsize=1<<a+6,f.pending_buf_size=f.lit_bufsize*4,f.pending_buf=ie(f.pending_buf_size),f.d_buf=1*f.lit_bufsize,f.l_buf=(1+2)*f.lit_bufsize,f.level=r,f.strategy=n,f.method=t,Cn(e)}function An(e,r){var t,i,a,n;if(!e||!e.state||r>dr||r<0)return e?ue(e,X):X;if(i=e.state,!e.output||!e.input&&e.avail_in!==0||i.status===Le&&r!==U)return ue(e,e.avail_out===0?ht:X);if(i.strm=e,t=i.last_flush,i.last_flush=r,i.status===St)if(i.wrap===2)e.adler=0,E(i,31),E(i,139),E(i,8),i.gzhead?(E(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),E(i,i.gzhead.time&255),E(i,i.gzhead.time>>8&255),E(i,i.gzhead.time>>16&255),E(i,i.gzhead.time>>24&255),E(i,i.level===9?2:i.strategy>=it||i.level<2?4:0),E(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(E(i,i.gzhead.extra.length&255),E(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=R(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=Kt):(E(i,0),E(i,0),E(i,0),E(i,0),E(i,0),E(i,i.level===9?2:i.strategy>=it||i.level<2?4:0),E(i,_n),i.status=_e);else{var o=wt+(i.w_bits-8<<4)<<8,f=-1;i.strategy>=it||i.level<2?f=0:i.level<6?f=1:i.level===6?f=2:f=3,o|=f<<6,i.strstart!==0&&(o|=vn),o+=31-o%31,i.status=_e,Be(i,o),i.strstart!==0&&(Be(i,e.adler>>>16),Be(i,e.adler&65535)),e.adler=1}if(i.status===Kt)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(i.gzhead.extra.length&65535)&&!(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=R(e.adler,i.pending_buf,i.pending-a,a)),se(e),a=i.pending,i.pending===i.pending_buf_size));)E(i,i.gzhead.extra[i.gzindex]&255),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=R(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=ct)}else i.status=ct;if(i.status===ct)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=R(e.adler,i.pending_buf,i.pending-a,a)),se(e),a=i.pending,i.pending===i.pending_buf_size)){n=1;break}i.gzindex<i.gzhead.name.length?n=i.gzhead.name.charCodeAt(i.gzindex++)&255:n=0,E(i,n)}while(n!==0);i.gzhead.hcrc&&i.pending>a&&(e.adler=R(e.adler,i.pending_buf,i.pending-a,a)),n===0&&(i.gzindex=0,i.status=pt)}else i.status=pt;if(i.status===pt)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=R(e.adler,i.pending_buf,i.pending-a,a)),se(e),a=i.pending,i.pending===i.pending_buf_size)){n=1;break}i.gzindex<i.gzhead.comment.length?n=i.gzhead.comment.charCodeAt(i.gzindex++)&255:n=0,E(i,n)}while(n!==0);i.gzhead.hcrc&&i.pending>a&&(e.adler=R(e.adler,i.pending_buf,i.pending-a,a)),n===0&&(i.status=vt)}else i.status=vt;if(i.status===vt&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&se(e),i.pending+2<=i.pending_buf_size&&(E(i,e.adler&255),E(i,e.adler>>8&255),e.adler=0,i.status=_e)):i.status=_e),i.pending!==0){if(se(e),e.avail_out===0)return i.last_flush=-1,F}else if(e.avail_in===0&&Wr(r)<=Wr(t)&&r!==U)return ue(e,ht);if(i.status===Le&&e.avail_in!==0)return ue(e,ht);if(e.avail_in!==0||i.lookahead!==0||r!==re&&i.status!==Le){var h=i.strategy===it?bn(i,r):i.strategy===da?yn(i,r):Gt()[i.level].func(i,r);if((h===me||h===Fe)&&(i.status=Le),h===P||h===me)return e.avail_out===0&&(i.last_flush=-1),F;if(h===We&&(r===sa?on(i):r!==dr&&(Di(i,0,0,!1),r===fa&&(fe(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),se(e),e.avail_out===0))return i.last_flush=-1,F}return r!==U?F:i.wrap<=0?le:(i.wrap===2?(E(i,e.adler&255),E(i,e.adler>>8&255),E(i,e.adler>>16&255),E(i,e.adler>>24&255),E(i,e.total_in&255),E(i,e.total_in>>8&255),E(i,e.total_in>>16&255),E(i,e.total_in>>24&255)):(Be(i,e.adler>>>16),Be(i,e.adler&65535)),se(e),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?F:le)}function zn(e){var r;return!e||!e.state?X:(r=e.state.status,r!==St&&r!==Kt&&r!==ct&&r!==pt&&r!==vt&&r!==_e&&r!==Le?ue(e,X):(e.state=null,r===_e?ue(e,ha):F))}function On(e,r){var t=r.length,i,a,n,o,f,h,s,l;if(!e||!e.state||(i=e.state,o=i.wrap,o===2||o===1&&i.status!==St||i.lookahead))return X;for(o===1&&(e.adler=je(e.adler,r,t,0)),i.wrap=0,t>=i.w_size&&(o===0&&(fe(i.head),i.strstart=0,i.block_start=0,i.insert=0),l=ie(i.w_size),H(l,r,t-i.w_size,i.w_size,0),r=l,t=i.w_size),f=e.avail_in,h=e.next_in,s=e.input,e.avail_in=t,e.next_in=0,e.input=r,ye(i);i.lookahead>=w;){a=i.strstart,n=i.lookahead-(w-1);do i.ins_h=(i.ins_h<<i.hash_shift^i.window[a+w-1])&i.hash_mask,i.prev[a&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=a,a++;while(--n);i.strstart=a,i.lookahead=w-1,ye(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=w-1,i.match_available=0,e.next_in=h,e.input=s,e.avail_in=f,i.wrap=o,F}var Fi=Object.prototype.toString,Et=function(r){this.options=ii({level:ei,method:wt,chunkSize:16384,windowBits:15,memLevel:8,strategy:ca,to:""},r||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _i,this.strm.avail_out=0;var i=En(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==F)throw new Error($e[i]);if(t.header&&Sn(this.strm,t.header),t.dictionary){var a;if(typeof t.dictionary=="string"?a=kt(t.dictionary):Fi.call(t.dictionary)==="[object ArrayBuffer]"?a=new Uint8Array(t.dictionary):a=t.dictionary,i=On(this.strm,a),i!==F)throw new Error($e[i]);this._dict_set=!0}};Et.prototype.push=function(r,t){var i=this.strm,a=this.options.chunkSize,n,o;if(this.ended)return!1;o=t===~~t?t:t===!0?U:re,typeof r=="string"?i.input=kt(r):Fi.call(r)==="[object ArrayBuffer]"?i.input=new Uint8Array(r):i.input=r,i.next_in=0,i.avail_in=i.input.length;do{if(i.avail_out===0&&(i.output=ie(a),i.next_out=0,i.avail_out=a),n=An(i,o),n!==le&&n!==F)return this.onEnd(n),this.ended=!0,!1;(i.avail_out===0||i.avail_in===0&&(o===U||o===gt))&&(this.options.to==="string"?this.onData(va(mt(i.output,i.next_out))):this.onData(mt(i.output,i.next_out)))}while((i.avail_in>0||i.avail_out===0)&&n!==le);return o===U?(n=zn(this.strm),this.onEnd(n),this.ended=!0,n===F):(o===gt&&(this.onEnd(F),i.avail_out=0),!0)};Et.prototype.onData=function(r){this.chunks.push(r)};Et.prototype.onEnd=function(r){r===F&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=yt(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};var te={Promise},N={base64:!0,array:!0,string:!0,nodebuffer:!1,nodestream:!1,get arraybuffer(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"},get uint8array(){return typeof Uint8Array<"u"},get blob(){return Pi()}},Pi=function(){var e;if(typeof ArrayBuffer>"u")e=!1;else{var r=new ArrayBuffer(0);try{e=new Blob([r],{type:"application/zip"}).size===0}catch{e=!1}}return Pi=function(){return e},e},G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",In=function(e){for(var r=[],t,i,a,n,o,f,h,s=0,l=e.length,v=l,d=typeof e!="string";s<e.length;)v=l-s,d?(t=e[s++],i=s<l?e[s++]:0,a=s<l?e[s++]:0):(t=e.charCodeAt(s++),i=s<l?e.charCodeAt(s++):0,a=s<l?e.charCodeAt(s++):0),n=t>>2,o=(t&3)<<4|i>>4,f=v>1?(i&15)<<2|a>>6:64,h=v>2?a&63:64,r.push(G.charAt(n)+G.charAt(o)+G.charAt(f)+G.charAt(h));return r.join("")},Dn=function(e){var r,t,i,a,n,o,f,h=0,s=0,l="data:";if(e.substr(0,l.length)===l)throw new Error("Invalid base64 input, it looks like a data url.");e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var v=e.length*3/4;if(e.charAt(e.length-1)===G.charAt(64)&&v--,e.charAt(e.length-2)===G.charAt(64)&&v--,v%1!==0)throw new Error("Invalid base64 input, bad content length.");var d;for(N.uint8array?d=new Uint8Array(v|0):d=new Array(v|0);h<e.length;)a=G.indexOf(e.charAt(h++)),n=G.indexOf(e.charAt(h++)),o=G.indexOf(e.charAt(h++)),f=G.indexOf(e.charAt(h++)),r=a<<2|n>>4,t=(n&15)<<4|o>>2,i=(o&3)<<6|f,d[s++]=r,o!==64&&(d[s++]=t),f!==64&&(d[s++]=i);return d};function Tn(e){var r=null;return N.uint8array?r=new Uint8Array(e.length):r=new Array(e.length),Xt(e,r)}var Fn=function(e,r){return Je("blob"),new Blob([e],{type:r})};function ft(e){return e}function Xt(e,r){for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)&255;return r}function Pn(e,r,t){var i=[],a=0,n=e.length;if(n<=t)return String.fromCharCode.apply(null,e);for(;a<n;)r==="array"?i.push(String.fromCharCode.apply(null,e.slice(a,Math.min(a+t,n)))):i.push(String.fromCharCode.apply(null,e.subarray(a,Math.min(a+t,n)))),a+=t;return i.join("")}function Bn(e){for(var r="",t=0;t<e.length;t++)r+=String.fromCharCode(e[t]);return r}var Bi=function(){var e;try{e=N.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{e=!1}return Bi=function(){return e},e};function _t(e){var r=65536,t=xe(e),i=!0;if(t==="uint8array"&&(i=Bi()),i)for(;r>1;)try{return Pn(e,t,r)}catch{r=Math.floor(r/2)}return Bn(e)}var Rn=_t;function Jr(e,r){for(var t=0;t<e.length;t++)r[t]=e[t];return r}var Ri={string:{string:ft,array:function(e){return Xt(e,new Array(e.length))},arraybuffer:function(e){return Ri.string.uint8array(e).buffer},uint8array:function(e){return Xt(e,new Uint8Array(e.length))}},array:{string:_t,array:ft,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)}},arraybuffer:{string:function(e){return _t(new Uint8Array(e))},array:function(e){return Jr(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:ft,uint8array:function(e){return new Uint8Array(e)}},uint8array:{string:_t,array:function(e){return Jr(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:ft}},B=function(e,r){if(r||(r=""),!e)return r;Je(e);var t=xe(r),i=Ri[t][e](r);return i},xe=function(e){if(typeof e=="string")return"string";if(Object.prototype.toString.call(e)==="[object Array]")return"array";if(N.uint8array&&e instanceof Uint8Array)return"uint8array";if(N.arraybuffer&&e instanceof ArrayBuffer)return"arraybuffer"},Je=function(e){var r=N[e.toLowerCase()];if(!r)throw new Error(e+" is not supported by this platform")},lt=65535,Ie=-1,Yt=function(e){var r="",t,i;for(i=0;i<(e||"").length;i++)t=e.charCodeAt(i),r+="\\x"+(t<16?"0":"")+t.toString(16).toUpperCase();return r},xt=function(e,r,t){setTimeout(function(){e.apply(t||null,r||[])},0)},er=function(){var e=arguments,r={},t,i;for(t=0;t<arguments.length;t++)for(i in arguments[t])Object.hasOwnProperty.call(e[t],i)&&typeof r[i]>"u"&&(r[i]=e[t][i]);return r},Li=function(e,r,t,i,a){var n=te.Promise.resolve(r).then(function(o){var f=N.blob&&(o instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(o))!==-1);return f&&typeof FileReader<"u"?new te.Promise(function(h,s){var l=new FileReader;l.onload=function(v){h(v.target.result)},l.onerror=function(v){s(v.target.error)},l.readAsArrayBuffer(o)}):o});return n.then(function(o){var f=xe(o);return f?(f==="arraybuffer"?o=B("uint8array",o):f==="string"&&(a?o=Dn(o):t&&i!==!0&&(o=Tn(o))),o):te.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})},z=function(r){this.name=r||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null};z.prototype.push=function(r){this.emit("data",r)};z.prototype.end=function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(r){this.emit("error",r)}return!0};z.prototype.error=function(r){return this.isFinished?!1:(this.isPaused?this.generatedError=r:(this.isFinished=!0,this.emit("error",r),this.previous&&this.previous.error(r),this.cleanUp()),!0)};z.prototype.on=function(r,t){return this._listeners[r].push(t),this};z.prototype.cleanUp=function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]};z.prototype.emit=function(r,t){if(this._listeners[r])for(var i=0;i<this._listeners[r].length;i++)this._listeners[r][i].call(this,t)};z.prototype.pipe=function(r){return r.registerPrevious(this)};z.prototype.registerPrevious=function(r){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=r.streamInfo,this.mergeStreamInfo(),this.previous=r;var t=this;return r.on("data",function(i){t.processChunk(i)}),r.on("end",function(){t.end()}),r.on("error",function(i){t.error(i)}),this};z.prototype.pause=function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)};z.prototype.resume=function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var r=!1;return this.generatedError&&(this.error(this.generatedError),r=!0),this.previous&&this.previous.resume(),!r};z.prototype.flush=function(){};z.prototype.processChunk=function(r){this.push(r)};z.prototype.withStreamInfo=function(r,t){return this.extraStreamInfo[r]=t,this.mergeStreamInfo(),this};z.prototype.mergeStreamInfo=function(){for(var r in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(r)&&(this.streamInfo[r]=this.extraStreamInfo[r])};z.prototype.lock=function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()};z.prototype.toString=function(){var r="Worker "+this.name;return this.previous?this.previous+" -> "+r:r};var tr=function(e){for(var r=new Array(256),t=0;t<256;t++)r[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;return r[254]=r[254]=1,tr=function(i){return r[i]},r[e]},Ln=function(e){var r,t,i,a,n,o=e.length,f=0;for(a=0;a<o;a++)t=e.charCodeAt(a),(t&64512)===55296&&a+1<o&&(i=e.charCodeAt(a+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),a++)),f+=t<128?1:t<2048?2:t<65536?3:4;for(N.uint8array?r=new Uint8Array(f):r=new Array(f),n=0,a=0;n<f;a++)t=e.charCodeAt(a),(t&64512)===55296&&a+1<o&&(i=e.charCodeAt(a+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),a++)),t<128?r[n++]=t:t<2048?(r[n++]=192|t>>>6,r[n++]=128|t&63):t<65536?(r[n++]=224|t>>>12,r[n++]=128|t>>>6&63,r[n++]=128|t&63):(r[n++]=240|t>>>18,r[n++]=128|t>>>12&63,r[n++]=128|t>>>6&63,r[n++]=128|t&63);return r},Nn=function(e,r){var t;for(r=r||e.length,r>e.length&&(r=e.length),t=r-1;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?r:t+tr(e[t])>r?t:r},Un=function(e){var r,t,i,a,n=e.length,o=new Array(n*2);for(t=0,r=0;r<n;){if(i=e[r++],i<128){o[t++]=i;continue}if(a=tr(i),a>4){o[t++]=65533,r+=a-1;continue}for(i&=a===2?31:a===3?15:7;a>1&&r<n;)i=i<<6|e[r++]&63,a--;if(a>1){o[t++]=65533;continue}i<65536?o[t++]=i:(i-=65536,o[t++]=55296|i>>10&1023,o[t++]=56320|i&1023)}return o.length!==t&&(o.subarray?o=o.subarray(0,t):o.length=t),Rn(o)},Me=function(r){return Ln(r)},be=function(r){return r=B(N.uint8array?"uint8array":"array",r),Un(r)},Zn=function(e){function r(){e.call(this,"utf-8 decode"),this.leftOver=null}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.processChunk=function(i){var a=B(N.uint8array?"uint8array":"array",i.data);if(this.leftOver&&this.leftOver.length){if(N.uint8array){var n=a;a=new Uint8Array(n.length+this.leftOver.length),a.set(this.leftOver,0),a.set(n,this.leftOver.length)}else a=this.leftOver.concat(a);this.leftOver=null}var o=Nn(a),f=a;o!==a.length&&(N.uint8array?(f=a.subarray(0,o),this.leftOver=a.subarray(o,a.length)):(f=a.slice(0,o),this.leftOver=a.slice(o,a.length))),this.push({data:be(f),meta:i.meta})},r.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:be(this.leftOver),meta:{}}),this.leftOver=null)},r}(z),Ni=function(e){function r(){e.call(this,"utf-8 encode")}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.processChunk=function(i){this.push({data:Me(i.data),meta:i.meta})},r}(z),Mn=function(e){function r(t){e.call(this,"ConvertWorker to "+t),this.destType=t}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.processChunk=function(i){this.push({data:B(this.destType,i.data),meta:i.meta})},r}(z);function jn(e,r,t){switch(e){case"blob":return Fn(B("arraybuffer",r),t);case"base64":return In(r);default:return B(e,r)}}function $n(e,r){var t,i=0,a=null,n=0;for(t=0;t<r.length;t++)n+=r[t].length;switch(e){case"string":return r.join("");case"array":return Array.prototype.concat.apply([],r);case"uint8array":for(a=new Uint8Array(n),t=0;t<r.length;t++)a.set(r[t],i),i+=r[t].length;return a;default:throw new Error("concat : unsupported type '"+e+"'")}}function Hn(e,r){return new te.Promise(function(t,i){var a=[],n=e._internalType,o=e._outputType,f=e._mimeType;e.on("data",function(h,s){a.push(h),r&&r(s)}).on("error",function(h){a=[],i(h)}).on("end",function(){try{var h=jn(o,$n(n,a),f);t(h)}catch(s){i(s)}a=[]}).resume()})}var Pe=function(r,t,i){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string";break}try{this._internalType=a,this._outputType=t,this._mimeType=i,Je(a),this._worker=r.pipe(new Mn(a)),r.lock()}catch(n){this._worker=new z("error"),this._worker.error(n)}};Pe.prototype.accumulate=function(r){return Hn(this,r)};Pe.prototype.on=function(r,t){var i=this;return r==="data"?this._worker.on(r,function(a){t.call(i,a.data,a.meta)}):this._worker.on(r,function(){xt(t,arguments,i)}),this};Pe.prototype.resume=function(){return xt(this._worker.resume,[],this._worker),this};Pe.prototype.pause=function(){return this._worker.pause(),this};var Kn=!1,Xn=!1,Yn=!1,Ui=!0,Vn=null,Wn=null,Jn=null,Qn=null,qn=null,Gn=null,Zi=Object.freeze({__proto__:null,base64:Kn,binary:Xn,dir:Yn,createFolders:Ui,date:Vn,compression:Wn,compressionOptions:Jn,comment:Qn,unixPermissions:qn,dosPermissions:Gn}),eo=16*1024,rr=function(e){function r(t){e.call(this,"DataWorker");var i=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(a){i.dataIsReady=!0,i.data=a,i.max=a&&a.length||0,i.type=xe(a),i.isPaused||i._tickAndRepeat()},function(a){i.error(a)})}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.cleanUp=function(){e.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return e.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,xt(this._tickAndRepeat,[],this)),!0):!1},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(xt(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var i=eo,a=null,n=Math.min(this.max,this.index+i);if(this.index>=this.max)return this.end();switch(this.type){case"string":a=this.data.substring(this.index,n);break;case"uint8array":a=this.data.subarray(this.index,n);break;case"array":a=this.data.slice(this.index,n);break}return this.index=n,this.push({data:a,meta:{percent:this.max?this.index/this.max*100:0}})},r}(z),Vt=function(e){function r(t){e.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.processChunk=function(i){if(i){var a=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=a+i.data.length}e.prototype.processChunk.call(this,i)},r}(z),ir=function(){for(var e=[],r=0;r<256;r++){for(var t=r,i=0;i<8;i++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return ir=function(){return e},e};function to(e,r,t,i){var a=ir(),n=i+t;e=e^-1;for(var o=i;o<n;o++)e=e>>>8^a[(e^r[o])&255];return e^-1}function ro(e,r,t,i){var a=ir(),n=i+t;e=e^-1;for(var o=i;o<n;o++)e=e>>>8^a[(e^r.charCodeAt(o))&255];return e^-1}function Ke(e,r){if(typeof e>"u"||!e.length)return 0;var t=xe(e)!=="string";return t?to(r|0,e,e.length,0):ro(r|0,e,e.length,0)}var Mi=function(e){function r(){e.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.processChunk=function(i){this.streamInfo.crc32=Ke(i.data,this.streamInfo.crc32||0),this.push(i)},r}(z),oe=function(r,t,i,a,n){this.compressedSize=r,this.uncompressedSize=t,this.crc32=i,this.compression=a,this.compressedContent=n};oe.prototype.getContentWorker=function(){var r=new rr(te.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new Vt("data_length")),t=this;return r.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),r};oe.prototype.getCompressedWorker=function(){return new rr(te.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)};oe.createWorkerFrom=function(r,t,i){return r.pipe(new Mi).pipe(new Vt("uncompressedSize")).pipe(t.compressWorker(i)).pipe(new Vt("compressedSize")).withStreamInfo("compression",t)};var Qe=function(r,t,i){this.name=r,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=t,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}};Qe.prototype.internalStream=function(r){var t=null,i="string";try{if(!r)throw new Error("No output type specified.");i=r.toLowerCase();var a=i==="string"||i==="text";(i==="binarystring"||i==="text")&&(i="string"),t=this._decompressWorker();var n=!this._dataBinary;n&&!a&&(t=t.pipe(new Ni)),!n&&a&&(t=t.pipe(new Zn))}catch(o){t=new z("error"),t.error(o)}return new Pe(t,i,"")};Qe.prototype.async=function(r,t){return this.internalStream(r).accumulate(t)};Qe.prototype._compressWorker=function(r,t){if(this._data instanceof oe&&this._data.compression.magic===r.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new Ni)),oe.createWorkerFrom(i,r,t)};Qe.prototype._decompressWorker=function(){return this._data instanceof oe?this._data.getContentWorker():this._data instanceof z?this._data:new rr(this._data)};var ji=function(){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",r=e?"uint8array":"array";ji=function(){return r}},Qr=function(e){function r(t,i){e.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=i,this.meta={}}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.processChunk=function(i){this.meta=i.meta,this._pako===null&&this._createPako(),this._pako.push(B(ji(),i.data),!1)},r.prototype.flush=function(){e.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},r.prototype.cleanUp=function(){e.prototype.cleanUp.call(this),this._pako=null},r.prototype._createPako=function(){var i=this,a={raw:!0,level:this._pakoOptions.level||-1};this._pako=this._pakoAction==="Deflate"?new Et(a):new Ct(a),this._pako.onData=function(n){i.push({data:n,meta:i.meta})}},r}(z),io={magic:"\b\0",compressWorker:function(e){return new Qr("Deflate",e)},uncompressWorker:function(){return new Qr("Inflate",{})}},ao={magic:"\0\0",compressWorker:function(){return new z("STORE compression")},uncompressWorker:function(){return new z("STORE decompression")}},Ne={STORE:ao,DEFLATE:io},ar="PK",nr="PK",Wt="PK",qr="PK\x07",Ut="PK",no="PK\x07\b",I=function(e,r){var t="",i;for(i=0;i<r;i++)t+=String.fromCharCode(e&255),e=e>>>8;return t},oo=function(e,r){var t=e;return e||(t=r?16893:33204),(t&65535)<<16},so=function(e,r){return(e||0)&63},Gr=function(e,r,t,i,a,n){var o=e.file,f=e.compression,h=n!==Me,s=B("string",n(o.name)),l=B("string",Me(o.name)),v=o.comment,d=B("string",n(v)),u=B("string",Me(v)),_=l.length!==o.name.length,O=u.length!==v.length,m,g,x="",b="",c="",k=o.dir,D=o.date,p={crc32:0,compressedSize:0,uncompressedSize:0};(!r||t)&&(p.crc32=e.crc32,p.compressedSize=e.compressedSize,p.uncompressedSize=e.uncompressedSize);var A=0;r&&(A|=8),!h&&(_||O)&&(A|=2048);var C=0,y=0;k&&(C|=16),a==="UNIX"?(y=798,C|=oo(o.unixPermissions,k)):(y=20,C|=so(o.dosPermissions)),m=D.getUTCHours(),m=m<<6,m=m|D.getUTCMinutes(),m=m<<5,m=m|D.getUTCSeconds()/2,g=D.getUTCFullYear()-1980,g=g<<4,g=g|D.getUTCMonth()+1,g=g<<5,g=g|D.getUTCDate(),_&&(b=I(1,1)+I(Ke(s),4)+l,x+="up"+I(b.length,2)+b),O&&(c=I(1,1)+I(Ke(d),4)+u,x+="uc"+I(c.length,2)+c);var S="";S+=`
\0`,S+=I(A,2),S+=f.magic,S+=I(m,2),S+=I(g,2),S+=I(p.crc32,4),S+=I(p.compressedSize,4),S+=I(p.uncompressedSize,4),S+=I(s.length,2),S+=I(x.length,2);var ae=ar+S+s+x,we=nr+I(y,2)+S+I(d.length,2)+"\0\0\0\0"+I(C,4)+I(i,4)+s+x+d;return{fileRecord:ae,dirRecord:we}},fo=function(e,r,t,i,a){var n="",o=B("string",a(i));return n=Wt+"\0\0\0\0"+I(e,2)+I(e,2)+I(r,4)+I(t,4)+I(o.length,2)+o,n},lo=function(e){var r="";return r=no+I(e.crc32,4)+I(e.compressedSize,4)+I(e.uncompressedSize,4),r},ho=function(e){function r(t,i,a,n){e.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=i,this.zipPlatform=a,this.encodeFileName=n,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.push=function(i){var a=i.meta.percent||0,n=this.entriesCount,o=this._sources.length;this.accumulate?this.contentBuffer.push(i):(this.bytesWritten+=i.data.length,e.prototype.push.call(this,{data:i.data,meta:{currentFile:this.currentFile,percent:n?(a+100*(n-o-1))/n:100}}))},r.prototype.openedSource=function(i){this.currentSourceOffset=this.bytesWritten,this.currentFile=i.file.name;var a=this.streamFiles&&!i.file.dir;if(a){var n=Gr(i,a,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},r.prototype.closedSource=function(i){this.accumulate=!1;var a=this.streamFiles&&!i.file.dir,n=Gr(i,a,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),a)this.push({data:lo(i),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},r.prototype.flush=function(){for(var i=this.bytesWritten,a=0;a<this.dirRecords.length;a++)this.push({data:this.dirRecords[a],meta:{percent:100}});var n=this.bytesWritten-i,o=fo(this.dirRecords.length,n,i,this.zipComment,this.encodeFileName);this.push({data:o,meta:{percent:100}})},r.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},r.prototype.registerPrevious=function(i){this._sources.push(i);var a=this;return i.on("data",function(n){a.processChunk(n)}),i.on("end",function(){a.closedSource(a.previous.streamInfo),a._sources.length?a.prepareNextSource():a.end()}),i.on("error",function(n){a.error(n)}),this},r.prototype.resume=function(){if(!e.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},r.prototype.error=function(i){var a=this._sources;if(!e.prototype.error.call(this,i))return!1;for(var n=0;n<a.length;n++)try{a[n].error(i)}catch{}return!0},r.prototype.lock=function(){e.prototype.lock.call(this);for(var i=this._sources,a=0;a<i.length;a++)i[a].lock()},r}(z),uo=function(e,r){var t=e||r,i=Ne[t];if(!i)throw new Error(t+" is not a valid compression method !");return i},co=function(e,r,t){var i=new ho(r.streamFiles,t,r.platform,r.encodeFileName),a=0;try{e.forEach(function(n,o){a++;var f=uo(o.options.compression,r.compression),h=o.options.compressionOptions||r.compressionOptions||{},s=o.dir,l=o.date;o._compressWorker(f,h).withStreamInfo("file",{name:n,dir:s,date:l,comment:o.comment||"",unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions}).pipe(i)}),i.entriesCount=a}catch(n){i.error(n)}return i},K=function(r){this.data=r,this.length=r.length,this.index=0,this.zero=0};K.prototype.checkOffset=function(r){this.checkIndex(this.index+r)};K.prototype.checkIndex=function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")};K.prototype.setIndex=function(r){this.checkIndex(r),this.index=r};K.prototype.skip=function(r){this.setIndex(this.index+r)};K.prototype.byteAt=function(r){};K.prototype.readInt=function(r){var t=0,i;for(this.checkOffset(r),i=this.index+r-1;i>=this.index;i--)t=(t<<8)+this.byteAt(i);return this.index+=r,t};K.prototype.readString=function(r){return B("string",this.readData(r))};K.prototype.readData=function(r){};K.prototype.lastIndexOfSignature=function(r){};K.prototype.readAndCheckSignature=function(r){};K.prototype.readDate=function(){var r=this.readInt(4);return new Date(Date.UTC((r>>25&127)+1980,(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(r&31)<<1))};var $i=function(e){function r(t){e.call(this,t);for(var i=0;i<this.data.length;i++)t[i]=t[i]&255}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.byteAt=function(i){return this.data[this.zero+i]},r.prototype.lastIndexOfSignature=function(i){for(var a=i.charCodeAt(0),n=i.charCodeAt(1),o=i.charCodeAt(2),f=i.charCodeAt(3),h=this.length-4;h>=0;--h)if(this.data[h]===a&&this.data[h+1]===n&&this.data[h+2]===o&&this.data[h+3]===f)return h-this.zero;return-1},r.prototype.readAndCheckSignature=function(i){var a=i.charCodeAt(0),n=i.charCodeAt(1),o=i.charCodeAt(2),f=i.charCodeAt(3),h=this.readData(4);return a===h[0]&&n===h[1]&&o===h[2]&&f===h[3]},r.prototype.readData=function(i){if(this.checkOffset(i),i===0)return[];var a=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,a},r}(K),po=function(e){function r(t){e.call(this,t)}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.byteAt=function(i){return this.data.charCodeAt(this.zero+i)},r.prototype.lastIndexOfSignature=function(i){return this.data.lastIndexOf(i)-this.zero},r.prototype.readAndCheckSignature=function(i){var a=this.readData(4);return i===a},r.prototype.readData=function(i){this.checkOffset(i);var a=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,a},r}(K),vo=function(e){function r(t){e.call(this,t)}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.readData=function(i){if(this.checkOffset(i),i===0)return new Uint8Array(0);var a=this.data.subarray(this.zero+this.index,this.zero+this.index+i);return this.index+=i,a},r}($i);function At(e){var r=xe(e);return Je(r),r==="string"&&!N.uint8array?new po(e):N.uint8array?new vo(B("uint8array",e)):new $i(B("array",e))}var _o=0,go=3,mo=function(e){for(var r in Ne)if(Ne.hasOwnProperty(r)&&Ne[r].magic===e)return Ne[r];return null},W=function(r,t){this.options=r,this.loadOptions=t};W.prototype.isEncrypted=function(){return(this.bitFlag&1)===1};W.prototype.useUTF8=function(){return(this.bitFlag&2048)===2048};W.prototype.readLocalPart=function(r){var t,i;if(r.skip(22),this.fileNameLength=r.readInt(2),i=r.readInt(2),this.fileName=r.readData(this.fileNameLength),r.skip(i),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(t=mo(this.compressionMethod),t===null)throw new Error("Corrupted zip : compression "+Yt(this.compressionMethod)+" unknown (inner file : "+B("string",this.fileName)+")");this.decompressed=new oe(this.compressedSize,this.uncompressedSize,this.crc32,t,r.readData(this.compressedSize))};W.prototype.readCentralPart=function(r){this.versionMadeBy=r.readInt(2),r.skip(2),this.bitFlag=r.readInt(2),this.compressionMethod=r.readString(2),this.date=r.readDate(),this.crc32=r.readInt(4),this.compressedSize=r.readInt(4),this.uncompressedSize=r.readInt(4);var t=r.readInt(2);if(this.extraFieldsLength=r.readInt(2),this.fileCommentLength=r.readInt(2),this.diskNumberStart=r.readInt(2),this.internalFileAttributes=r.readInt(2),this.externalFileAttributes=r.readInt(4),this.localHeaderOffset=r.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");r.skip(t),this.readExtraFields(r),this.parseZIP64ExtraField(r),this.fileComment=r.readData(this.fileCommentLength)};W.prototype.processAttributes=function(){this.unixPermissions=null,this.dosPermissions=null;var r=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),r===_o&&(this.dosPermissions=this.externalFileAttributes&63),r===go&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)};W.prototype.parseZIP64ExtraField=function(r){if(this.extraFields[1]){var t=At(this.extraFields[1].value);this.uncompressedSize===Ie&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===Ie&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===Ie&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===Ie&&(this.diskNumberStart=t.readInt(4))}};W.prototype.readExtraFields=function(r){var t=r.index+this.extraFieldsLength,i,a,n;for(this.extraFields||(this.extraFields={});r.index<t;)i=r.readInt(2),a=r.readInt(2),n=r.readData(a),this.extraFields[i]={id:i,length:a,value:n}};W.prototype.handleUTF8=function(){var r=N.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=be(this.fileName),this.fileCommentStr=be(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(t!==null)this.fileNameStr=t;else{var i=B(r,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var a=this.findExtraFieldUnicodeComment();if(a!==null)this.fileCommentStr=a;else{var n=B(r,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(n)}}};W.prototype.findExtraFieldUnicodePath=function(){var r=this.extraFields[28789];if(r){var t=At(r.value);return t.readInt(1)!==1||Ke(this.fileName)!==t.readInt(4)?null:be(t.readData(r.length-5))}return null};W.prototype.findExtraFieldUnicodeComment=function(){var r=this.extraFields[25461];if(r){var t=At(r.value);return t.readInt(1)!==1||Ke(this.fileComment)!==t.readInt(4)?null:be(t.readData(r.length-5))}return null};var J=function(r){this.files=[],this.loadOptions=r};J.prototype.checkSignature=function(r){if(!this.reader.readAndCheckSignature(r)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+Yt(t)+", expected "+Yt(r)+")")}};J.prototype.isSignature=function(r,t){var i=this.reader.index;this.reader.setIndex(r);var a=this.reader.readString(4),n=a===t;return this.reader.setIndex(i),n};J.prototype.readBlockEndOfCentral=function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var r=this.reader.readData(this.zipCommentLength),t=N.uint8array?"uint8array":"array",i=B(t,r);this.zipComment=this.loadOptions.decodeFileName(i)};J.prototype.readBlockZip64EndOfCentral=function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var r=this.zip64EndOfCentralSize-44,t=0,i,a,n;t<r;)i=this.reader.readInt(2),a=this.reader.readInt(4),n=this.reader.readData(a),this.zip64ExtensibleData[i]={id:i,length:a,value:n}};J.prototype.readBlockZip64EndOfCentralLocator=function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")};J.prototype.readLocalFiles=function(){var r,t;for(r=0;r<this.files.length;r++)t=this.files[r],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(ar),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()};J.prototype.readCentralDir=function(){var r;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(nr);)r=new W({zip64:this.zip64},this.loadOptions),r.readCentralPart(this.reader),this.files.push(r);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)};J.prototype.readEndOfCentral=function(){var r=this.reader.lastIndexOfSignature(Wt);if(r<0){var t=!this.isSignature(0,ar);throw t?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(r);var i=r;if(this.checkSignature(Wt),this.readBlockEndOfCentral(),this.diskNumber===lt||this.diskWithCentralDirStart===lt||this.centralDirRecordsOnThisDisk===lt||this.centralDirRecords===lt||this.centralDirSize===Ie||this.centralDirOffset===Ie){if(this.zip64=!0,r=this.reader.lastIndexOfSignature(qr),r<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(r),this.checkSignature(qr),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,Ut)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(Ut),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(Ut),this.readBlockZip64EndOfCentral()}var a=this.centralDirOffset+this.centralDirSize;this.zip64&&(a+=20,a+=12+this.zip64EndOfCentralSize);var n=i-a;if(n>0)this.isSignature(i,nr)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")};J.prototype.prepareReader=function(r){this.reader=At(r)};J.prototype.load=function(r){this.prepareReader(r),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()};function yo(e){return new te.Promise(function(r,t){var i=e.decompressed.getContentWorker().pipe(new Mi);i.on("error",function(a){t(a)}).on("end",function(){i.streamInfo.crc32!==e.decompressed.crc32?t(new Error("Corrupted zip : CRC32 mismatch")):r()}).resume()})}function bo(e,r){var t=this;return r=er(r||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:be}),Li("the loaded zip file",e,!0,r.optimizedBinaryString,r.base64).then(function(i){var a=new J(r);return a.load(i),a}).then(function(a){var n=[te.Promise.resolve(a)],o=a.files;if(r.checkCRC32)for(var f=0;f<o.length;f++)n.push(yo(o[f]));return te.Promise.all(n)}).then(function(a){for(var n=a.shift(),o=n.files,f=0;f<o.length;f++){var h=o[f];t.file(h.fileNameStr,h.decompressed,{binary:!0,optimizedBinaryString:!0,date:h.date,dir:h.dir,comment:h.fileCommentStr.length?h.fileCommentStr:null,unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions,createFolders:r.createFolders})}return n.zipComment.length&&(t.comment=n.zipComment),t})}var Hi=function(e,r,t){var i=xe(r),a,n=er(t||{},Zi);n.date=n.date||new Date,n.compression!==null&&(n.compression=n.compression.toUpperCase()),typeof n.unixPermissions=="string"&&(n.unixPermissions=parseInt(n.unixPermissions,8)),n.unixPermissions&&n.unixPermissions&16384&&(n.dir=!0),n.dosPermissions&&n.dosPermissions&16&&(n.dir=!0),n.dir&&(e=Ki(e)),n.createFolders&&(a=xo(e))&&Xi.call(this,a,!0);var o=i==="string"&&n.binary===!1&&n.base64===!1;(!t||typeof t.binary>"u")&&(n.binary=!o);var f=r instanceof oe&&r.uncompressedSize===0;(f||n.dir||!r||r.length===0)&&(n.base64=!1,n.binary=!0,r="",n.compression="STORE",i="string");var h=null;r instanceof oe||r instanceof z?h=r:h=Li(e,r,n.binary,n.optimizedBinaryString,n.base64);var s=new Qe(e,h,n);this.files[e]=s},xo=function(e){e.slice(-1)==="/"&&(e=e.substring(0,e.length-1));var r=e.lastIndexOf("/");return r>0?e.substring(0,r):""},Ki=function(e){return e.slice(-1)!=="/"&&(e+="/"),e},Xi=function(e,r){return r=typeof r<"u"?r:Ui,e=Ki(e),this.files[e]||Hi.call(this,e,null,{dir:!0,createFolders:r}),this.files[e]};function Yi(e){return Object.prototype.toString.call(e)==="[object RegExp]"}var j=function e(){if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var r=new e;for(var t in this)typeof this[t]!="function"&&(r[t]=this[t]);return r}},qe={support:{configurable:!0},defaults:{configurable:!0},version:{configurable:!0},external:{configurable:!0}};j.prototype.load=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")};j.prototype.forEach=function(r){var t,i,a;for(t in this.files)a=this.files[t],i=t.slice(this.root.length,t.length),i&&t.slice(0,this.root.length)===this.root&&r(i,a)};j.prototype.filter=function(r){var t=[];return this.forEach(function(i,a){r(i,a)&&t.push(a)}),t};j.prototype.file=function(r,t,i){if(arguments.length===1)if(Yi(r)){var a=r;return this.filter(function(o,f){return!f.dir&&a.test(o)})}else{var n=this.files[this.root+r];return n&&!n.dir?n:null}else r=this.root+r,Hi.call(this,r,t,i);return this};j.prototype.folder=function(r){if(!r)return this;if(Yi(r))return this.filter(function(n,o){return o.dir&&r.test(n)});var t=this.root+r,i=Xi.call(this,t),a=this.clone();return a.root=i.name,a};j.prototype.remove=function(r){r=this.root+r;var t=this.files[r];if(t||(r.slice(-1)!=="/"&&(r+="/"),t=this.files[r]),t&&!t.dir)delete this.files[r];else for(var i=this.filter(function(n,o){return o.name.slice(0,r.length)===r}),a=0;a<i.length;a++)delete this.files[i[a].name];return this};j.prototype.generate=function(r){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")};j.prototype.generateInternalStream=function(r){var t,i={};try{if(i=er(r||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:Me}),i.type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),i.type==="binarystring"&&(i.type="string"),!i.type)throw new Error("No output type specified.");Je(i.type),(i.platform==="darwin"||i.platform==="freebsd"||i.platform==="linux"||i.platform==="sunos")&&(i.platform="UNIX"),i.platform==="win32"&&(i.platform="DOS");var a=i.comment||this.comment||"";t=co(this,i,a)}catch(n){t=new z("error"),t.error(n)}return new Pe(t,i.type||"string",i.mimeType)};j.prototype.generateAsync=function(r,t){return this.generateInternalStream(r).accumulate(t)};j.prototype.loadAsync=function(r,t){return bo.apply(this,[r,t])};j.loadAsync=function(r,t){return new j().loadAsync(r,t)};qe.support.get=function(){return N};qe.defaults.get=function(){return Zi};qe.version.get=function(){return"3.2.2-esm"};qe.external.get=function(){return te};Object.defineProperties(j,qe);const wo=Ji({name:"SimulationToolbar",props:{showCycles:{type:Boolean,default:!1},showChartOptions:{type:Boolean,default:!1}},setup(){const e=Qi(),r=qi({get:()=>e.currentCycle.value,set:a=>{e.currentCycle.value=Math.min(Math.max(Number(a),0),e.calculatedCycles.value-1)}}),t=Gi(null),i=()=>{r.value=Number(r.value)+1,t.value&&r.value===e.calculatedCycles.value-1&&(clearInterval(t.value),t.value=null)};return ea(()=>{e.cyclesToCalculate.value=Math.min(Math.max(Number(e.cyclesToCalculate.value),0),Wi)}),{isModelInputValid:e.isModelInputValid,useBoxChart:e.useBoxChart,calculatedCycles:e.calculatedCycles,cyclesToCalculate:e.cyclesToCalculate,currentCycle:r,timer:t,calculate(){e.runSimulation()},toggleTimer(){t.value?(clearInterval(t.value),t.value=null):(t.value=setInterval(i,250),i())},async saveData(){const a=e.sim.value;if(!a)return;const n=new j;n.file("input.csv",a.serializeInputData()),n.file("feature.csv",a.serializeFeatureData()),n.file("phoneme.csv",a.serializePhonemeData()),n.file("word.csv",a.serializeWordData()),n.file("levels-and-flows.csv",a.serializeLevelsAndFlowData()),n.file("chart-data.csv",ta(e.analysisData.value,!1).map(o=>o.join(",")).join(`
`)),Vi.saveAs(await n.generateAsync({type:"blob"}),"tracejs-sim.zip")}}}}),ko="_toolbar_114pn_2",Co={toolbar:ko},So=$("label",{for:"cycles-to-calculate"},"Cycles to calculate:",-1),Eo=$("label",{for:"current-cycle",style:{"margin-left":"2.5rem"}},"Current cycle:",-1),Ao={class:"select"},zo=["value"],Oo=["max"],Io={key:1,class:"checkbox",style:{"margin-left":"2rem"}},Do={style:{flex:"1"}};function To(e,r,t,i,a,n){return ce(),pe("div",{class:oa(e.$style.toolbar)},[e.isModelInputValid?(ce(),pe(tt,{key:0},[So,rt($("input",{"onUpdate:modelValue":r[0]||(r[0]=o=>e.cyclesToCalculate=o),class:"input",id:"cycles-to-calculate",type:"number",style:{width:"6rem",margin:"0 0.5rem"}},null,512),[[fr,e.cyclesToCalculate]]),$("a",{class:"button",onClick:r[1]||(r[1]=(...o)=>e.calculate&&e.calculate(...o))},"Simulate"),e.showCycles&&e.calculatedCycles?(ce(),pe(tt,{key:0},[Eo,$("a",{style:{"margin-left":"0.5rem"},class:"button",onClick:r[2]||(r[2]=o=>e.currentCycle=Number(e.currentCycle)-1)}," - "),$("div",Ao,[rt($("select",{id:"current-cycle","onUpdate:modelValue":r[3]||(r[3]=o=>e.currentCycle=o)},[(ce(!0),pe(tt,null,aa(e.calculatedCycles,(o,f)=>(ce(),pe("option",{key:f,value:f},lr(f),9,zo))),128))],512),[[ia,e.currentCycle]])]),$("a",{class:"button",onClick:r[4]||(r[4]=o=>e.currentCycle=Number(e.currentCycle)+1)},"+"),rt($("input",{"onUpdate:modelValue":r[5]||(r[5]=o=>e.currentCycle=o),style:{"margin-left":"0.5rem",width:"200px"},class:"slider",step:"1",min:"0",max:e.calculatedCycles-1,type:"range"},null,8,Oo),[[fr,e.currentCycle]]),$("a",{style:{"margin-left":"0.5rem"},class:"button",onClick:r[6]||(r[6]=(...o)=>e.toggleTimer&&e.toggleTimer(...o))},lr(e.timer?"stop animation":"start animation"),1)],64)):hr("",!0),e.showChartOptions?(ce(),pe("label",Io,[rt($("input",{type:"checkbox","onUpdate:modelValue":r[7]||(r[7]=o=>e.useBoxChart=o)},null,512),[[na,e.useBoxChart]]),ur(" Visualize word/phoneme activations ")])):hr("",!0),$("div",Do,[$("a",{class:"button",onClick:r[8]||(r[8]=(...o)=>e.saveData&&e.saveData(...o)),style:{float:"right"}},"Save sim data")])],64)):(ce(),pe(tt,{key:1},[ur(" The provided model input contains invalid characters. ")],64))],2)}const Fo={$style:Co},Ro=ra(wo,[["render",To],["__cssModules",Fo]]);export{Ro as S};
